/*! For license information please see main.e7e1bdc8.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},122:e=>{e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,o,i;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(o=r;0!==o--;)if(!e(t[o],n[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(i=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(o=r;0!==o--;)if(!Object.prototype.hasOwnProperty.call(n,i[o]))return!1;for(o=r;0!==o--;){var a=i[o];if(!e(t[a],n[a]))return!1}return!0}return t!==t&&n!==n}},153:(e,t,n)=>{var r=n(43),o=Symbol.for("react.element"),i=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,i={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:o,type:e,key:c,ref:u,props:i,_owner:s.current}}t.Fragment=i,t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),f=Symbol.iterator;var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,h={};function y(e,t,n){this.props=e,this.context=t,this.refs=h,this.updater=n||g}function b(){}function x(e,t,n){this.props=e,this.context=t,this.refs=h,this.updater=n||g}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=y.prototype;var v=x.prototype=new b;v.constructor=x,m(v,y.prototype),v.isPureReactComponent=!0;var w=Array.isArray,N=Object.prototype.hasOwnProperty,k={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function j(e,t,r){var o,i={},a=null,s=null;if(null!=t)for(o in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)N.call(t,o)&&!S.hasOwnProperty(o)&&(i[o]=t[o]);var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(o in l=e.defaultProps)void 0===i[o]&&(i[o]=l[o]);return{$$typeof:n,type:e,key:a,ref:s,props:i,_owner:k.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function _(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,o,i,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===i?"."+_(l,0):i,w(a)?(o="",null!=e&&(o=e.replace(C,"$&/")+"/"),T(a,t,o,"",(function(e){return e}))):null!=a&&(E(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,o+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(C,"$&/")+"/")+e)),t.push(a)),1;if(l=0,i=""===i?".":i+":",w(e))for(var c=0;c<e.length;c++){var u=i+_(s=e[c],c);l+=T(s,t,o,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=T(s=s.value,t,o,u=i+_(s,c++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function O(e,t,n){if(null==e)return e;var r=[],o=0;return T(e,r,"","",(function(e){return t.call(n,e,o++)})),r}function D(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var I={current:null},P={transition:null},R={ReactCurrentDispatcher:I,ReactCurrentBatchConfig:P,ReactCurrentOwner:k};function A(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:O,forEach:function(e,t,n){O(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return O(e,(function(){t++})),t},toArray:function(e){return O(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=o,t.Profiler=a,t.PureComponent=x,t.StrictMode=i,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.act=A,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=m({},e.props),i=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=k.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)N.call(t,c)&&!S.hasOwnProperty(c)&&(o[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)o.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];o.children=l}return{$$typeof:n,type:e.type,key:i,ref:a,props:o,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=j,t.createFactory=function(e){var t=j.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=A,t.useCallback=function(e,t){return I.current.useCallback(e,t)},t.useContext=function(e){return I.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return I.current.useDeferredValue(e)},t.useEffect=function(e,t){return I.current.useEffect(e,t)},t.useId=function(){return I.current.useId()},t.useImperativeHandle=function(e,t,n){return I.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return I.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return I.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return I.current.useMemo(e,t)},t.useReducer=function(e,t,n){return I.current.useReducer(e,t,n)},t.useRef=function(e){return I.current.useRef(e)},t.useState=function(e){return I.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return I.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return I.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<i(o,t)))break e;e[r]=t,e[n]=o,n=r}}function r(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,a=o>>>1;r<a;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>i(l,n))c<o&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<o&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,p=null,f=3,g=!1,m=!1,h=!1,y="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function v(e){for(var t=r(u);null!==t;){if(null===t.callback)o(u);else{if(!(t.startTime<=e))break;o(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(h=!1,v(e),!m)if(null!==r(c))m=!0,P(N);else{var t=r(u);null!==t&&R(w,t.startTime-e)}}function N(e,n){m=!1,h&&(h=!1,b(E),E=-1),g=!0;var i=f;try{for(v(n),p=r(c);null!==p&&(!(p.expirationTime>n)||e&&!T());){var a=p.callback;if("function"===typeof a){p.callback=null,f=p.priorityLevel;var s=a(p.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?p.callback=s:p===r(c)&&o(c),v(n)}else o(c);p=r(c)}if(null!==p)var l=!0;else{var d=r(u);null!==d&&R(w,d.startTime-n),l=!1}return l}finally{p=null,f=i,g=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,S=!1,j=null,E=-1,C=5,_=-1;function T(){return!(t.unstable_now()-_<C)}function O(){if(null!==j){var e=t.unstable_now();_=e;var n=!0;try{n=j(!0,e)}finally{n?k():(S=!1,j=null)}}else S=!1}if("function"===typeof x)k=function(){x(O)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,I=D.port2;D.port1.onmessage=O,k=function(){I.postMessage(null)}}else k=function(){y(O,0)};function P(e){j=e,S||(S=!0,k())}function R(e,n){E=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||g||(m=!0,P(N))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,o,i){var a=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?a+i:a:i=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:o,priorityLevel:e,startTime:i,expirationTime:s=i+s,sortIndex:-1},i>a?(e.sortIndex=i,n(u,e),null===r(c)&&e===r(u)&&(h?(b(E),E=-1):h=!0,R(w,i-a))):(e.sortIndex=s,n(c,e),m||g||(m=!0,P(N))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},579:(e,t,n)=>{e.exports=n(153)},730:(e,t,n)=>{var r=n(43),o=n(853);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},g={};function m(e,t,n,r,o,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var h={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){h[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];h[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){h[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){h[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){h[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){h[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){h[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){h[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){h[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function x(e,t,n,r){var o=h.hasOwnProperty(t)?h[t]:null;(null!==o?0!==o.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,r)&&(n=null),r||null===o?function(e){return!!d.call(g,e)||!d.call(f,e)&&(p.test(e)?g[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,b);h[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,b);h[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,b);h[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){h[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),h.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){h[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var v=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),N=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),C=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),I=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function A(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var L,M=Object.assign;function F(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var z=!1;function $(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var o=c.stack.split("\n"),i=r.stack.split("\n"),a=o.length-1,s=i.length-1;1<=a&&0<=s&&o[a]!==i[s];)s--;for(;1<=a&&0<=s;a--,s--)if(o[a]!==i[s]){if(1!==a||1!==s)do{if(a--,0>--s||o[a]!==i[s]){var l="\n"+o[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=s);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function U(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=$(e.type,!1);case 11:return e=$(e.type.render,!1);case 1:return e=$(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case N:return"Portal";case j:return"Profiler";case S:return"StrictMode";case T:return"Suspense";case O:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case _:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case D:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case I:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function V(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=V(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=V(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function G(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&x(e,"checked",t,!1)}function J(e,t){Q(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function oe(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ie(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function pe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ge=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function he(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}Object.keys(fe).forEach((function(e){ge.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ye=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function be(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function xe(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ve=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ne=null,ke=null,Se=null;function je(e){if(e=vo(e)){if("function"!==typeof Ne)throw Error(i(280));var t=e.stateNode;t&&(t=No(t),Ne(e.stateNode,e.type,t))}}function Ee(e){ke?Se?Se.push(e):Se=[e]:ke=e}function Ce(){if(ke){var e=ke,t=Se;if(Se=ke=null,je(e),t)for(e=0;e<t.length;e++)je(t[e])}}function _e(e,t){return e(t)}function Te(){}var Oe=!1;function De(e,t,n){if(Oe)return e(t,n);Oe=!0;try{return _e(e,t,n)}finally{Oe=!1,(null!==ke||null!==Se)&&(Te(),Ce())}}function Ie(e,t){var n=e.stateNode;if(null===n)return null;var r=No(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Pe=!1;if(u)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(ue){Pe=!1}function Ae(e,t,n,r,o,i,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Le=!1,Me=null,Fe=!1,ze=null,$e={onError:function(e){Le=!0,Me=e}};function Ue(e,t,n,r,o,i,a,s,l){Le=!1,Me=null,Ae.apply($e,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Be(e)!==e)throw Error(i(188))}function Ve(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var a=o.alternate;if(null===a){if(null!==(r=o.return)){n=r;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===n)return He(o),e;if(a===r)return He(o),t;a=a.sibling}throw Error(i(188))}if(n.return!==r.return)n=o,r=a;else{for(var s=!1,l=o.child;l;){if(l===n){s=!0,n=o,r=a;break}if(l===r){s=!0,r=o,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=o;break}if(l===r){s=!0,r=a,n=o;break}l=l.sibling}if(!s)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var Ke=o.unstable_scheduleCallback,Xe=o.unstable_cancelCallback,Ye=o.unstable_shouldYield,Ge=o.unstable_requestPaint,Qe=o.unstable_now,Je=o.unstable_getCurrentPriorityLevel,Ze=o.unstable_ImmediatePriority,et=o.unstable_UserBlockingPriority,tt=o.unstable_NormalPriority,nt=o.unstable_LowPriority,rt=o.unstable_IdlePriority,ot=null,it=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~o;0!==s?r=dt(s):0!==(i&=a)&&(r=dt(i))}else 0!==(a=n&~o)?r=dt(a):0!==i&&(r=dt(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&o)&&((o=r&-r)>=(i=t&-t)||16===o&&0!==(4194240&i)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)o=1<<(n=31-at(t)),r|=e[n],t&=~o;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function gt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function ht(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function bt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var xt=0;function vt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,Nt,kt,St,jt,Et=!1,Ct=[],_t=null,Tt=null,Ot=null,Dt=new Map,It=new Map,Pt=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function At(e,t){switch(e){case"focusin":case"focusout":_t=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":Ot=null;break;case"pointerover":case"pointerout":Dt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":It.delete(t.pointerId)}}function Lt(e,t,n,r,o,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},null!==t&&(null!==(t=vo(t))&&Nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function Mt(e){var t=xo(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=We(n)))return e.blockedOn=t,void jt(e.priority,(function(){kt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=vo(n))&&Nt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ve=r,n.target.dispatchEvent(r),ve=null,t.shift()}return!0}function zt(e,t,n){Ft(e)&&n.delete(t)}function $t(){Et=!1,null!==_t&&Ft(_t)&&(_t=null),null!==Tt&&Ft(Tt)&&(Tt=null),null!==Ot&&Ft(Ot)&&(Ot=null),Dt.forEach(zt),It.forEach(zt)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,$t)))}function Bt(e){function t(t){return Ut(t,e)}if(0<Ct.length){Ut(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==_t&&Ut(_t,e),null!==Tt&&Ut(Tt,e),null!==Ot&&Ut(Ot,e),Dt.forEach(t),It.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Pt.shift()}var Wt=v.ReactCurrentBatchConfig,Ht=!0;function Vt(e,t,n,r){var o=xt,i=Wt.transition;Wt.transition=null;try{xt=1,Kt(e,t,n,r)}finally{xt=o,Wt.transition=i}}function qt(e,t,n,r){var o=xt,i=Wt.transition;Wt.transition=null;try{xt=4,Kt(e,t,n,r)}finally{xt=o,Wt.transition=i}}function Kt(e,t,n,r){if(Ht){var o=Yt(e,t,n,r);if(null===o)Hr(e,t,r,Xt,n),At(e,r);else if(function(e,t,n,r,o){switch(t){case"focusin":return _t=Lt(_t,e,t,n,r,o),!0;case"dragenter":return Tt=Lt(Tt,e,t,n,r,o),!0;case"mouseover":return Ot=Lt(Ot,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return Dt.set(i,Lt(Dt.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,It.set(i,Lt(It.get(i)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r))r.stopPropagation();else if(At(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==o;){var i=vo(o);if(null!==i&&wt(i),null===(i=Yt(e,t,n,r))&&Hr(e,t,r,Xt,n),i===o)break;o=i}null!==o&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Xt=null;function Yt(e,t,n,r){if(Xt=null,null!==(e=xo(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Xt=e,null}function Gt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Qt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,o="value"in Qt?Qt.value:Qt.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===o[i-t];t++);return Zt=o.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,o,i){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(o):o[a]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),dn=M({},cn,{view:0,detail:0}),pn=on(dn),fn=M({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),gn=on(fn),mn=on(M({},fn,{dataTransfer:0})),hn=on(M({},dn,{relatedTarget:0})),yn=on(M({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=M({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=on(bn),vn=on(M({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function jn(){return Sn}var En=M({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Nn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=on(En),_n=on(M({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=on(M({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jn})),On=on(M({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=M({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),In=on(Dn),Pn=[9,13,27,32],Rn=u&&"CompositionEvent"in window,An=null;u&&"documentMode"in document&&(An=document.documentMode);var Ln=u&&"TextEvent"in window&&!An,Mn=u&&(!Rn||An&&8<An&&11>=An),Fn=String.fromCharCode(32),zn=!1;function $n(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Vn(e,t,n,r){Ee(r),0<(t=qr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qn=null,Kn=null;function Xn(e){Fr(e,0)}function Yn(e){if(K(wo(e)))return e}function Gn(e,t){if("change"===e)return t}var Qn=!1;if(u){var Jn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Qn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){qn&&(qn.detachEvent("onpropertychange",nr),Kn=qn=null)}function nr(e){if("value"===e.propertyName&&Yn(Kn)){var t=[];Vn(t,Kn,e,we(e)),De(Xn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(qn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function or(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Kn)}function ir(e,t){if("click"===e)return Yn(t)}function ar(e,t){if("input"===e||"change"===e)return Yn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!d.call(t,o)||!sr(e[o],t[o]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function pr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function gr(e){var t=pr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=void 0===r.end?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=ur(n,i);var a=ur(n,r);o&&a&&(1!==e.rangeCount||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,hr=null,yr=null,br=null,xr=!1;function vr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==hr||hr!==X(r)||("selectionStart"in(r=hr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&lr(br,r)||(br=r,0<(r=qr(yr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=hr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Nr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},kr={},Sr={};function jr(e){if(kr[e])return kr[e];if(!Nr[e])return e;var t,n=Nr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return kr[e]=n[t];return e}u&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete Nr.animationend.animation,delete Nr.animationiteration.animation,delete Nr.animationstart.animation),"TransitionEvent"in window||delete Nr.transitionend.transition);var Er=jr("animationend"),Cr=jr("animationiteration"),_r=jr("animationstart"),Tr=jr("transitionend"),Or=new Map,Dr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ir(e,t){Or.set(e,t),l(t,[e])}for(var Pr=0;Pr<Dr.length;Pr++){var Rr=Dr[Pr];Ir(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}Ir(Er,"onAnimationEnd"),Ir(Cr,"onAnimationIteration"),Ir(_r,"onAnimationStart"),Ir("dblclick","onDoubleClick"),Ir("focusin","onFocus"),Ir("focusout","onBlur"),Ir(Tr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ar="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ar));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,o,a,s,l,c){if(Ue.apply(this,arguments),Le){if(!Le)throw Error(i(198));var u=Me;Le=!1,Me=null,Fe||(Fe=!0,ze=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==i&&o.isPropagationStopped())break e;Mr(o,s,c),i=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,c=s.currentTarget,s=s.listener,l!==i&&o.isPropagationStopped())break e;Mr(o,s,c),i=l}}}if(Fe)throw e=ze,Fe=!1,ze=null,e}function zr(e,t){var n=t[ho];void 0===n&&(n=t[ho]=new Set);var r=e+"__bubble";n.has(r)||(Wr(t,e,2,!1),n.add(r))}function $r(e,t,n){var r=0;t&&(r|=4),Wr(n,e,r,t)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[Ur]){e[Ur]=!0,a.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||$r(t,!1,e),$r(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ur]||(t[Ur]=!0,$r("selectionchange",!1,t))}}function Wr(e,t,n,r){switch(Gt(t)){case 1:var o=Vt;break;case 4:o=qt;break;default:o=Kt}n=o.bind(null,t,n,e),o=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,o){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===o||8===s.nodeType&&s.parentNode===o)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===o||8===l.nodeType&&l.parentNode===o))return;a=a.return}for(;null!==s;){if(null===(a=xo(s)))return;if(5===(l=a.tag)||6===l){r=i=a;continue e}s=s.parentNode}}r=r.return}De((function(){var r=i,o=we(n),a=[];e:{var s=Or.get(e);if(void 0!==s){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Cn;break;case"focusin":c="focus",l=hn;break;case"focusout":c="blur",l=hn;break;case"beforeblur":case"afterblur":l=hn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Tn;break;case Er:case Cr:case _r:l=yn;break;case Tr:l=On;break;case"scroll":l=pn;break;case"wheel":l=In;break;case"copy":case"cut":case"paste":l=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=_n}var u=0!==(4&t),d=!u&&"scroll"===e,p=u?null!==s?s+"Capture":null:s;u=[];for(var f,g=r;null!==g;){var m=(f=g).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==p&&(null!=(m=Ie(g,p))&&u.push(Vr(g,m,f)))),d)break;g=g.return}0<u.length&&(s=new l(s,c,null,n,o),a.push({event:s,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===ve||!(c=n.relatedTarget||n.fromElement)||!xo(c)&&!c[mo])&&(l||s)&&(s=o.window===o?o:(s=o.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?xo(c):null)&&(c!==(d=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=gn,m="onMouseLeave",p="onMouseEnter",g="mouse","pointerout"!==e&&"pointerover"!==e||(u=_n,m="onPointerLeave",p="onPointerEnter",g="pointer"),d=null==l?s:wo(l),f=null==c?s:wo(c),(s=new u(m,g+"leave",l,n,o)).target=d,s.relatedTarget=f,m=null,xo(o)===r&&((u=new u(p,g+"enter",c,n,o)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(p=c,g=0,f=u=l;f;f=Kr(f))g++;for(f=0,m=p;m;m=Kr(m))f++;for(;0<g-f;)u=Kr(u),g--;for(;0<f-g;)p=Kr(p),f--;for(;g--;){if(u===p||null!==p&&u===p.alternate)break e;u=Kr(u),p=Kr(p)}u=null}else u=null;null!==l&&Xr(a,s,l,u,!1),null!==c&&null!==d&&Xr(a,d,c,u,!0)}if("select"===(l=(s=r?wo(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var h=Gn;else if(Hn(s))if(Qn)h=ar;else{h=or;var y=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(h=ir);switch(h&&(h=h(e,r))?Vn(a,h,n,o):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?wo(r):window,e){case"focusin":(Hn(y)||"true"===y.contentEditable)&&(hr=y,yr=r,br=null);break;case"focusout":br=yr=hr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,vr(a,n,o);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":vr(a,n,o)}var b;if(Rn)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Bn?$n(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(Mn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==x?"onCompositionEnd"===x&&Bn&&(b=en()):(Jt="value"in(Qt=o)?Qt.value:Qt.textContent,Bn=!0)),0<(y=qr(r,x)).length&&(x=new vn(x,e,null,n,o),a.push({event:x,listeners:y}),b?x.data=b:null!==(b=Un(n))&&(x.data=b))),(b=Ln?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(zn=!0,Fn);case"textInput":return(e=t.data)===Fn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Rn&&$n(e,t)?(e=en(),Zt=Jt=Qt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=qr(r,"onBeforeInput")).length&&(o=new vn("onBeforeInput","beforeinput",null,n,o),a.push({event:o,listeners:r}),o.data=b))}Fr(a,t)}))}function Vr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qr(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,i=o.stateNode;5===o.tag&&null!==i&&(o=i,null!=(i=Ie(e,n))&&r.unshift(Vr(e,i,o)),null!=(i=Ie(e,t))&&r.push(Vr(e,i,o))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Xr(e,t,n,r,o){for(var i=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,o?null!=(l=Ie(n,i))&&a.unshift(Vr(n,l,s)):o||null!=(l=Ie(n,i))&&a.push(Vr(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Yr=/\r\n?/g,Gr=/\u0000|\uFFFD/g;function Qr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Gr,"")}function Jr(e,t,n){if(t=Qr(t),Qr(e)!==t&&n)throw Error(i(425))}function Zr(){}var eo=null,to=null;function no(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ro="function"===typeof setTimeout?setTimeout:void 0,oo="function"===typeof clearTimeout?clearTimeout:void 0,io="function"===typeof Promise?Promise:void 0,ao="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof io?function(e){return io.resolve(null).then(e).catch(so)}:ro;function so(e){setTimeout((function(){throw e}))}function lo(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0===r)return e.removeChild(o),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=o}while(n);Bt(t)}function co(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function uo(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var po=Math.random().toString(36).slice(2),fo="__reactFiber$"+po,go="__reactProps$"+po,mo="__reactContainer$"+po,ho="__reactEvents$"+po,yo="__reactListeners$"+po,bo="__reactHandles$"+po;function xo(e){var t=e[fo];if(t)return t;for(var n=e.parentNode;n;){if(t=n[mo]||n[fo]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=uo(e);null!==e;){if(n=e[fo])return n;e=uo(e)}return t}n=(e=n).parentNode}return null}function vo(e){return!(e=e[fo]||e[mo])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wo(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function No(e){return e[go]||null}var ko=[],So=-1;function jo(e){return{current:e}}function Eo(e){0>So||(e.current=ko[So],ko[So]=null,So--)}function Co(e,t){So++,ko[So]=e.current,e.current=t}var _o={},To=jo(_o),Oo=jo(!1),Do=_o;function Io(e,t){var n=e.type.contextTypes;if(!n)return _o;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in n)i[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Po(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ro(){Eo(Oo),Eo(To)}function Ao(e,t,n){if(To.current!==_o)throw Error(i(168));Co(To,t),Co(Oo,n)}function Lo(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(i(108,W(e)||"Unknown",o));return M({},n,r)}function Mo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_o,Do=To.current,Co(To,e),Co(Oo,Oo.current),!0}function Fo(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=Lo(e,t,Do),r.__reactInternalMemoizedMergedChildContext=e,Eo(Oo),Eo(To),Co(To,e)):Eo(Oo),Co(Oo,n)}var zo=null,$o=!1,Uo=!1;function Bo(e){null===zo?zo=[e]:zo.push(e)}function Wo(){if(!Uo&&null!==zo){Uo=!0;var e=0,t=xt;try{var n=zo;for(xt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}zo=null,$o=!1}catch(o){throw null!==zo&&(zo=zo.slice(e+1)),Ke(Ze,Wo),o}finally{xt=t,Uo=!1}}return null}var Ho=[],Vo=0,qo=null,Ko=0,Xo=[],Yo=0,Go=null,Qo=1,Jo="";function Zo(e,t){Ho[Vo++]=Ko,Ho[Vo++]=qo,qo=e,Ko=t}function ei(e,t,n){Xo[Yo++]=Qo,Xo[Yo++]=Jo,Xo[Yo++]=Go,Go=e;var r=Qo;e=Jo;var o=32-at(r)-1;r&=~(1<<o),n+=1;var i=32-at(t)+o;if(30<i){var a=o-o%5;i=(r&(1<<a)-1).toString(32),r>>=a,o-=a,Qo=1<<32-at(t)+o|n<<o|r,Jo=i+e}else Qo=1<<i|n<<o|r,Jo=e}function ti(e){null!==e.return&&(Zo(e,1),ei(e,1,0))}function ni(e){for(;e===qo;)qo=Ho[--Vo],Ho[Vo]=null,Ko=Ho[--Vo],Ho[Vo]=null;for(;e===Go;)Go=Xo[--Yo],Xo[Yo]=null,Jo=Xo[--Yo],Xo[Yo]=null,Qo=Xo[--Yo],Xo[Yo]=null}var ri=null,oi=null,ii=!1,ai=null;function si(e,t){var n=Dc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function li(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ri=e,oi=co(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ri=e,oi=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Go?{id:Qo,overflow:Jo}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Dc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ri=e,oi=null,!0);default:return!1}}function ci(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ui(e){if(ii){var t=oi;if(t){var n=t;if(!li(e,t)){if(ci(e))throw Error(i(418));t=co(n.nextSibling);var r=ri;t&&li(e,t)?si(r,n):(e.flags=-4097&e.flags|2,ii=!1,ri=e)}}else{if(ci(e))throw Error(i(418));e.flags=-4097&e.flags|2,ii=!1,ri=e}}}function di(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ri=e}function pi(e){if(e!==ri)return!1;if(!ii)return di(e),ii=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!no(e.type,e.memoizedProps)),t&&(t=oi)){if(ci(e))throw fi(),Error(i(418));for(;t;)si(e,t),t=co(t.nextSibling)}if(di(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){oi=co(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}oi=null}}else oi=ri?co(e.stateNode.nextSibling):null;return!0}function fi(){for(var e=oi;e;)e=co(e.nextSibling)}function gi(){oi=ri=null,ii=!1}function mi(e){null===ai?ai=[e]:ai.push(e)}var hi=v.ReactCurrentBatchConfig;function yi(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var o=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=o.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function bi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function xi(e){return(0,e._init)(e._payload)}function vi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=Pc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Mc(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===k?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===I&&xi(i)===t.type)?((r=o(t,n.props)).ref=yi(e,t,n),r.return=e,r):((r=Rc(n.type,n.key,n.props,null,e.mode,r)).ref=yi(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=Ac(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function p(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Mc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Rc(t.type,t.key,t.props,null,e.mode,n)).ref=yi(e,null,t),n.return=e,n;case N:return(t=Fc(t,e.mode,n)).return=e,t;case I:return p(e,(0,t._init)(t._payload),n)}if(te(t)||A(t))return(t=Ac(t,e.mode,n,null)).return=e,t;bi(e,t)}return null}function f(e,t,n,r){var o=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==o?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===o?c(e,t,n,r):null;case N:return n.key===o?u(e,t,n,r):null;case I:return f(e,t,(o=n._init)(n._payload),r)}if(te(n)||A(n))return null!==o?null:d(e,t,n,r,null);bi(e,n)}return null}function g(e,t,n,r,o){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,o);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,o);case N:return u(t,e=e.get(null===r.key?n:r.key)||null,r,o);case I:return g(e,t,n,(0,r._init)(r._payload),o)}if(te(r)||A(r))return d(t,e=e.get(n)||null,r,o,null);bi(t,r)}return null}function m(o,i,s,l){for(var c=null,u=null,d=i,m=i=0,h=null;null!==d&&m<s.length;m++){d.index>m?(h=d,d=null):h=d.sibling;var y=f(o,d,s[m],l);if(null===y){null===d&&(d=h);break}e&&d&&null===y.alternate&&t(o,d),i=a(y,i,m),null===u?c=y:u.sibling=y,u=y,d=h}if(m===s.length)return n(o,d),ii&&Zo(o,m),c;if(null===d){for(;m<s.length;m++)null!==(d=p(o,s[m],l))&&(i=a(d,i,m),null===u?c=d:u.sibling=d,u=d);return ii&&Zo(o,m),c}for(d=r(o,d);m<s.length;m++)null!==(h=g(d,o,m,s[m],l))&&(e&&null!==h.alternate&&d.delete(null===h.key?m:h.key),i=a(h,i,m),null===u?c=h:u.sibling=h,u=h);return e&&d.forEach((function(e){return t(o,e)})),ii&&Zo(o,m),c}function h(o,s,l,c){var u=A(l);if("function"!==typeof u)throw Error(i(150));if(null==(l=u.call(l)))throw Error(i(151));for(var d=u=null,m=s,h=s=0,y=null,b=l.next();null!==m&&!b.done;h++,b=l.next()){m.index>h?(y=m,m=null):y=m.sibling;var x=f(o,m,b.value,c);if(null===x){null===m&&(m=y);break}e&&m&&null===x.alternate&&t(o,m),s=a(x,s,h),null===d?u=x:d.sibling=x,d=x,m=y}if(b.done)return n(o,m),ii&&Zo(o,h),u;if(null===m){for(;!b.done;h++,b=l.next())null!==(b=p(o,b.value,c))&&(s=a(b,s,h),null===d?u=b:d.sibling=b,d=b);return ii&&Zo(o,h),u}for(m=r(o,m);!b.done;h++,b=l.next())null!==(b=g(m,o,h,b.value,c))&&(e&&null!==b.alternate&&m.delete(null===b.key?h:b.key),s=a(b,s,h),null===d?u=b:d.sibling=b,d=b);return e&&m.forEach((function(e){return t(o,e)})),ii&&Zo(o,h),u}return function e(r,i,a,l){if("object"===typeof a&&null!==a&&a.type===k&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case w:e:{for(var c=a.key,u=i;null!==u;){if(u.key===c){if((c=a.type)===k){if(7===u.tag){n(r,u.sibling),(i=o(u,a.props.children)).return=r,r=i;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===I&&xi(c)===u.type){n(r,u.sibling),(i=o(u,a.props)).ref=yi(r,u,a),i.return=r,r=i;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===k?((i=Ac(a.props.children,r.mode,l,a.key)).return=r,r=i):((l=Rc(a.type,a.key,a.props,null,r.mode,l)).ref=yi(r,i,a),l.return=r,r=l)}return s(r);case N:e:{for(u=a.key;null!==i;){if(i.key===u){if(4===i.tag&&i.stateNode.containerInfo===a.containerInfo&&i.stateNode.implementation===a.implementation){n(r,i.sibling),(i=o(i,a.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=Fc(a,r.mode,l)).return=r,r=i}return s(r);case I:return e(r,i,(u=a._init)(a._payload),l)}if(te(a))return m(r,i,a,l);if(A(a))return h(r,i,a,l);bi(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==i&&6===i.tag?(n(r,i.sibling),(i=o(i,a)).return=r,r=i):(n(r,i),(i=Mc(a,r.mode,l)).return=r,r=i),s(r)):n(r,i)}}var wi=vi(!0),Ni=vi(!1),ki=jo(null),Si=null,ji=null,Ei=null;function Ci(){Ei=ji=Si=null}function _i(e){var t=ki.current;Eo(ki),e._currentValue=t}function Ti(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Oi(e,t){Si=e,Ei=ji=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(xs=!0),e.firstContext=null)}function Di(e){var t=e._currentValue;if(Ei!==e)if(e={context:e,memoizedValue:t,next:null},null===ji){if(null===Si)throw Error(i(308));ji=e,Si.dependencies={lanes:0,firstContext:e}}else ji=ji.next=e;return t}var Ii=null;function Pi(e){null===Ii?Ii=[e]:Ii.push(e)}function Ri(e,t,n,r){var o=t.interleaved;return null===o?(n.next=n,Pi(t)):(n.next=o.next,o.next=n),t.interleaved=n,Ai(e,r)}function Ai(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Li=!1;function Mi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function zi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function $i(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&_l)){var o=r.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Ai(e,n)}return null===(o=r.interleaved)?(t.next=t,Pi(r)):(t.next=o.next,o.next=t),r.interleaved=t,Ai(e,n)}function Ui(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,bt(e,n)}}function Bi(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?o=i=a:i=i.next=a,n=n.next}while(null!==n);null===i?o=i=t:i=i.next=t}else o=i=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Wi(e,t,n,r){var o=e.updateQueue;Li=!1;var i=o.firstBaseUpdate,a=o.lastBaseUpdate,s=o.shared.pending;if(null!==s){o.shared.pending=null;var l=s,c=l.next;l.next=null,null===a?i=c:a.next=c,a=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==i){var d=o.baseState;for(a=0,u=c=l=null,s=i;;){var p=s.lane,f=s.eventTime;if((r&p)===p){null!==u&&(u=u.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var g=e,m=s;switch(p=t,f=n,m.tag){case 1:if("function"===typeof(g=m.payload)){d=g.call(f,d,p);break e}d=g;break e;case 3:g.flags=-65537&g.flags|128;case 0:if(null===(p="function"===typeof(g=m.payload)?g.call(f,d,p):g)||void 0===p)break e;d=M({},d,p);break e;case 2:Li=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(p=o.effects)?o.effects=[s]:p.push(s))}else f={eventTime:f,lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,a|=p;if(null===(s=s.next)){if(null===(s=o.shared.pending))break;s=(p=s).next,p.next=null,o.lastBaseUpdate=p,o.shared.pending=null}}if(null===u&&(l=d),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=u,null!==(t=o.shared.interleaved)){o=t;do{a|=o.lane,o=o.next}while(o!==t)}else null===i&&(o.shared.lanes=0);Ll|=a,e.lanes=a,e.memoizedState=d}}function Hi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(null!==o){if(r.callback=null,r=n,"function"!==typeof o)throw Error(i(191,o));o.call(r)}}}var Vi={},qi=jo(Vi),Ki=jo(Vi),Xi=jo(Vi);function Yi(e){if(e===Vi)throw Error(i(174));return e}function Gi(e,t){switch(Co(Xi,t),Co(Ki,e),Co(qi,Vi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Eo(qi),Co(qi,t)}function Qi(){Eo(qi),Eo(Ki),Eo(Xi)}function Ji(e){Yi(Xi.current);var t=Yi(qi.current),n=le(t,e.type);t!==n&&(Co(Ki,e),Co(qi,n))}function Zi(e){Ki.current===e&&(Eo(qi),Eo(Ki))}var ea=jo(0);function ta(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var na=[];function ra(){for(var e=0;e<na.length;e++)na[e]._workInProgressVersionPrimary=null;na.length=0}var oa=v.ReactCurrentDispatcher,ia=v.ReactCurrentBatchConfig,aa=0,sa=null,la=null,ca=null,ua=!1,da=!1,pa=0,fa=0;function ga(){throw Error(i(321))}function ma(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function ha(e,t,n,r,o,a){if(aa=a,sa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,oa.current=null===e||null===e.memoizedState?Za:es,e=n(r,o),da){a=0;do{if(da=!1,pa=0,25<=a)throw Error(i(301));a+=1,ca=la=null,t.updateQueue=null,oa.current=ts,e=n(r,o)}while(da)}if(oa.current=Ja,t=null!==la&&null!==la.next,aa=0,ca=la=sa=null,ua=!1,t)throw Error(i(300));return e}function ya(){var e=0!==pa;return pa=0,e}function ba(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ca?sa.memoizedState=ca=e:ca=ca.next=e,ca}function xa(){if(null===la){var e=sa.alternate;e=null!==e?e.memoizedState:null}else e=la.next;var t=null===ca?sa.memoizedState:ca.next;if(null!==t)ca=t,la=e;else{if(null===e)throw Error(i(310));e={memoizedState:(la=e).memoizedState,baseState:la.baseState,baseQueue:la.baseQueue,queue:la.queue,next:null},null===ca?sa.memoizedState=ca=e:ca=ca.next=e}return ca}function va(e,t){return"function"===typeof t?t(e):t}function wa(e){var t=xa(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=la,o=r.baseQueue,a=n.pending;if(null!==a){if(null!==o){var s=o.next;o.next=a.next,a.next=s}r.baseQueue=o=a,n.pending=null}if(null!==o){a=o.next,r=r.baseState;var l=s=null,c=null,u=a;do{var d=u.lane;if((aa&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var p={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=p,s=r):c=c.next=p,sa.lanes|=d,Ll|=d}u=u.next}while(null!==u&&u!==a);null===c?s=r:c.next=l,sr(r,t.memoizedState)||(xs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){o=e;do{a=o.lane,sa.lanes|=a,Ll|=a,o=o.next}while(o!==e)}else null===o&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Na(e){var t=xa(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,a=t.memoizedState;if(null!==o){n.pending=null;var s=o=o.next;do{a=e(a,s.action),s=s.next}while(s!==o);sr(a,t.memoizedState)||(xs=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ka(){}function Sa(e,t){var n=sa,r=xa(),o=t(),a=!sr(r.memoizedState,o);if(a&&(r.memoizedState=o,xs=!0),r=r.queue,La(Ca.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ca&&1&ca.memoizedState.tag){if(n.flags|=2048,Da(9,Ea.bind(null,n,r,o,t),void 0,null),null===Tl)throw Error(i(349));0!==(30&aa)||ja(n,t,o)}return o}function ja(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ea(e,t,n,r){t.value=n,t.getSnapshot=r,_a(t)&&Ta(e)}function Ca(e,t,n){return n((function(){_a(t)&&Ta(e)}))}function _a(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Ta(e){var t=Ai(e,1);null!==t&&nc(t,e,1,-1)}function Oa(e){var t=ba();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:va,lastRenderedState:e},t.queue=e,e=e.dispatch=Xa.bind(null,sa,e),[t.memoizedState,e]}function Da(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ia(){return xa().memoizedState}function Pa(e,t,n,r){var o=ba();sa.flags|=e,o.memoizedState=Da(1|t,n,void 0,void 0===r?null:r)}function Ra(e,t,n,r){var o=xa();r=void 0===r?null:r;var i=void 0;if(null!==la){var a=la.memoizedState;if(i=a.destroy,null!==r&&ma(r,a.deps))return void(o.memoizedState=Da(t,n,i,r))}sa.flags|=e,o.memoizedState=Da(1|t,n,i,r)}function Aa(e,t){return Pa(8390656,8,e,t)}function La(e,t){return Ra(2048,8,e,t)}function Ma(e,t){return Ra(4,2,e,t)}function Fa(e,t){return Ra(4,4,e,t)}function za(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function $a(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ra(4,4,za.bind(null,t,e),n)}function Ua(){}function Ba(e,t){var n=xa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ma(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Wa(e,t){var n=xa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ma(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ha(e,t,n){return 0===(21&aa)?(e.baseState&&(e.baseState=!1,xs=!0),e.memoizedState=n):(sr(n,t)||(n=mt(),sa.lanes|=n,Ll|=n,e.baseState=!0),t)}function Va(e,t){var n=xt;xt=0!==n&&4>n?n:4,e(!0);var r=ia.transition;ia.transition={};try{e(!1),t()}finally{xt=n,ia.transition=r}}function qa(){return xa().memoizedState}function Ka(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ya(e))Ga(t,n);else if(null!==(n=Ri(e,t,n,r))){nc(n,e,r,ec()),Qa(n,t,r)}}function Xa(e,t,n){var r=tc(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ya(e))Ga(t,o);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=i(a,n);if(o.hasEagerState=!0,o.eagerState=s,sr(s,a)){var l=t.interleaved;return null===l?(o.next=o,Pi(t)):(o.next=l.next,l.next=o),void(t.interleaved=o)}}catch(c){}null!==(n=Ri(e,t,o,r))&&(nc(n,e,r,o=ec()),Qa(n,t,r))}}function Ya(e){var t=e.alternate;return e===sa||null!==t&&t===sa}function Ga(e,t){da=ua=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Qa(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,bt(e,n)}}var Ja={readContext:Di,useCallback:ga,useContext:ga,useEffect:ga,useImperativeHandle:ga,useInsertionEffect:ga,useLayoutEffect:ga,useMemo:ga,useReducer:ga,useRef:ga,useState:ga,useDebugValue:ga,useDeferredValue:ga,useTransition:ga,useMutableSource:ga,useSyncExternalStore:ga,useId:ga,unstable_isNewReconciler:!1},Za={readContext:Di,useCallback:function(e,t){return ba().memoizedState=[e,void 0===t?null:t],e},useContext:Di,useEffect:Aa,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Pa(4194308,4,za.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Pa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Pa(4,2,e,t)},useMemo:function(e,t){var n=ba();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ba();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ka.bind(null,sa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ba().memoizedState=e},useState:Oa,useDebugValue:Ua,useDeferredValue:function(e){return ba().memoizedState=e},useTransition:function(){var e=Oa(!1),t=e[0];return e=Va.bind(null,e[1]),ba().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=sa,o=ba();if(ii){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===Tl)throw Error(i(349));0!==(30&aa)||ja(r,t,n)}o.memoizedState=n;var a={value:n,getSnapshot:t};return o.queue=a,Aa(Ca.bind(null,r,a,e),[e]),r.flags|=2048,Da(9,Ea.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=ba(),t=Tl.identifierPrefix;if(ii){var n=Jo;t=":"+t+"R"+(n=(Qo&~(1<<32-at(Qo)-1)).toString(32)+n),0<(n=pa++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},es={readContext:Di,useCallback:Ba,useContext:Di,useEffect:La,useImperativeHandle:$a,useInsertionEffect:Ma,useLayoutEffect:Fa,useMemo:Wa,useReducer:wa,useRef:Ia,useState:function(){return wa(va)},useDebugValue:Ua,useDeferredValue:function(e){return Ha(xa(),la.memoizedState,e)},useTransition:function(){return[wa(va)[0],xa().memoizedState]},useMutableSource:ka,useSyncExternalStore:Sa,useId:qa,unstable_isNewReconciler:!1},ts={readContext:Di,useCallback:Ba,useContext:Di,useEffect:La,useImperativeHandle:$a,useInsertionEffect:Ma,useLayoutEffect:Fa,useMemo:Wa,useReducer:Na,useRef:Ia,useState:function(){return Na(va)},useDebugValue:Ua,useDeferredValue:function(e){var t=xa();return null===la?t.memoizedState=e:Ha(t,la.memoizedState,e)},useTransition:function(){return[Na(va)[0],xa().memoizedState]},useMutableSource:ka,useSyncExternalStore:Sa,useId:qa,unstable_isNewReconciler:!1};function ns(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function rs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var os={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),o=tc(e),i=zi(r,o);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=$i(e,i,o))&&(nc(t,e,o,r),Ui(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),o=tc(e),i=zi(r,o);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=$i(e,i,o))&&(nc(t,e,o,r),Ui(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),o=zi(n,r);o.tag=2,void 0!==t&&null!==t&&(o.callback=t),null!==(t=$i(e,o,r))&&(nc(t,e,r,n),Ui(t,e,r))}};function is(e,t,n,r,o,i,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(o,i))}function as(e,t,n){var r=!1,o=_o,i=t.contextType;return"object"===typeof i&&null!==i?i=Di(i):(o=Po(t)?Do:To.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?Io(e,o):_o),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=os,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function ss(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&os.enqueueReplaceState(t,t.state,null)}function ls(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Mi(e);var i=t.contextType;"object"===typeof i&&null!==i?o.context=Di(i):(i=Po(t)?Do:To.current,o.context=Io(e,i)),o.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(rs(e,t,i,n),o.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(t=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&os.enqueueReplaceState(o,o.state,null),Wi(e,n,o,r),o.state=e.memoizedState),"function"===typeof o.componentDidMount&&(e.flags|=4194308)}function cs(e,t){try{var n="",r=t;do{n+=U(r),r=r.return}while(r);var o=n}catch(i){o="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:o,digest:null}}function us(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ps="function"===typeof WeakMap?WeakMap:Map;function fs(e,t,n){(n=zi(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hl||(Hl=!0,Vl=r),ds(0,t)},n}function gs(e,t,n){(n=zi(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){ds(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){ds(0,t),"function"!==typeof r&&(null===ql?ql=new Set([this]):ql.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ps;var o=new Set;r.set(t,o)}else void 0===(o=r.get(t))&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=jc.bind(null,e,t,n),t.then(e,e))}function hs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,o){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=zi(-1,1)).tag=2,$i(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=o,e)}var bs=v.ReactCurrentOwner,xs=!1;function vs(e,t,n,r){t.child=null===e?Ni(t,null,n,r):wi(t,e.child,n,r)}function ws(e,t,n,r,o){n=n.render;var i=t.ref;return Oi(t,o),r=ha(e,t,n,r,i,o),n=ya(),null===e||xs?(ii&&n&&ti(t),t.flags|=1,vs(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Hs(e,t,o))}function Ns(e,t,n,r,o){if(null===e){var i=n.type;return"function"!==typeof i||Ic(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Rc(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,ks(e,t,i,r,o))}if(i=e.child,0===(e.lanes&o)){var a=i.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return Hs(e,t,o)}return t.flags|=1,(e=Pc(i,r)).ref=t.ref,e.return=t,t.child=e}function ks(e,t,n,r,o){if(null!==e){var i=e.memoizedProps;if(lr(i,r)&&e.ref===t.ref){if(xs=!1,t.pendingProps=r=i,0===(e.lanes&o))return t.lanes=e.lanes,Hs(e,t,o);0!==(131072&e.flags)&&(xs=!0)}}return Es(e,t,n,r,o)}function Ss(e,t,n){var r=t.pendingProps,o=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Co(Pl,Il),Il|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Co(Pl,Il),Il|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,Co(Pl,Il),Il|=r}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,Co(Pl,Il),Il|=r;return vs(e,t,o,n),t.child}function js(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Es(e,t,n,r,o){var i=Po(n)?Do:To.current;return i=Io(t,i),Oi(t,o),n=ha(e,t,n,r,i,o),r=ya(),null===e||xs?(ii&&r&&ti(t),t.flags|=1,vs(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Hs(e,t,o))}function Cs(e,t,n,r,o){if(Po(n)){var i=!0;Mo(t)}else i=!1;if(Oi(t,o),null===t.stateNode)Ws(e,t),as(t,n,r),ls(t,n,r,o),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Di(c):c=Io(t,c=Po(n)?Do:To.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||l!==c)&&ss(t,a,r,c),Li=!1;var p=t.memoizedState;a.state=p,Wi(t,r,a,o),l=t.memoizedState,s!==r||p!==l||Oo.current||Li?("function"===typeof u&&(rs(t,n,u,r),l=t.memoizedState),(s=Li||is(t,n,s,r,p,l,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Fi(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ns(t.type,s),a.props=c,d=t.pendingProps,p=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=Di(l):l=Io(t,l=Po(n)?Do:To.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==d||p!==l)&&ss(t,a,r,l),Li=!1,p=t.memoizedState,a.state=p,Wi(t,r,a,o);var g=t.memoizedState;s!==d||p!==g||Oo.current||Li?("function"===typeof f&&(rs(t,n,f,r),g=t.memoizedState),(c=Li||is(t,n,c,r,p,g,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,g,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,g,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),a.props=r,a.state=g,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return _s(e,t,n,r,i,o)}function _s(e,t,n,r,o,i){js(e,t);var a=0!==(128&t.flags);if(!r&&!a)return o&&Fo(t,n,!1),Hs(e,t,i);r=t.stateNode,bs.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=wi(t,e.child,null,i),t.child=wi(t,null,s,i)):vs(e,t,s,i),t.memoizedState=r.state,o&&Fo(t,n,!0),t.child}function Ts(e){var t=e.stateNode;t.pendingContext?Ao(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ao(0,t.context,!1),Gi(e,t.containerInfo)}function Os(e,t,n,r,o){return gi(),mi(o),t.flags|=256,vs(e,t,n,r),t.child}var Ds,Is,Ps,Rs,As={dehydrated:null,treeContext:null,retryLane:0};function Ls(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ms(e,t,n){var r,o=t.pendingProps,a=ea.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Co(ea,1&a),null===e)return ui(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=o.children,e=o.fallback,s?(o=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&o)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Lc(l,o,0,null),e=Ac(e,o,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ls(n),t.memoizedState=As,e):Fs(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,o,a,s){if(n)return 256&t.flags?(t.flags&=-257,zs(e,t,s,r=us(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,o=t.mode,r=Lc({mode:"visible",children:r.children},o,0,null),(a=Ac(a,o,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&wi(t,e.child,null,s),t.child.memoizedState=Ls(s),t.memoizedState=As,a);if(0===(1&t.mode))return zs(e,t,s,null);if("$!"===o.data){if(r=o.nextSibling&&o.nextSibling.dataset)var l=r.dgst;return r=l,zs(e,t,s,r=us(a=Error(i(419)),r,void 0))}if(l=0!==(s&e.childLanes),xs||l){if(null!==(r=Tl)){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(o=0!==(o&(r.suspendedLanes|s))?0:o)&&o!==a.retryLane&&(a.retryLane=o,Ai(e,o),nc(r,e,o,-1))}return mc(),zs(e,t,s,r=us(Error(i(421))))}return"$?"===o.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),o._reactRetry=t,null):(e=a.treeContext,oi=co(o.nextSibling),ri=t,ii=!0,ai=null,null!==e&&(Xo[Yo++]=Qo,Xo[Yo++]=Jo,Xo[Yo++]=Go,Qo=e.id,Jo=e.overflow,Go=t),t=Fs(t,r.children),t.flags|=4096,t)}(e,t,l,o,r,a,n);if(s){s=o.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:o.children};return 0===(1&l)&&t.child!==a?((o=t.child).childLanes=0,o.pendingProps=c,t.deletions=null):(o=Pc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Pc(r,s):(s=Ac(s,l,n,null)).flags|=2,s.return=t,o.return=t,o.sibling=s,t.child=o,o=s,s=t.child,l=null===(l=e.child.memoizedState)?Ls(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=As,o}return e=(s=e.child).sibling,o=Pc(s,{mode:"visible",children:o.children}),0===(1&t.mode)&&(o.lanes=n),o.return=t,o.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function Fs(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function zs(e,t,n,r){return null!==r&&mi(r),wi(t,e.child,null,n),(e=Fs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function $s(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ti(e.return,t,n)}function Us(e,t,n,r,o){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function Bs(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(vs(e,t,r.children,n),0!==(2&(r=ea.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&$s(e,n,t);else if(19===e.tag)$s(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Co(ea,r),0===(1&t.mode))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===ta(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Us(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===ta(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Us(t,!0,n,null,i);break;case"together":Us(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ws(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ll|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Pc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Vs(e,t){if(!ii)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function qs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=14680064&o.subtreeFlags,r|=14680064&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ks(e,t,n){var r=t.pendingProps;switch(ni(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qs(t),null;case 1:case 17:return Po(t.type)&&Ro(),qs(t),null;case 3:return r=t.stateNode,Qi(),Eo(Oo),Eo(To),ra(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(pi(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ai&&(ac(ai),ai=null))),Is(e,t),qs(t),null;case 5:Zi(t);var o=Yi(Xi.current);if(n=t.type,null!==e&&null!=t.stateNode)Ps(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return qs(t),null}if(e=Yi(qi.current),pi(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[fo]=t,r[go]=a,e=0!==(1&t.mode),n){case"dialog":zr("cancel",r),zr("close",r);break;case"iframe":case"object":case"embed":zr("load",r);break;case"video":case"audio":for(o=0;o<Ar.length;o++)zr(Ar[o],r);break;case"source":zr("error",r);break;case"img":case"image":case"link":zr("error",r),zr("load",r);break;case"details":zr("toggle",r);break;case"input":G(r,a),zr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},zr("invalid",r);break;case"textarea":oe(r,a),zr("invalid",r)}for(var l in be(n,a),o=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),o=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),o=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&zr("scroll",r)}switch(n){case"input":q(r),Z(r,a,!0);break;case"textarea":q(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=o,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===o.nodeType?o:o.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[fo]=t,e[go]=r,Ds(e,t,!1,!1),t.stateNode=e;e:{switch(l=xe(n,r),n){case"dialog":zr("cancel",e),zr("close",e),o=r;break;case"iframe":case"object":case"embed":zr("load",e),o=r;break;case"video":case"audio":for(o=0;o<Ar.length;o++)zr(Ar[o],e);o=r;break;case"source":zr("error",e),o=r;break;case"img":case"image":case"link":zr("error",e),zr("load",e),o=r;break;case"details":zr("toggle",e),o=r;break;case"input":G(e,r),o=Y(e,r),zr("invalid",e);break;case"option":default:o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=M({},r,{value:void 0}),zr("invalid",e);break;case"textarea":oe(e,r),o=re(e,r),zr("invalid",e)}for(a in be(n,o),c=o)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?he(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&pe(e,u):"number"===typeof u&&pe(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=u&&"onScroll"===a&&zr("scroll",e):null!=u&&x(e,a,u,l))}switch(n){case"input":q(e),Z(e,r,!1);break;case"textarea":q(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return qs(t),null;case 6:if(e&&null!=t.stateNode)Rs(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(n=Yi(Xi.current),Yi(qi.current),pi(t)){if(r=t.stateNode,n=t.memoizedProps,r[fo]=t,(a=r.nodeValue!==n)&&null!==(e=ri))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fo]=t,t.stateNode=r}return qs(t),null;case 13:if(Eo(ea),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ii&&null!==oi&&0!==(1&t.mode)&&0===(128&t.flags))fi(),gi(),t.flags|=98560,a=!1;else if(a=pi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(i(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(i(317));a[fo]=t}else gi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;qs(t),a=!1}else null!==ai&&(ac(ai),ai=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ea.current)?0===Rl&&(Rl=3):mc())),null!==t.updateQueue&&(t.flags|=4),qs(t),null);case 4:return Qi(),Is(e,t),null===e&&Br(t.stateNode.containerInfo),qs(t),null;case 10:return _i(t.type._context),qs(t),null;case 19:if(Eo(ea),null===(a=t.memoizedState))return qs(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)Vs(a,!1);else{if(0!==Rl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ta(e))){for(t.flags|=128,Vs(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Co(ea,1&ea.current|2),t.child}e=e.sibling}null!==a.tail&&Qe()>Bl&&(t.flags|=128,r=!0,Vs(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ta(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Vs(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!ii)return qs(t),null}else 2*Qe()-a.renderingStartTime>Bl&&1073741824!==n&&(t.flags|=128,r=!0,Vs(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Qe(),t.sibling=null,n=ea.current,Co(ea,r?1&n|2:1&n),t):(qs(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Il)&&(qs(t),6&t.subtreeFlags&&(t.flags|=8192)):qs(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Xs(e,t){switch(ni(t),t.tag){case 1:return Po(t.type)&&Ro(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Qi(),Eo(Oo),Eo(To),ra(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zi(t),null;case 13:if(Eo(ea),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));gi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Eo(ea),null;case 4:return Qi(),null;case 10:return _i(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Ds=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Is=function(){},Ps=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Yi(qi.current);var i,a=null;switch(n){case"input":o=Y(e,o),r=Y(e,r),a=[];break;case"select":o=M({},o,{value:void 0}),r=M({},r,{value:void 0}),a=[];break;case"textarea":o=re(e,o),r=re(e,r),a=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in be(n,r),n=null,o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&null!=o[u])if("style"===u){var l=o[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=o?o[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&zr("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Rs=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ys=!1,Gs=!1,Qs="function"===typeof WeakSet?WeakSet:Set,Js=null;function Zs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sc(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Sc(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,void 0!==i&&el(t,n,i)}o=o.next}while(o!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ol(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function il(e){var t=e.alternate;null!==t&&(e.alternate=null,il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fo],delete t[go],delete t[ho],delete t[yo],delete t[bo])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function pl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(ot,n)}catch(s){}switch(n.tag){case 5:Gs||Zs(n,t);case 6:var r=ul,o=dl;ul=null,pl(e,t,n),dl=o,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?lo(e.parentNode,n):1===e.nodeType&&lo(e,n),Bt(e)):lo(ul,n.stateNode));break;case 4:r=ul,o=dl,ul=n.stateNode.containerInfo,dl=!0,pl(e,t,n),ul=r,dl=o;break;case 0:case 11:case 14:case 15:if(!Gs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){o=r=r.next;do{var i=o,a=i.destroy;i=i.tag,void 0!==a&&(0!==(2&i)||0!==(4&i))&&el(n,t,a),o=o.next}while(o!==r)}pl(e,t,n);break;case 1:if(!Gs&&(Zs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Sc(n,t,s)}pl(e,t,n);break;case 21:pl(e,t,n);break;case 22:1&n.mode?(Gs=(r=Gs)||null!==n.memoizedState,pl(e,t,n),Gs=r):pl(e,t,n);break;default:pl(e,t,n)}}function gl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Qs),t.forEach((function(t){var r=_c.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var o=n[r];try{var a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(i(160));fl(a,s,o),ul=null,dl=!1;var c=o.alternate;null!==c&&(c.return=null),o.return=null}catch(u){Sc(o,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)hl(t,e),t=t.sibling}function hl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),yl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(h){Sc(e,e.return,h)}try{nl(5,e,e.return)}catch(h){Sc(e,e.return,h)}}break;case 1:ml(t,e),yl(e),512&r&&null!==n&&Zs(n,n.return);break;case 5:if(ml(t,e),yl(e),512&r&&null!==n&&Zs(n,n.return),32&e.flags){var o=e.stateNode;try{pe(o,"")}catch(h){Sc(e,e.return,h)}}if(4&r&&null!=(o=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&Q(o,a),xe(l,s);var u=xe(l,a);for(s=0;s<c.length;s+=2){var d=c[s],p=c[s+1];"style"===d?he(o,p):"dangerouslySetInnerHTML"===d?de(o,p):"children"===d?pe(o,p):x(o,d,p,u)}switch(l){case"input":J(o,a);break;case"textarea":ie(o,a);break;case"select":var f=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!a.multiple;var g=a.value;null!=g?ne(o,!!a.multiple,g,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(o,!!a.multiple,a.defaultValue,!0):ne(o,!!a.multiple,a.multiple?[]:"",!1))}o[go]=a}catch(h){Sc(e,e.return,h)}}break;case 6:if(ml(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(i(162));o=e.stateNode,a=e.memoizedProps;try{o.nodeValue=a}catch(h){Sc(e,e.return,h)}}break;case 3:if(ml(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(h){Sc(e,e.return,h)}break;case 4:default:ml(t,e),yl(e);break;case 13:ml(t,e),yl(e),8192&(o=e.child).flags&&(a=null!==o.memoizedState,o.stateNode.isHidden=a,!a||null!==o.alternate&&null!==o.alternate.memoizedState||(Ul=Qe())),4&r&&gl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Gs=(u=Gs)||d,ml(t,e),Gs=u):ml(t,e),yl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Js=e,d=e.child;null!==d;){for(p=Js=d;null!==Js;){switch(g=(f=Js).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Zs(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(h){Sc(r,n,h)}}break;case 5:Zs(f,f.return);break;case 22:if(null!==f.memoizedState){wl(p);continue}}null!==g?(g.return=f,Js=g):wl(p)}d=d.sibling}e:for(d=null,p=e;;){if(5===p.tag){if(null===d){d=p;try{o=p.stateNode,u?"function"===typeof(a=o.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=p.stateNode,s=void 0!==(c=p.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",s))}catch(h){Sc(e,e.return,h)}}}else if(6===p.tag){if(null===d)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(h){Sc(e,e.return,h)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===e)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;null===p.sibling;){if(null===p.return||p.return===e)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:ml(t,e),yl(e),4&r&&gl(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var o=r.stateNode;32&r.flags&&(pe(o,""),r.flags&=-33),cl(e,sl(e),o);break;case 3:case 4:var a=r.stateNode.containerInfo;ll(e,sl(e),a);break;default:throw Error(i(161))}}catch(s){Sc(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bl(e,t,n){Js=e,xl(e,t,n)}function xl(e,t,n){for(var r=0!==(1&e.mode);null!==Js;){var o=Js,i=o.child;if(22===o.tag&&r){var a=null!==o.memoizedState||Ys;if(!a){var s=o.alternate,l=null!==s&&null!==s.memoizedState||Gs;s=Ys;var c=Gs;if(Ys=a,(Gs=l)&&!c)for(Js=o;null!==Js;)l=(a=Js).child,22===a.tag&&null!==a.memoizedState?Nl(o):null!==l?(l.return=a,Js=l):Nl(o);for(;null!==i;)Js=i,xl(i,t,n),i=i.sibling;Js=o,Ys=s,Gs=c}vl(e)}else 0!==(8772&o.subtreeFlags)&&null!==i?(i.return=o,Js=i):vl(e)}}function vl(e){for(;null!==Js;){var t=Js;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Gs||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Gs)if(null===n)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:ns(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Hi(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Hi(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var p=d.dehydrated;null!==p&&Bt(p)}}}break;default:throw Error(i(163))}Gs||512&t.flags&&ol(t)}catch(f){Sc(t,t.return,f)}}if(t===e){Js=null;break}if(null!==(n=t.sibling)){n.return=t.return,Js=n;break}Js=t.return}}function wl(e){for(;null!==Js;){var t=Js;if(t===e){Js=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Js=n;break}Js=t.return}}function Nl(e){for(;null!==Js;){var t=Js;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Sc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var o=t.return;try{r.componentDidMount()}catch(l){Sc(t,o,l)}}var i=t.return;try{ol(t)}catch(l){Sc(t,i,l)}break;case 5:var a=t.return;try{ol(t)}catch(l){Sc(t,a,l)}}}catch(l){Sc(t,t.return,l)}if(t===e){Js=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Js=s;break}Js=t.return}}var kl,Sl=Math.ceil,jl=v.ReactCurrentDispatcher,El=v.ReactCurrentOwner,Cl=v.ReactCurrentBatchConfig,_l=0,Tl=null,Ol=null,Dl=0,Il=0,Pl=jo(0),Rl=0,Al=null,Ll=0,Ml=0,Fl=0,zl=null,$l=null,Ul=0,Bl=1/0,Wl=null,Hl=!1,Vl=null,ql=null,Kl=!1,Xl=null,Yl=0,Gl=0,Ql=null,Jl=-1,Zl=0;function ec(){return 0!==(6&_l)?Qe():-1!==Jl?Jl:Jl=Qe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&_l)&&0!==Dl?Dl&-Dl:null!==hi.transition?(0===Zl&&(Zl=mt()),Zl):0!==(e=xt)?e:e=void 0===(e=window.event)?16:Gt(e.type)}function nc(e,t,n,r){if(50<Gl)throw Gl=0,Ql=null,Error(i(185));yt(e,n,r),0!==(2&_l)&&e===Tl||(e===Tl&&(0===(2&_l)&&(Ml|=n),4===Rl&&sc(e,Dl)),rc(e,r),1===n&&0===_l&&0===(1&t.mode)&&(Bl=Qe()+500,$o&&Wo()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-at(i),s=1<<a,l=o[a];-1===l?0!==(s&n)&&0===(s&r)||(o[a]=ft(s,t)):l<=t&&(e.expiredLanes|=s),i&=~s}}(e,t);var r=pt(e,e===Tl?Dl:0);if(0===r)null!==n&&Xe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Xe(n),1===t)0===e.tag?function(e){$o=!0,Bo(e)}(lc.bind(null,e)):Bo(lc.bind(null,e)),ao((function(){0===(6&_l)&&Wo()})),n=null;else{switch(vt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Tc(n,oc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function oc(e,t){if(Jl=-1,Zl=0,0!==(6&_l))throw Error(i(327));var n=e.callbackNode;if(Nc()&&e.callbackNode!==n)return null;var r=pt(e,e===Tl?Dl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=hc(e,r);else{t=r;var o=_l;_l|=2;var a=gc();for(Tl===e&&Dl===t||(Wl=null,Bl=Qe()+500,pc(e,t));;)try{bc();break}catch(l){fc(e,l)}Ci(),jl.current=a,_l=o,null!==Ol?t=0:(Tl=null,Dl=0,t=Rl)}if(0!==t){if(2===t&&(0!==(o=gt(e))&&(r=o,t=ic(e,o))),1===t)throw n=Al,pc(e,0),sc(e,r),rc(e,Qe()),n;if(6===t)sc(e,r);else{if(o=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!sr(i(),o))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(o)&&(2===(t=hc(e,r))&&(0!==(a=gt(e))&&(r=a,t=ic(e,a))),1===t))throw n=Al,pc(e,0),sc(e,r),rc(e,Qe()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:wc(e,$l,Wl);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=Ul+500-Qe())){if(0!==pt(e,0))break;if(((o=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=ro(wc.bind(null,e,$l,Wl),t);break}wc(e,$l,Wl);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,o=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>o&&(o=s),r&=~a}if(r=o,10<(r=(120>(r=Qe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Sl(r/1960))-r)){e.timeoutHandle=ro(wc.bind(null,e,$l,Wl),r);break}wc(e,$l,Wl);break;default:throw Error(i(329))}}}return rc(e,Qe()),e.callbackNode===n?oc.bind(null,e):null}function ic(e,t){var n=zl;return e.current.memoizedState.isDehydrated&&(pc(e,t).flags|=256),2!==(e=hc(e,t))&&(t=$l,$l=n,null!==t&&ac(t)),e}function ac(e){null===$l?$l=e:$l.push.apply($l,e)}function sc(e,t){for(t&=~Fl,t&=~Ml,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&_l))throw Error(i(327));Nc();var t=pt(e,0);if(0===(1&t))return rc(e,Qe()),null;var n=hc(e,t);if(0!==e.tag&&2===n){var r=gt(e);0!==r&&(t=r,n=ic(e,r))}if(1===n)throw n=Al,pc(e,0),sc(e,t),rc(e,Qe()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,$l,Wl),rc(e,Qe()),null}function cc(e,t){var n=_l;_l|=1;try{return e(t)}finally{0===(_l=n)&&(Bl=Qe()+500,$o&&Wo())}}function uc(e){null!==Xl&&0===Xl.tag&&0===(6&_l)&&Nc();var t=_l;_l|=1;var n=Cl.transition,r=xt;try{if(Cl.transition=null,xt=1,e)return e()}finally{xt=r,Cl.transition=n,0===(6&(_l=t))&&Wo()}}function dc(){Il=Pl.current,Eo(Pl)}function pc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,oo(n)),null!==Ol)for(n=Ol.return;null!==n;){var r=n;switch(ni(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ro();break;case 3:Qi(),Eo(Oo),Eo(To),ra();break;case 5:Zi(r);break;case 4:Qi();break;case 13:case 19:Eo(ea);break;case 10:_i(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Tl=e,Ol=e=Pc(e.current,null),Dl=Il=t,Rl=0,Al=null,Fl=Ml=Ll=0,$l=zl=null,null!==Ii){for(t=0;t<Ii.length;t++)if(null!==(r=(n=Ii[t]).interleaved)){n.interleaved=null;var o=r.next,i=n.pending;if(null!==i){var a=i.next;i.next=o,r.next=a}n.pending=r}Ii=null}return e}function fc(e,t){for(;;){var n=Ol;try{if(Ci(),oa.current=Ja,ua){for(var r=sa.memoizedState;null!==r;){var o=r.queue;null!==o&&(o.pending=null),r=r.next}ua=!1}if(aa=0,ca=la=sa=null,da=!1,pa=0,El.current=null,null===n||null===n.return){Rl=1,Al=t,Ol=null;break}e:{var a=e,s=n.return,l=n,c=t;if(t=Dl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,p=d.tag;if(0===(1&d.mode)&&(0===p||11===p||15===p)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=hs(s);if(null!==g){g.flags&=-257,ys(g,s,l,0,t),1&g.mode&&ms(a,u,t),c=u;var m=(t=g).updateQueue;if(null===m){var h=new Set;h.add(c),t.updateQueue=h}else m.add(c);break e}if(0===(1&t)){ms(a,u,t),mc();break e}c=Error(i(426))}else if(ii&&1&l.mode){var y=hs(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),ys(y,s,l,0,t),mi(cs(c,l));break e}}a=c=cs(c,l),4!==Rl&&(Rl=2),null===zl?zl=[a]:zl.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Bi(a,fs(0,c,t));break e;case 1:l=c;var b=a.type,x=a.stateNode;if(0===(128&a.flags)&&("function"===typeof b.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===ql||!ql.has(x)))){a.flags|=65536,t&=-t,a.lanes|=t,Bi(a,gs(a,l,t));break e}}a=a.return}while(null!==a)}vc(n)}catch(v){t=v,Ol===n&&null!==n&&(Ol=n=n.return);continue}break}}function gc(){var e=jl.current;return jl.current=Ja,null===e?Ja:e}function mc(){0!==Rl&&3!==Rl&&2!==Rl||(Rl=4),null===Tl||0===(268435455&Ll)&&0===(268435455&Ml)||sc(Tl,Dl)}function hc(e,t){var n=_l;_l|=2;var r=gc();for(Tl===e&&Dl===t||(Wl=null,pc(e,t));;)try{yc();break}catch(o){fc(e,o)}if(Ci(),_l=n,jl.current=r,null!==Ol)throw Error(i(261));return Tl=null,Dl=0,Rl}function yc(){for(;null!==Ol;)xc(Ol)}function bc(){for(;null!==Ol&&!Ye();)xc(Ol)}function xc(e){var t=kl(e.alternate,e,Il);e.memoizedProps=e.pendingProps,null===t?vc(e):Ol=t,El.current=null}function vc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ks(n,t,Il)))return void(Ol=n)}else{if(null!==(n=Xs(n,t)))return n.flags&=32767,void(Ol=n);if(null===e)return Rl=6,void(Ol=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ol=t);Ol=t=e}while(null!==t);0===Rl&&(Rl=5)}function wc(e,t,n){var r=xt,o=Cl.transition;try{Cl.transition=null,xt=1,function(e,t,n,r){do{Nc()}while(null!==Xl);if(0!==(6&_l))throw Error(i(327));n=e.finishedWork;var o=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-at(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}(e,a),e===Tl&&(Ol=Tl=null,Dl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Kl||(Kl=!0,Tc(tt,(function(){return Nc(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Cl.transition,Cl.transition=null;var s=xt;xt=1;var l=_l;_l|=4,El.current=null,function(e,t){if(eo=Ht,fr(e=pr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var o=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(w){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,p=e,f=null;t:for(;;){for(var g;p!==n||0!==o&&3!==p.nodeType||(l=s+o),p!==a||0!==r&&3!==p.nodeType||(c=s+r),3===p.nodeType&&(s+=p.nodeValue.length),null!==(g=p.firstChild);)f=p,p=g;for(;;){if(p===e)break t;if(f===n&&++u===o&&(l=s),f===a&&++d===r&&(c=s),null!==(g=p.nextSibling))break;f=(p=f).parentNode}p=g}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(to={focusedElem:e,selectionRange:n},Ht=!1,Js=t;null!==Js;)if(e=(t=Js).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Js=e;else for(;null!==Js;){t=Js;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var h=m.memoizedProps,y=m.memoizedState,b=t.stateNode,x=b.getSnapshotBeforeUpdate(t.elementType===t.type?h:ns(t.type,h),y);b.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var v=t.stateNode.containerInfo;1===v.nodeType?v.textContent="":9===v.nodeType&&v.documentElement&&v.removeChild(v.documentElement);break;default:throw Error(i(163))}}catch(w){Sc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Js=e;break}Js=t.return}m=tl,tl=!1}(e,n),hl(n,e),gr(to),Ht=!!eo,to=eo=null,e.current=n,bl(n,e,o),Ge(),_l=l,xt=s,Cl.transition=a}else e.current=n;if(Kl&&(Kl=!1,Xl=e,Yl=o),a=e.pendingLanes,0===a&&(ql=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(ot,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Qe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Hl)throw Hl=!1,e=Vl,Vl=null,e;0!==(1&Yl)&&0!==e.tag&&Nc(),a=e.pendingLanes,0!==(1&a)?e===Ql?Gl++:(Gl=0,Ql=e):Gl=0,Wo()}(e,t,n,r)}finally{Cl.transition=o,xt=r}return null}function Nc(){if(null!==Xl){var e=vt(Yl),t=Cl.transition,n=xt;try{if(Cl.transition=null,xt=16>e?16:e,null===Xl)var r=!1;else{if(e=Xl,Xl=null,Yl=0,0!==(6&_l))throw Error(i(331));var o=_l;for(_l|=4,Js=e.current;null!==Js;){var a=Js,s=a.child;if(0!==(16&Js.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Js=u;null!==Js;){var d=Js;switch(d.tag){case 0:case 11:case 15:nl(8,d,a)}var p=d.child;if(null!==p)p.return=d,Js=p;else for(;null!==Js;){var f=(d=Js).sibling,g=d.return;if(il(d),d===u){Js=null;break}if(null!==f){f.return=g,Js=f;break}Js=g}}}var m=a.alternate;if(null!==m){var h=m.child;if(null!==h){m.child=null;do{var y=h.sibling;h.sibling=null,h=y}while(null!==h)}}Js=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Js=s;else e:for(;null!==Js;){if(0!==(2048&(a=Js).flags))switch(a.tag){case 0:case 11:case 15:nl(9,a,a.return)}var b=a.sibling;if(null!==b){b.return=a.return,Js=b;break e}Js=a.return}}var x=e.current;for(Js=x;null!==Js;){var v=(s=Js).child;if(0!==(2064&s.subtreeFlags)&&null!==v)v.return=s,Js=v;else e:for(s=x;null!==Js;){if(0!==(2048&(l=Js).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(N){Sc(l,l.return,N)}if(l===s){Js=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Js=w;break e}Js=l.return}}if(_l=o,Wo(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(ot,e)}catch(N){}r=!0}return r}finally{xt=n,Cl.transition=t}}return!1}function kc(e,t,n){e=$i(e,t=fs(0,t=cs(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function Sc(e,t,n){if(3===e.tag)kc(e,e,n);else for(;null!==t;){if(3===t.tag){kc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===ql||!ql.has(r))){t=$i(t,e=gs(t,e=cs(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function jc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Tl===e&&(Dl&n)===n&&(4===Rl||3===Rl&&(130023424&Dl)===Dl&&500>Qe()-Ul?pc(e,0):Fl|=n),rc(e,t)}function Ec(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Ai(e,t))&&(yt(e,t,n),rc(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ec(e,n)}function _c(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),Ec(e,n)}function Tc(e,t){return Ke(e,t)}function Oc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dc(e,t,n,r){return new Oc(e,t,n,r)}function Ic(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pc(e,t){var n=e.alternate;return null===n?((n=Dc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rc(e,t,n,r,o,a){var s=2;if(r=e,"function"===typeof e)Ic(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case k:return Ac(n.children,o,a,t);case S:s=8,o|=8;break;case j:return(e=Dc(12,n,t,2|o)).elementType=j,e.lanes=a,e;case T:return(e=Dc(13,n,t,o)).elementType=T,e.lanes=a,e;case O:return(e=Dc(19,n,t,o)).elementType=O,e.lanes=a,e;case P:return Lc(n,o,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:s=10;break e;case C:s=9;break e;case _:s=11;break e;case D:s=14;break e;case I:s=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Dc(s,n,t,o)).elementType=e,t.type=r,t.lanes=a,t}function Ac(e,t,n,r){return(e=Dc(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=Dc(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function Mc(e,t,n){return(e=Dc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Dc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zc(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ht(0),this.expirationTimes=ht(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ht(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function $c(e,t,n,r,o,i,a,s,l){return e=new zc(e,t,n,s,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Dc(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mi(i),e}function Uc(e){if(!e)return _o;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Po(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(Po(n))return Lo(e,n,t)}return t}function Bc(e,t,n,r,o,i,a,s,l){return(e=$c(n,r,!0,e,0,i,0,s,l)).context=Uc(null),n=e.current,(i=zi(r=ec(),o=tc(n))).callback=void 0!==t&&null!==t?t:null,$i(n,i,o),e.current.lanes=o,yt(e,o,r),rc(e,r),e}function Wc(e,t,n,r){var o=t.current,i=ec(),a=tc(o);return n=Uc(n),null===t.context?t.context=n:t.pendingContext=n,(t=zi(i,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=$i(o,t,a))&&(nc(e,o,a,i),Ui(e,o,a)),a}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Vc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function qc(e,t){Vc(e,t),(e=e.alternate)&&Vc(e,t)}kl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Oo.current)xs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return xs=!1,function(e,t,n){switch(t.tag){case 3:Ts(t),gi();break;case 5:Ji(t);break;case 1:Po(t.type)&&Mo(t);break;case 4:Gi(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;Co(ki,r._currentValue),r._currentValue=o;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Co(ea,1&ea.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ms(e,t,n):(Co(ea,1&ea.current),null!==(e=Hs(e,t,n))?e.sibling:null);Co(ea,1&ea.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Bs(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),Co(ea,ea.current),r)break;return null;case 22:case 23:return t.lanes=0,Ss(e,t,n)}return Hs(e,t,n)}(e,t,n);xs=0!==(131072&e.flags)}else xs=!1,ii&&0!==(1048576&t.flags)&&ei(t,Ko,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ws(e,t),e=t.pendingProps;var o=Io(t,To.current);Oi(t,n),o=ha(null,t,r,e,o,n);var a=ya();return t.flags|=1,"object"===typeof o&&null!==o&&"function"===typeof o.render&&void 0===o.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Po(r)?(a=!0,Mo(t)):a=!1,t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,Mi(t),o.updater=os,t.stateNode=o,o._reactInternals=t,ls(t,r,e,n),t=_s(null,t,r,!0,a,n)):(t.tag=0,ii&&a&&ti(t),vs(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ws(e,t),e=t.pendingProps,r=(o=r._init)(r._payload),t.type=r,o=t.tag=function(e){if("function"===typeof e)return Ic(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===_)return 11;if(e===D)return 14}return 2}(r),e=ns(r,e),o){case 0:t=Es(null,t,r,e,n);break e;case 1:t=Cs(null,t,r,e,n);break e;case 11:t=ws(null,t,r,e,n);break e;case 14:t=Ns(null,t,r,ns(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,Es(e,t,r,o=t.elementType===r?o:ns(r,o),n);case 1:return r=t.type,o=t.pendingProps,Cs(e,t,r,o=t.elementType===r?o:ns(r,o),n);case 3:e:{if(Ts(t),null===e)throw Error(i(387));r=t.pendingProps,o=(a=t.memoizedState).element,Fi(e,t),Wi(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Os(e,t,r,n,o=cs(Error(i(423)),t));break e}if(r!==o){t=Os(e,t,r,n,o=cs(Error(i(424)),t));break e}for(oi=co(t.stateNode.containerInfo.firstChild),ri=t,ii=!0,ai=null,n=Ni(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(gi(),r===o){t=Hs(e,t,n);break e}vs(e,t,r,n)}t=t.child}return t;case 5:return Ji(t),null===e&&ui(t),r=t.type,o=t.pendingProps,a=null!==e?e.memoizedProps:null,s=o.children,no(r,o)?s=null:null!==a&&no(r,a)&&(t.flags|=32),js(e,t),vs(e,t,s,n),t.child;case 6:return null===e&&ui(t),null;case 13:return Ms(e,t,n);case 4:return Gi(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=wi(t,null,r,n):vs(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,ws(e,t,r,o=t.elementType===r?o:ns(r,o),n);case 7:return vs(e,t,t.pendingProps,n),t.child;case 8:case 12:return vs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,a=t.memoizedProps,s=o.value,Co(ki,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===o.children&&!Oo.current){t=Hs(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=zi(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Ti(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(i(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Ti(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}vs(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Oi(t,n),r=r(o=Di(o)),t.flags|=1,vs(e,t,r,n),t.child;case 14:return o=ns(r=t.type,t.pendingProps),Ns(e,t,r,o=ns(r.type,o),n);case 15:return ks(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:ns(r,o),Ws(e,t),t.tag=1,Po(r)?(e=!0,Mo(t)):e=!1,Oi(t,n),as(t,r,o),ls(t,r,o,n),_s(null,t,r,!0,e,n);case 19:return Bs(e,t,n);case 22:return Ss(e,t,n)}throw Error(i(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function Xc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Gc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function Zc(e,t,n,r,o){var i=n._reactRootContainer;if(i){var a=i;if("function"===typeof o){var s=o;o=function(){var e=Hc(a);s.call(e)}}Wc(t,a,e,o)}else a=function(e,t,n,r,o){if(o){if("function"===typeof r){var i=r;r=function(){var e=Hc(a);i.call(e)}}var a=Bc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=a,e[mo]=a.current,Br(8===e.nodeType?e.parentNode:e),uc(),a}for(;o=e.lastChild;)e.removeChild(o);if("function"===typeof r){var s=r;r=function(){var e=Hc(l);s.call(e)}}var l=$c(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=l,e[mo]=l.current,Br(8===e.nodeType?e.parentNode:e),uc((function(){Wc(t,l,n,r)})),l}(n,t,e,o,r);return Hc(a)}Yc.prototype.render=Xc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Wc(e,t,null,null)},Yc.prototype.unmount=Xc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc((function(){Wc(null,e,null,null)})),t[mo]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Mt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(bt(t,1|n),rc(t,Qe()),0===(6&_l)&&(Bl=Qe()+500,Wo()))}break;case 13:uc((function(){var t=Ai(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),qc(e,1)}},Nt=function(e){if(13===e.tag){var t=Ai(e,134217728);if(null!==t)nc(t,e,134217728,ec());qc(e,134217728)}},kt=function(e){if(13===e.tag){var t=tc(e),n=Ai(e,t);if(null!==n)nc(n,e,t,ec());qc(e,t)}},St=function(){return xt},jt=function(e,t){var n=xt;try{return xt=e,t()}finally{xt=n}},Ne=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=No(r);if(!o)throw Error(i(90));K(r),J(r,o)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},_e=cc,Te=uc;var eu={usingClientEntryPoint:!1,Events:[vo,wo,No,Ee,Ce,cc]},tu={findFiberByHostInstance:xo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:v.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ve(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{ot=ru.inject(nu),it=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Gc(t))throw Error(i(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:N,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Gc(e))throw Error(i(299));var n=!1,r="",o=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(o=t.onRecoverableError)),t=$c(e,1,!1,null,0,n,0,r,o),e[mo]=t.current,Br(8===e.nodeType?e.parentNode:e),new Xc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=Ve(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Qc(t))throw Error(i(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Gc(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,o=!1,a="",s=Kc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(o=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Bc(t,null,e,1,null!=n?n:null,o,0,a,s),e[mo]=t.current,Br(e),r)for(e=0;e<r.length;e++)o=(o=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Yc(t)},t.render=function(e,t,n){if(!Qc(t))throw Error(i(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Qc(e))throw Error(i(40));return!!e._reactRootContainer&&(uc((function(){Zc(null,null,e,!1,(function(){e._reactRootContainer=null,e[mo]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Qc(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return Zc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};n.r(r),n.d(r,{FILE:()=>Be,HTML:()=>Ve,TEXT:()=>He,URL:()=>We});var o={};n.r(o),n.d(o,{hasBrowserEnv:()=>cn,hasStandardBrowserEnv:()=>dn,hasStandardBrowserWebWorkerEnv:()=>pn,navigator:()=>un,origin:()=>fn});var i,a=n(43),s=n(391),l=new Uint8Array(16);function c(){if(!i&&!(i="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(l)}const u=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const d=function(e){return"string"===typeof e&&u.test(e)};for(var p=[],f=0;f<256;++f)p.push((f+256).toString(16).substr(1));const g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(p[e[t+0]]+p[e[t+1]]+p[e[t+2]]+p[e[t+3]]+"-"+p[e[t+4]]+p[e[t+5]]+"-"+p[e[t+6]]+p[e[t+7]]+"-"+p[e[t+8]]+p[e[t+9]]+"-"+p[e[t+10]]+p[e[t+11]]+p[e[t+12]]+p[e[t+13]]+p[e[t+14]]+p[e[t+15]]).toLowerCase();if(!d(n))throw TypeError("Stringified UUID is invalid");return n};const m=function(e,t,n){var r=(e=e||{}).random||(e.rng||c)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var o=0;o<16;++o)t[n+o]=r[o];return t}return g(r)},h=[{type:"core.begin",name:"Begin",category:"Flow",description:"Starting point of the workflow",icon:"play-circle",color:"blue",inputs:[],outputs:[{name:"output",type:"trigger",description:"Execution output"}],configFields:[]},{type:"core.text.text_input",name:"Text Input",category:"Text",description:"Provides a text value",icon:"font",color:"blue",inputs:[],outputs:[{name:"text",type:"string",description:"The text value"}],configFields:[{name:"text",label:"Text",type:"textarea",placeholder:"Enter text..."}]},{type:"core.text.text_template",name:"Text Template",category:"Text",description:"Creates text using a template with variables",icon:"file-alt",color:"blue",inputs:[{name:"variables",type:"object",description:"Variables to use in the template"}],outputs:[{name:"text",type:"string",description:"The resulting text"}],configFields:[{name:"template",label:"Template",type:"textarea",placeholder:"Enter template with {{variables}}..."}]},{type:"core.variables.set_variable",name:"Set Variable",category:"Variables",description:"Sets a variable value",icon:"database",color:"purple",inputs:[{name:"value",type:"any",description:"The value to store"}],outputs:[{name:"output",type:"any",description:"The stored value"}],configFields:[{name:"name",label:"Variable Name",type:"text",placeholder:"Enter variable name..."}]},{type:"core.variables.get_variable",name:"Get Variable",category:"Variables",description:"Gets a variable value",icon:"database",color:"purple",inputs:[],outputs:[{name:"value",type:"any",description:"The variable value"}],configFields:[{name:"name",label:"Variable Name",type:"text",placeholder:"Enter variable name..."}]},{type:"core.control_flow.if_condition",name:"If Condition",category:"Control Flow",description:"Branches based on a condition",icon:"code-branch",color:"orange",inputs:[{name:"condition",type:"boolean",description:"The condition to evaluate"}],outputs:[{name:"true",type:"trigger",description:"Executed if condition is true"},{name:"false",type:"trigger",description:"Executed if condition is false"}],configFields:[]},{type:"core.control_flow.for_loop",name:"For Loop",category:"Control Flow",description:"Loops over a list of items",icon:"redo",color:"orange",inputs:[{name:"items",type:"array",description:"The items to loop over"}],outputs:[{name:"item",type:"any",description:"The current item"},{name:"index",type:"number",description:"The current index"},{name:"completed",type:"trigger",description:"Executed when loop completes"}],configFields:[]},{type:"core.math.calculator",name:"Calculator",category:"Math",description:"Performs math operations",icon:"calculator",color:"green",inputs:[{name:"a",type:"number",description:"First value"},{name:"b",type:"number",description:"Second value"}],outputs:[{name:"result",type:"number",description:"The result"}],configFields:[{name:"operation",label:"Operation",type:"select",options:["add","subtract","multiply","divide"]}]},{type:"core.web_api.http_request",name:"HTTP Request",category:"Web & API",description:"Makes an HTTP request",icon:"globe",color:"pink",inputs:[{name:"url",type:"string",description:"The URL to request"},{name:"headers",type:"object",description:"Request headers"},{name:"body",type:"any",description:"Request body"}],outputs:[{name:"response",type:"object",description:"The response data"},{name:"status",type:"number",description:"The HTTP status code"}],configFields:[{name:"method",label:"Method",type:"select",options:["GET","POST","PUT","DELETE"]},{name:"url",label:"URL",type:"text",placeholder:"https://..."}]},{type:"core.file_storage.read_file",name:"Read File",category:"File Storage",description:"Reads a file from storage",icon:"file",color:"yellow",inputs:[{name:"path",type:"string",description:"File path"}],outputs:[{name:"content",type:"string",description:"File content"}],configFields:[{name:"path",label:"File Path",type:"text",placeholder:"/path/to/file.txt"}]},{type:"plugins.ai.text_generation",name:"AI Text Generation",category:"AI & ML",description:"Generates text using AI",icon:"robot",color:"indigo",inputs:[{name:"prompt",type:"string",description:"The prompt for generation"}],outputs:[{name:"text",type:"string",description:"Generated text"}],configFields:[{name:"model",label:"Model",type:"select",options:["gpt-3.5-turbo","gpt-4"]},{name:"temperature",label:"Temperature",type:"number",min:0,step:.1}]},{type:"plugins.utilities.delay",name:"Delay",category:"Utilities",description:"Adds a delay in workflow execution",icon:"clock",color:"gray",inputs:[{name:"input",type:"any",description:"Input to pass through after delay"}],outputs:[{name:"output",type:"any",description:"The delayed input"}],configFields:[{name:"seconds",label:"Seconds",type:"number",min:0,step:.1}]}],y=h.map((e=>{return{id:e.type,__plugin_meta__:{name:e.name,category:e.category,description:e.description,editable:!0,generated:!1,inputs:e.inputs.reduce(((e,t)=>(e[t.name]=t.type,e)),{}),outputs:e.outputs.reduce(((e,t)=>(e[t.name]=t.type,e)),{}),configFields:(t=e.configFields,t.map((e=>({name:e.name,label:e.label,type:e.type,placeholder:e.placeholder,options:e.options,multiple:e.multiple,min:e.min,step:e.step}))))}};var t})),b=async(e,t)=>{await new Promise((e=>setTimeout(e,1500)));const n=e.reduce(((e,t)=>(e[t.id]=t,e)),{}),r=(t.reduce(((e,t)=>{const n=`${t.from.nodeId}:${t.from.port}`;return e[n]||(e[n]=[]),e[n].push(t),e}),{}),{variables:{},nodeOutputs:{},logs:[]}),o=e=>{const o=n[e];if(!o)return null;const i=(new Date).toISOString();let a={};switch(r.logs.push({node:e,message:`Executing node: ${o.type}`,timestamp:i}),o.type){case"core.begin":a={output:!0};break;case"core.text.text_input":a={text:o.config.text||"Default text"};break;case"core.text.text_template":const n=o.config.template||"{{variables}}",i=r.variables;a={text:n.replace(/{{([^}]+)}}/g,((e,t)=>i[t]||e))};break;case"core.variables.set_variable":const s=o.config.name||"unnamed",l=t.find((t=>t.to.nodeId===e&&"value"===t.to.port));let c="No input";if(l){const e=l.from.nodeId,t=l.from.port,n=r.nodeOutputs[e];n&&(c=n[t])}r.variables[s]=c,a={output:c};break;case"core.variables.get_variable":const u=o.config.name||"unnamed";a={value:r.variables[u]||"Variable not found"};break;case"plugins.ai.text_generation":const d=t.find((t=>t.to.nodeId===e&&"prompt"===t.to.port));let p="Default prompt";if(d){const e=d.from.nodeId,t=d.from.port,n=r.nodeOutputs[e];n&&(p=n[t])}let f="This is a simulated AI response.";f=p.toLowerCase().includes("workflow")?"Workflow automation is the process of using technology to automate repetitive tasks, processes, and workflows within an organization. It helps reduce manual effort, minimize errors, and increase efficiency. Modern workflow automation tools allow users to visually design workflows using a node-based interface, connecting different actions and logic together to create powerful automated processes without requiring extensive programming knowledge.":p.toLowerCase().includes("ai")?"Artificial Intelligence (AI) refers to systems or machines that mimic human intelligence to perform tasks and can iteratively improve themselves based on the information they collect. AI manifests in a number of forms including chatbots, recommendation engines, facial recognition systems, and autonomous vehicles.":`Here is some information about "${p}": This is a simulated response from an AI model in the standalone demo. In a real implementation, this would connect to an actual AI service to generate a response based on your prompt.`,a={text:f};break;default:a={output:`Simulated output for ${o.type}`}}return r.nodeOutputs[e]=a,a},i=e.find((e=>"core.begin"===e.type));return i&&(o(i.id),e.forEach((e=>{e.id!==i.id&&o(e.id)}))),{status:"success",executionId:m(),results:{node_outputs:r.nodeOutputs,log:r.logs}}};var x=n(579);const v={isDemoMode:!0,toggleDemoMode:()=>{},demoNodes:[],demoConnections:[],demoPlugins:y,updateDemoNodes:()=>{},updateDemoConnections:()=>{},resetDemo:()=>{},executeDemoWorkflow:async()=>({}),isExecuting:!1,executionResults:null},w="undefined"!==typeof window&&(!0===window.STANDALONE_DEMO||window.location.hostname.includes("github.io")||window.location.hostname.includes("netlify.app")||window.location.hostname.includes("vercel.app")||"localhost"===window.location.hostname||window.location.search.includes("demo=true"));w&&console.log("Running in standalone demo mode");const N=(0,a.createContext)(w?v:void 0),k=e=>{let{children:t}=e;const[n,r]=(0,a.useState)(w||!0===window.FORCE_DEMO_MODE||!1),o={nodes:[{id:"node-1",type:"core.begin",x:100,y:200,config:{title:"Begin"}},{id:"node-2",type:"core.text.text_input",x:400,y:100,config:{title:"User Prompt",text:"Tell me about workflow automation"}},{id:"node-3",type:"plugins.ai.text_generation",x:700,y:200,config:{title:"Generate Response",model:"gpt-4",temperature:.7}},{id:"node-4",type:"core.variables.set_variable",x:1e3,y:200,config:{title:"Store Result",name:"ai_response"}},{id:"node-5",type:"core.control_flow.if_condition",x:400,y:350,config:{title:"Check Length"}},{id:"node-6",type:"core.text.text_template",x:700,y:350,config:{title:"Format Response",template:"AI says: {{response}}"}}],connections:[{id:"conn-1",from:{nodeId:"node-1",port:"output"},to:{nodeId:"node-2",port:"input"}},{id:"conn-2",from:{nodeId:"node-2",port:"text"},to:{nodeId:"node-3",port:"prompt"}},{id:"conn-3",from:{nodeId:"node-3",port:"text"},to:{nodeId:"node-4",port:"value"}},{id:"conn-4",from:{nodeId:"node-1",port:"output"},to:{nodeId:"node-5",port:"input"}},{id:"conn-5",from:{nodeId:"node-3",port:"text"},to:{nodeId:"node-6",port:"variables"}}]},[i,s]=(0,a.useState)(o.nodes),[l,c]=(0,a.useState)(o.connections),[u]=(0,a.useState)(y),[d,p]=(0,a.useState)(!1),[f,g]=(0,a.useState)(null);(0,a.useEffect)((()=>{n&&(console.log("Demo mode is active"),console.log("Sample workflow loaded with",i.length,"nodes and",l.length,"connections"))}),[n,i.length,l.length]),(0,a.useEffect)((()=>{n&&m()}),[n]);const m=()=>{const{nodes:e,connections:t}={nodes:[{id:"node-1",type:"core.begin",x:100,y:200,config:{title:"Begin"}},{id:"node-2",type:"core.text.text_input",x:400,y:100,config:{title:"User Prompt",text:"Tell me about workflow automation"}},{id:"node-3",type:"plugins.ai.text_generation",x:700,y:200,config:{title:"Generate Response",model:"gpt-4",temperature:.7}},{id:"node-4",type:"core.variables.set_variable",x:1e3,y:200,config:{title:"Store Result",name:"ai_response"}},{id:"node-5",type:"core.control_flow.if_condition",x:400,y:350,config:{title:"Check Length"}},{id:"node-6",type:"core.text.text_template",x:700,y:350,config:{title:"Format Response",template:"AI says: {{response}}"}}],connections:[{id:"conn-1",from:{nodeId:"node-1",port:"output"},to:{nodeId:"node-2",port:"input"}},{id:"conn-2",from:{nodeId:"node-2",port:"text"},to:{nodeId:"node-3",port:"prompt"}},{id:"conn-3",from:{nodeId:"node-3",port:"text"},to:{nodeId:"node-4",port:"value"}},{id:"conn-4",from:{nodeId:"node-1",port:"output"},to:{nodeId:"node-5",port:"input"}},{id:"conn-5",from:{nodeId:"node-3",port:"text"},to:{nodeId:"node-6",port:"variables"}}]};s(e),c(t),g(null)};return(0,x.jsx)(N.Provider,{value:{isDemoMode:n,toggleDemoMode:()=>{w||r((e=>!e))},demoNodes:i,demoConnections:l,demoPlugins:u,updateDemoNodes:e=>{s(e)},updateDemoConnections:e=>{c(e)},resetDemo:m,executeDemoWorkflow:async()=>{p(!0),g(null);try{console.log("Executing demo workflow...");const e=await b(i,l);return console.log("Workflow execution completed:",e),g(e),w&&alert("Workflow executed successfully! This is a simulated execution in the demo mode. In a real implementation, this would connect to a backend service to execute the workflow."),e}catch(e){if(console.error("Error executing demo workflow:",e),w){const t=e instanceof Error?e.message:"Unknown error";alert(`Error executing workflow: ${t}. This is a simulated error in the demo mode.`)}throw e}finally{p(!1)}},isExecuting:d,executionResults:f},children:t})},S=()=>{const e=(0,a.useContext)(N);if(void 0===e){if(console.warn("useDemoMode called outside of a DemoModeProvider"),w||!0===window.FORCE_DEMO_MODE||!0===window.ENSURE_DEMO_MODE_PROVIDER)return console.log("Using fallback demo context"),v;throw new Error("useDemoMode must be used within a DemoModeProvider")}return e};function j(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var E="function"===typeof Symbol&&Symbol.observable||"@@observable",C=function(){return Math.random().toString(36).substring(7).split("").join(".")},_={INIT:"@@redux/INIT"+C(),REPLACE:"@@redux/REPLACE"+C(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+C()}};function T(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function O(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(j(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(j(1));return n(O)(e,t)}if("function"!==typeof e)throw new Error(j(2));var o=e,i=t,a=[],s=a,l=!1;function c(){s===a&&(s=a.slice())}function u(){if(l)throw new Error(j(3));return i}function d(e){if("function"!==typeof e)throw new Error(j(4));if(l)throw new Error(j(5));var t=!0;return c(),s.push(e),function(){if(t){if(l)throw new Error(j(6));t=!1,c();var n=s.indexOf(e);s.splice(n,1),a=null}}}function p(e){if(!T(e))throw new Error(j(7));if("undefined"===typeof e.type)throw new Error(j(8));if(l)throw new Error(j(9));try{l=!0,i=o(i,e)}finally{l=!1}for(var t=a=s,n=0;n<t.length;n++){(0,t[n])()}return e}return p({type:_.INIT}),(r={dispatch:p,subscribe:d,getState:u,replaceReducer:function(e){if("function"!==typeof e)throw new Error(j(10));o=e,p({type:_.REPLACE})}})[E]=function(){var e,t=d;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(j(11));function n(){e.next&&e.next(u())}return n(),{unsubscribe:t(n)}}})[E]=function(){return this},e},r}function D(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];if("undefined"!==typeof process&&void 0===t)throw new Error("invariant requires an error message argument");if(!e){let e;if(void 0===t)e=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let n=0;e=new Error(t.replace(/%s/g,(function(){return r[n++]}))),e.name="Invariant Violation"}throw e.framesToPop=1,e}}function I(e){return"object"===typeof e}const P="dnd-core/INIT_COORDS",R="dnd-core/BEGIN_DRAG",A="dnd-core/PUBLISH_DRAG_SOURCE",L="dnd-core/HOVER",M="dnd-core/DROP",F="dnd-core/END_DRAG";function z(e,t){return{type:P,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}const $={type:P,payload:{clientOffset:null,sourceClientOffset:null}};function U(e){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{publishSource:!0};const{publishSource:r=!0,clientOffset:o,getSourceClientOffset:i}=n,a=e.getMonitor(),s=e.getRegistry();e.dispatch(z(o)),function(e,t,n){D(!t.isDragging(),"Cannot call beginDrag while dragging."),e.forEach((function(e){D(n.getSource(e),"Expected sourceIds to be registered.")}))}(t,a,s);const l=function(e,t){let n=null;for(let r=e.length-1;r>=0;r--)if(t.canDragSource(e[r])){n=e[r];break}return n}(t,a);if(null==l)return void e.dispatch($);let c=null;if(o){if(!i)throw new Error("getSourceClientOffset must be defined");!function(e){D("function"===typeof e,"When clientOffset is provided, getSourceClientOffset must be a function.")}(i),c=i(l)}e.dispatch(z(o,c));const u=s.getSource(l).beginDrag(a,l);if(null==u)return;!function(e){D(I(e),"Item must be an object.")}(u),s.pinSource(l);const d=s.getSourceType(l);return{type:R,payload:{itemType:d,item:u,sourceId:l,clientOffset:o||null,sourceClientOffset:c||null,isSourcePublic:!!r}}}}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){B(e,t,n[t])}))}return e}function H(e){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=e.getMonitor(),r=e.getRegistry();!function(e){D(e.isDragging(),"Cannot call drop while not dragging."),D(!e.didDrop(),"Cannot call drop twice during one drag operation.")}(n);const o=function(e){const t=e.getTargetIds().filter(e.canDropOnTarget,e);return t.reverse(),t}(n);o.forEach(((o,i)=>{const a=function(e,t,n,r){const o=n.getTarget(e);let i=o?o.drop(r,e):void 0;(function(e){D("undefined"===typeof e||I(e),"Drop result must either be an object or undefined.")})(i),"undefined"===typeof i&&(i=0===t?{}:r.getDropResult());return i}(o,i,r,n),s={type:M,payload:{dropResult:W({},t,a)}};e.dispatch(s)}))}}function V(e){return function(){const t=e.getMonitor(),n=e.getRegistry();!function(e){D(e.isDragging(),"Cannot call endDrag while not dragging.")}(t);const r=t.getSourceId();if(null!=r){n.getSource(r,!0).endDrag(t,r),n.unpinSource()}return{type:F}}}function q(e,t){return null===t?null===e:Array.isArray(e)?e.some((e=>e===t)):e===t}function K(e){return function(t){let{clientOffset:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e){D(Array.isArray(e),"Expected targetIds to be an array.")}(t);const r=t.slice(0),o=e.getMonitor(),i=e.getRegistry();return function(e,t,n){for(let r=e.length-1;r>=0;r--){const o=e[r];q(t.getTargetType(o),n)||e.splice(r,1)}}(r,i,o.getItemType()),function(e,t,n){D(t.isDragging(),"Cannot call hover while not dragging."),D(!t.didDrop(),"Cannot call hover after drop.");for(let r=0;r<e.length;r++){const t=e[r];D(e.lastIndexOf(t)===r,"Expected targetIds to be unique in the passed array.");D(n.getTarget(t),"Expected targetIds to be registered.")}}(r,o,i),function(e,t,n){e.forEach((function(e){n.getTarget(e).hover(t,e)}))}(r,o,i),{type:L,payload:{targetIds:r,clientOffset:n||null}}}}function X(e){return function(){if(e.getMonitor().isDragging())return{type:A}}}class Y{receiveBackend(e){this.backend=e}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const e=this,{dispatch:t}=this.store;const n=function(e){return{beginDrag:U(e),publishDragSource:X(e),hover:K(e),drop:H(e),endDrag:V(e)}}(this);return Object.keys(n).reduce(((r,o)=>{const i=n[o];var a;return r[o]=(a=i,function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];const i=a.apply(e,r);"undefined"!==typeof i&&t(i)}),r}),{})}dispatch(e){this.store.dispatch(e)}constructor(e,t){this.isSetUp=!1,this.handleRefCountChange=()=>{const e=this.store.getState().refCount>0;this.backend&&(e&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!e&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=e,this.monitor=t,e.subscribe(this.handleRefCountChange)}}function G(e,t){return{x:e.x-t.x,y:e.y-t.y}}const Q=[],J=[];Q.__IS_NONE__=!0,J.__IS_ALL__=!0;class Z{subscribeToStateChange(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{handlerIds:n}=t;D("function"===typeof e,"listener must be a function."),D("undefined"===typeof n||Array.isArray(n),"handlerIds, when specified, must be an array of strings.");let r=this.store.getState().stateId;return this.store.subscribe((()=>{const t=this.store.getState(),o=t.stateId;try{const i=o===r||o===r+1&&!function(e,t){return e!==Q&&(e===J||"undefined"===typeof t||(n=e,t.filter((e=>n.indexOf(e)>-1))).length>0);var n}(t.dirtyHandlerIds,n);i||e()}finally{r=o}}))}subscribeToOffsetChange(e){D("function"===typeof e,"listener must be a function.");let t=this.store.getState().dragOffset;return this.store.subscribe((()=>{const n=this.store.getState().dragOffset;n!==t&&(t=n,e())}))}canDragSource(e){if(!e)return!1;const t=this.registry.getSource(e);return D(t,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()&&t.canDrag(this,e)}canDropOnTarget(e){if(!e)return!1;const t=this.registry.getTarget(e);if(D(t,`Expected to find a valid target. targetId=${e}`),!this.isDragging()||this.didDrop())return!1;return q(this.registry.getTargetType(e),this.getItemType())&&t.canDrop(this,e)}isDragging(){return Boolean(this.getItemType())}isDraggingSource(e){if(!e)return!1;const t=this.registry.getSource(e,!0);if(D(t,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()||!this.isSourcePublic())return!1;return this.registry.getSourceType(e)===this.getItemType()&&t.isDragging(this,e)}isOverTarget(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shallow:!1};if(!e)return!1;const{shallow:n}=t;if(!this.isDragging())return!1;const r=this.registry.getTargetType(e),o=this.getItemType();if(o&&!q(r,o))return!1;const i=this.getTargetIds();if(!i.length)return!1;const a=i.indexOf(e);return n?a===i.length-1:a>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return Boolean(this.store.getState().dragOperation.isSourcePublic)}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return function(e){const{clientOffset:t,initialClientOffset:n,initialSourceClientOffset:r}=e;return t&&n&&r?G((i=r,{x:(o=t).x+i.x,y:o.y+i.y}),n):null;var o,i}(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return function(e){const{clientOffset:t,initialClientOffset:n}=e;return t&&n?G(t,n):null}(this.store.getState().dragOffset)}constructor(e,t){this.store=e,this.registry=t}}const ee="undefined"!==typeof global?global:self,te=ee.MutationObserver||ee.WebKitMutationObserver;function ne(e){return function(){const t=setTimeout(r,0),n=setInterval(r,50);function r(){clearTimeout(t),clearInterval(n),e()}}}const re="function"===typeof te?function(e){let t=1;const n=new te(e),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){t=-t,r.data=t}}:ne;class oe{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,t){this.onError=e,this.release=t,this.task=null}}const ie=new class{enqueueTask(e){const{queue:t,requestFlush:n}=this;t.length||(n(),this.flushing=!0),t[t.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:e}=this;for(;this.index<e.length;){const t=this.index;if(this.index++,e[t].call(),this.index>this.capacity){for(let t=0,n=e.length-this.index;t<n;t++)e[t]=e[t+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=re(this.flush),this.requestErrorThrow=ne((()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()}))}},ae=new class{create(e){const t=this.freeTasks,n=t.length?t.pop():new oe(this.onError,(e=>t[t.length]=e));return n.task=e,n}constructor(e){this.onError=e,this.freeTasks=[]}}(ie.registerPendingError);const se="dnd-core/ADD_SOURCE",le="dnd-core/ADD_TARGET",ce="dnd-core/REMOVE_SOURCE",ue="dnd-core/REMOVE_TARGET";function de(e,t){t&&Array.isArray(e)?e.forEach((e=>de(e,!1))):D("string"===typeof e||"symbol"===typeof e,t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var pe;!function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"}(pe||(pe={}));let fe=0;function ge(e){const t=(fe++).toString();switch(e){case pe.SOURCE:return`S${t}`;case pe.TARGET:return`T${t}`;default:throw new Error(`Unknown Handler Role: ${e}`)}}function me(e){switch(e[0]){case"S":return pe.SOURCE;case"T":return pe.TARGET;default:throw new Error(`Cannot parse handler ID: ${e}`)}}function he(e,t){const n=e.entries();let r=!1;do{const{done:e,value:[,o]}=n.next();if(o===t)return!0;r=!!e}while(!r);return!1}class ye{addSource(e,t){de(e),function(e){D("function"===typeof e.canDrag,"Expected canDrag to be a function."),D("function"===typeof e.beginDrag,"Expected beginDrag to be a function."),D("function"===typeof e.endDrag,"Expected endDrag to be a function.")}(t);const n=this.addHandler(pe.SOURCE,e,t);return this.store.dispatch(function(e){return{type:se,payload:{sourceId:e}}}(n)),n}addTarget(e,t){de(e,!0),function(e){D("function"===typeof e.canDrop,"Expected canDrop to be a function."),D("function"===typeof e.hover,"Expected hover to be a function."),D("function"===typeof e.drop,"Expected beginDrag to be a function.")}(t);const n=this.addHandler(pe.TARGET,e,t);return this.store.dispatch(function(e){return{type:le,payload:{targetId:e}}}(n)),n}containsHandler(e){return he(this.dragSources,e)||he(this.dropTargets,e)}getSource(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];D(this.isSourceId(e),"Expected a valid source ID.");return t&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}getTarget(e){return D(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}getSourceType(e){return D(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}getTargetType(e){return D(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}isSourceId(e){return me(e)===pe.SOURCE}isTargetId(e){return me(e)===pe.TARGET}removeSource(e){var t;D(this.getSource(e),"Expected an existing source."),this.store.dispatch(function(e){return{type:ce,payload:{sourceId:e}}}(e)),t=()=>{this.dragSources.delete(e),this.types.delete(e)},ie.enqueueTask(ae.create(t))}removeTarget(e){D(this.getTarget(e),"Expected an existing target."),this.store.dispatch(function(e){return{type:ue,payload:{targetId:e}}}(e)),this.dropTargets.delete(e),this.types.delete(e)}pinSource(e){const t=this.getSource(e);D(t,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=t}unpinSource(){D(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(e,t,n){const r=ge(e);return this.types.set(r,t),e===pe.SOURCE?this.dragSources.set(r,n):e===pe.TARGET&&this.dropTargets.set(r,n),r}constructor(e){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=e}}const be=(e,t)=>e===t;function xe(){let e=arguments.length>1?arguments[1]:void 0;switch(e.type){case L:break;case se:case le:case ue:case ce:return Q;default:return J}const{targetIds:t=[],prevTargetIds:n=[]}=e.payload,r=function(e,t){const n=new Map,r=e=>{n.set(e,n.has(e)?n.get(e)+1:1)};e.forEach(r),t.forEach(r);const o=[];return n.forEach(((e,t)=>{1===e&&o.push(t)})),o}(t,n),o=r.length>0||!function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:be;if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(!n(e[r],t[r]))return!1;return!0}(t,n);if(!o)return Q;const i=n[n.length-1],a=t[t.length-1];return i!==a&&(i&&r.push(i),a&&r.push(a)),r}function ve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const we={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function Ne(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0;const{payload:n}=t;switch(t.type){case P:case R:return{initialSourceClientOffset:n.sourceClientOffset,initialClientOffset:n.clientOffset,clientOffset:n.clientOffset};case L:return r=e.clientOffset,o=n.clientOffset,!r&&!o||r&&o&&r.x===o.x&&r.y===o.y?e:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ve(e,t,n[t])}))}return e}({},e,{clientOffset:n.clientOffset});case F:case M:return we;default:return e}var r,o}function ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ke(e,t,n[t])}))}return e}const je={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function Ee(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0;const{payload:n}=t;switch(t.type){case R:return Se({},e,{itemType:n.itemType,item:n.item,sourceId:n.sourceId,isSourcePublic:n.isSourcePublic,dropResult:null,didDrop:!1});case A:return Se({},e,{isSourcePublic:!0});case L:return Se({},e,{targetIds:n.targetIds});case ue:return-1===e.targetIds.indexOf(n.targetId)?e:Se({},e,{targetIds:(r=e.targetIds,o=n.targetId,r.filter((e=>e!==o)))});case M:return Se({},e,{dropResult:n.dropResult,didDrop:!0,targetIds:[]});case F:return Se({},e,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}var r,o}function Ce(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;switch((arguments.length>1?arguments[1]:void 0).type){case se:case le:return e+1;case ce:case ue:return e-1;default:return e}}function _e(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)+1}function Te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Te(e,t,n[t])}))}return e}function De(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return{dirtyHandlerIds:xe(e.dirtyHandlerIds,{type:t.type,payload:Oe({},t.payload,{prevTargetIds:(n=e,r="dragOperation.targetIds",o=[],r.split(".").reduce(((e,t)=>e&&e[t]?e[t]:o||null),n))})}),dragOffset:Ne(e.dragOffset,t),refCount:Ce(e.refCount,t),dragOperation:Ee(e.dragOperation,t),stateId:_e(e.stateId)};var n,r,o}function Ie(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=function(e){const t="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__;return O(De,e&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))}(arguments.length>3&&void 0!==arguments[3]&&arguments[3]),o=new Z(r,new ye(r)),i=new Y(r,o),a=e(i,t,n);return i.receiveBackend(a),i}const Pe=(0,a.createContext)({dragDropManager:void 0});function Re(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}let Ae=0;const Le=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var Me=(0,a.memo)((function(e){var{children:t}=e,n=Re(e,["children"]);const[r,o]=function(e){if("manager"in e){return[{dragDropManager:e.manager},!1]}const t=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Fe(),n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;const o=t;o[Le]||(o[Le]={dragDropManager:Ie(e,t,n,r)});return o[Le]}(e.backend,e.context,e.options,e.debugMode),n=!e.context;return[t,n]}(n);return(0,a.useEffect)((()=>{if(o){const e=Fe();return++Ae,()=>{0===--Ae&&(e[Le]=null)}}}),[]),(0,x.jsx)(Pe.Provider,{value:r,children:t})}));function Fe(){return"undefined"!==typeof global?global:window}function ze(e){let t=null;return()=>(null==t&&(t=e()),t)}class $e{enter(e){const t=this.entered.length;return this.entered=function(e,t){const n=new Set,r=e=>n.add(e);e.forEach(r),t.forEach(r);const o=[];return n.forEach((e=>o.push(e))),o}(this.entered.filter((t=>this.isNodeInDocument(t)&&(!t.contains||t.contains(e)))),[e]),0===t&&this.entered.length>0}leave(e){const t=this.entered.length;var n,r;return this.entered=(n=this.entered.filter(this.isNodeInDocument),r=e,n.filter((e=>e!==r))),t>0&&0===this.entered.length}reset(){this.entered=[]}constructor(e){this.entered=[],this.isNodeInDocument=e}}class Ue{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach((e=>{Object.defineProperty(this.item,e,{configurable:!0,enumerable:!0,get:()=>(console.warn(`Browser doesn't allow reading "${e}" until the drop event.`),null)})}))}loadDataTransfer(e){if(e){const t={};Object.keys(this.config.exposeProperties).forEach((n=>{const r=this.config.exposeProperties[n];null!=r&&(t[n]={value:r(e,this.config.matchesTypes),configurable:!0,enumerable:!0})})),Object.defineProperties(this.item,t)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(e,t){return t===e.getSourceId()}endDrag(){}constructor(e){this.config=e,this.item={},this.initializeExposedProperties()}}const Be="__NATIVE_FILE__",We="__NATIVE_URL__",He="__NATIVE_TEXT__",Ve="__NATIVE_HTML__";function qe(e,t,n){const r=t.reduce(((t,n)=>t||e.getData(n)),"");return null!=r?r:n}const Ke={[Be]:{exposeProperties:{files:e=>Array.prototype.slice.call(e.files),items:e=>e.items,dataTransfer:e=>e},matchesTypes:["Files"]},[Ve]:{exposeProperties:{html:(e,t)=>qe(e,t,""),dataTransfer:e=>e},matchesTypes:["Html","text/html"]},[We]:{exposeProperties:{urls:(e,t)=>qe(e,t,"").split("\n"),dataTransfer:e=>e},matchesTypes:["Url","text/uri-list"]},[He]:{exposeProperties:{text:(e,t)=>qe(e,t,""),dataTransfer:e=>e},matchesTypes:["Text","text/plain"]}};function Xe(e){if(!e)return null;const t=Array.prototype.slice.call(e.types||[]);return Object.keys(Ke).filter((e=>{const n=Ke[e];return!!(null===n||void 0===n?void 0:n.matchesTypes)&&n.matchesTypes.some((e=>t.indexOf(e)>-1))}))[0]||null}const Ye=ze((()=>/firefox/i.test(navigator.userAgent))),Ge=ze((()=>Boolean(window.safari)));class Qe{interpolate(e){const{xs:t,ys:n,c1s:r,c2s:o,c3s:i}=this;let a=t.length-1;if(e===t[a])return n[a];let s,l=0,c=i.length-1;for(;l<=c;){s=Math.floor(.5*(l+c));const r=t[s];if(r<e)l=s+1;else{if(!(r>e))return n[s];c=s-1}}a=Math.max(0,c);const u=e-t[a],d=u*u;return n[a]+r[a]*u+o[a]*d+i[a]*u*d}constructor(e,t){const{length:n}=e,r=[];for(let f=0;f<n;f++)r.push(f);r.sort(((t,n)=>e[t]<e[n]?-1:1));const o=[],i=[],a=[];let s,l;for(let f=0;f<n-1;f++)s=e[f+1]-e[f],l=t[f+1]-t[f],i.push(s),o.push(l),a.push(l/s);const c=[a[0]];for(let f=0;f<i.length-1;f++){const e=a[f],t=a[f+1];if(e*t<=0)c.push(0);else{s=i[f];const n=i[f+1],r=s+n;c.push(3*r/((r+n)/e+(r+s)/t))}}c.push(a[a.length-1]);const u=[],d=[];let p;for(let f=0;f<c.length-1;f++){p=a[f];const e=c[f],t=1/i[f],n=e+c[f+1]-p-p;u.push((p-e-n)*t),d.push(n*t*t)}this.xs=e,this.ys=t,this.c1s=c,this.c2s=u,this.c3s=d}}function Je(e){const t=1===e.nodeType?e:e.parentElement;if(!t)return null;const{top:n,left:r}=t.getBoundingClientRect();return{x:r,y:n}}function Ze(e){return{x:e.clientX,y:e.clientY}}function et(e,t,n,r,o){const i=function(e){var t;return"IMG"===e.nodeName&&(Ye()||!(null===(t=document.documentElement)||void 0===t?void 0:t.contains(e)))}(t),a=Je(i?e:t),s={x:n.x-a.x,y:n.y-a.y},{offsetWidth:l,offsetHeight:c}=e,{anchorX:u,anchorY:d}=r,{dragPreviewWidth:p,dragPreviewHeight:f}=function(e,t,n,r){let o=e?t.width:n,i=e?t.height:r;return Ge()&&e&&(i/=window.devicePixelRatio,o/=window.devicePixelRatio),{dragPreviewWidth:o,dragPreviewHeight:i}}(i,t,l,c),{offsetX:g,offsetY:m}=o,h=0===m||m;return{x:0===g||g?g:new Qe([0,.5,1],[s.x,s.x/l*p,s.x+p-l]).interpolate(u),y:h?m:(()=>{let e=new Qe([0,.5,1],[s.y,s.y/c*f,s.y+f-c]).interpolate(d);return Ge()&&i&&(e+=(window.devicePixelRatio-1)*f),e})()}}class tt{get window(){return this.globalContext?this.globalContext:"undefined"!==typeof window?window:void 0}get document(){var e;return(null===(e=this.globalContext)||void 0===e?void 0:e.document)?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var e;return(null===(e=this.optionsArgs)||void 0===e?void 0:e.rootElement)||this.window}constructor(e,t){this.ownerDocument=null,this.globalContext=e,this.optionsArgs=t}}function nt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){nt(e,t,n[t])}))}return e}class ot{profile(){var e,t;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:(null===(e=this.dragStartSourceIds)||void 0===e?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:(null===(t=this.dragOverTargetIds)||void 0===t?void 0:t.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const e=this.rootElement;if(void 0!==e){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}teardown(){const e=this.rootElement;var t;void 0!==e&&(e.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId&&(null===(t=this.window)||void 0===t||t.cancelAnimationFrame(this.asyncEndDragFrameId)))}connectDragPreview(e,t,n){return this.sourcePreviewNodeOptions.set(e,n),this.sourcePreviewNodes.set(e,t),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDragSource(e,t,n){this.sourceNodes.set(e,t),this.sourceNodeOptions.set(e,n);const r=t=>this.handleDragStart(t,e),o=e=>this.handleSelectStart(e);return t.setAttribute("draggable","true"),t.addEventListener("dragstart",r),t.addEventListener("selectstart",o),()=>{this.sourceNodes.delete(e),this.sourceNodeOptions.delete(e),t.removeEventListener("dragstart",r),t.removeEventListener("selectstart",o),t.setAttribute("draggable","false")}}connectDropTarget(e,t){const n=t=>this.handleDragEnter(t,e),r=t=>this.handleDragOver(t,e),o=t=>this.handleDrop(t,e);return t.addEventListener("dragenter",n),t.addEventListener("dragover",r),t.addEventListener("drop",o),()=>{t.removeEventListener("dragenter",n),t.removeEventListener("dragover",r),t.removeEventListener("drop",o)}}addEventListeners(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const e=this.monitor.getSourceId(),t=this.sourceNodeOptions.get(e);return rt({dropEffect:this.altKeyPressed?"copy":"move"},t||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const e=this.monitor.getSourceId();return rt({anchorX:.5,anchorY:.5,captureDraggingState:!1},this.sourcePreviewNodeOptions.get(e)||{})}isDraggingNativeItem(){const e=this.monitor.getItemType();return Object.keys(r).some((t=>r[t]===e))}beginDragNativeItem(e,t){this.clearCurrentDragSourceNode(),this.currentNativeSource=function(e,t){const n=Ke[e];if(!n)throw new Error(`native type ${e} has no configuration`);const r=new Ue(n);return r.loadDataTransfer(t),r}(e,t),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e;this.mouseMoveTimeoutTimer=setTimeout((()=>{var e;return null===(e=this.rootElement)||void 0===e?void 0:e.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}),1e3)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){var e;if(this.currentDragSourceNode=null,this.rootElement)null===(e=this.window)||void 0===e||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0);return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(e,t){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(t))}handleDragEnter(e,t){this.dragEnterTargetIds.unshift(t)}handleDragOver(e,t){null===this.dragOverTargetIds&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(t)}handleDrop(e,t){this.dropTargetIds.unshift(t)}constructor(e,t,n){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=e=>{const t=this.sourceNodes.get(e);return t&&Je(t)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=e=>Boolean(e&&this.document&&this.document.body&&this.document.body.contains(e)),this.endDragIfSourceWasRemovedFromDOM=()=>{const e=this.currentDragSourceNode;null==e||this.isNodeInDocument(e)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=e=>{null===this.hoverRafId&&"undefined"!==typeof requestAnimationFrame&&(this.hoverRafId=requestAnimationFrame((()=>{this.monitor.isDragging()&&this.actions.hover(e||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null})))},this.cancelHover=()=>{null!==this.hoverRafId&&"undefined"!==typeof cancelAnimationFrame&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=e=>{if(e.defaultPrevented)return;const{dragStartSourceIds:t}=this;this.dragStartSourceIds=null;const n=Ze(e);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(t||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:n});const{dataTransfer:r}=e,o=Xe(r);if(this.monitor.isDragging()){if(r&&"function"===typeof r.setDragImage){const e=this.monitor.getSourceId(),t=this.sourceNodes.get(e),o=this.sourcePreviewNodes.get(e)||t;if(o){const{anchorX:e,anchorY:i,offsetX:a,offsetY:s}=this.getCurrentSourcePreviewNodeOptions(),l=et(t,o,n,{anchorX:e,anchorY:i},{offsetX:a,offsetY:s});r.setDragImage(o,l.x,l.y)}}try{null===r||void 0===r||r.setData("application/json",{})}catch(i){}this.setCurrentDragSourceNode(e.target);const{captureDraggingState:t}=this.getCurrentSourcePreviewNodeOptions();t?this.actions.publishDragSource():setTimeout((()=>this.actions.publishDragSource()),0)}else if(o)this.beginDragNativeItem(o);else{if(r&&!r.types&&(e.target&&!e.target.hasAttribute||!e.target.hasAttribute("draggable")))return;e.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=e=>{var t;(this.dragEnterTargetIds=[],this.isDraggingNativeItem())&&(null===(t=this.currentNativeSource)||void 0===t||t.loadDataTransfer(e.dataTransfer));if(!this.enterLeaveCounter.enter(e.target)||this.monitor.isDragging())return;const{dataTransfer:n}=e,r=Xe(n);r&&this.beginDragNativeItem(r,n)},this.handleTopDragEnter=e=>{const{dragEnterTargetIds:t}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=e.altKey,t.length>0&&this.actions.hover(t,{clientOffset:Ze(e)});t.some((e=>this.monitor.canDropOnTarget(e)))&&(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=e=>{var t;(this.dragOverTargetIds=[],this.isDraggingNativeItem())&&(null===(t=this.currentNativeSource)||void 0===t||t.loadDataTransfer(e.dataTransfer))},this.handleTopDragOver=e=>{const{dragOverTargetIds:t}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging())return e.preventDefault(),void(e.dataTransfer&&(e.dataTransfer.dropEffect="none"));this.altKeyPressed=e.altKey,this.lastClientOffset=Ze(e),this.scheduleHover(t);(t||[]).some((e=>this.monitor.canDropOnTarget(e)))?(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?e.preventDefault():(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=e=>{this.isDraggingNativeItem()&&e.preventDefault();this.enterLeaveCounter.leave(e.target)&&(this.isDraggingNativeItem()&&setTimeout((()=>this.endDragNativeItem()),0),this.cancelHover())},this.handleTopDropCapture=e=>{var t;(this.dropTargetIds=[],this.isDraggingNativeItem())?(e.preventDefault(),null===(t=this.currentNativeSource)||void 0===t||t.loadDataTransfer(e.dataTransfer)):Xe(e.dataTransfer)&&e.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=e=>{const{dropTargetIds:t}=this;this.dropTargetIds=[],this.actions.hover(t,{clientOffset:Ze(e)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=e=>{const t=e.target;"function"===typeof t.dragDrop&&("INPUT"===t.tagName||"SELECT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable||(e.preventDefault(),t.dragDrop()))},this.options=new tt(t,n),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new $e(this.isNodeInDocument)}}const it=function(e,t,n){return new ot(e,t,n)};function at(e,t){return function(){return e.apply(t,arguments)}}const{toString:st}=Object.prototype,{getPrototypeOf:lt}=Object,ct=(ut=Object.create(null),e=>{const t=st.call(e);return ut[t]||(ut[t]=t.slice(8,-1).toLowerCase())});var ut;const dt=e=>(e=e.toLowerCase(),t=>ct(t)===e),pt=e=>t=>typeof t===e,{isArray:ft}=Array,gt=pt("undefined");const mt=dt("ArrayBuffer");const ht=pt("string"),yt=pt("function"),bt=pt("number"),xt=e=>null!==e&&"object"===typeof e,vt=e=>{if("object"!==ct(e))return!1;const t=lt(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},wt=dt("Date"),Nt=dt("File"),kt=dt("Blob"),St=dt("FileList"),jt=dt("URLSearchParams"),[Et,Ct,_t,Tt]=["ReadableStream","Request","Response","Headers"].map(dt);function Ot(e,t){let n,r,{allOwnKeys:o=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),ft(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{const r=o?Object.getOwnPropertyNames(e):Object.keys(e),i=r.length;let a;for(n=0;n<i;n++)a=r[n],t.call(null,e[a],a,e)}}function Dt(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,o=n.length;for(;o-- >0;)if(r=n[o],t===r.toLowerCase())return r;return null}const It="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,Pt=e=>!gt(e)&&e!==It;const Rt=(At="undefined"!==typeof Uint8Array&&lt(Uint8Array),e=>At&&e instanceof At);var At;const Lt=dt("HTMLFormElement"),Mt=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),Ft=dt("RegExp"),zt=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Ot(n,((n,o)=>{let i;!1!==(i=t(n,o,e))&&(r[o]=i||n)})),Object.defineProperties(e,r)};const $t=dt("AsyncFunction"),Ut=((e,t)=>{return e?setImmediate:t?(n=`axios@${Math.random()}`,r=[],It.addEventListener("message",(e=>{let{source:t,data:o}=e;t===It&&o===n&&r.length&&r.shift()()}),!1),e=>{r.push(e),It.postMessage(n,"*")}):e=>setTimeout(e);var n,r})("function"===typeof setImmediate,yt(It.postMessage)),Bt="undefined"!==typeof queueMicrotask?queueMicrotask.bind(It):"undefined"!==typeof process&&process.nextTick||Ut,Wt={isArray:ft,isArrayBuffer:mt,isBuffer:function(e){return null!==e&&!gt(e)&&null!==e.constructor&&!gt(e.constructor)&&yt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||yt(e.append)&&("formdata"===(t=ct(e))||"object"===t&&yt(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&mt(e.buffer),t},isString:ht,isNumber:bt,isBoolean:e=>!0===e||!1===e,isObject:xt,isPlainObject:vt,isReadableStream:Et,isRequest:Ct,isResponse:_t,isHeaders:Tt,isUndefined:gt,isDate:wt,isFile:Nt,isBlob:kt,isRegExp:Ft,isFunction:yt,isStream:e=>xt(e)&&yt(e.pipe),isURLSearchParams:jt,isTypedArray:Rt,isFileList:St,forEach:Ot,merge:function e(){const{caseless:t}=Pt(this)&&this||{},n={},r=(r,o)=>{const i=t&&Dt(n,o)||o;vt(n[i])&&vt(r)?n[i]=e(n[i],r):vt(r)?n[i]=e({},r):ft(r)?n[i]=r.slice():n[i]=r};for(let o=0,i=arguments.length;o<i;o++)arguments[o]&&Ot(arguments[o],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Ot(t,((t,r)=>{n&&yt(t)?e[r]=at(t,n):e[r]=t}),{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let o,i,a;const s={};if(t=t||{},null==e)return t;do{for(o=Object.getOwnPropertyNames(e),i=o.length;i-- >0;)a=o[i],r&&!r(a,e,t)||s[a]||(t[a]=e[a],s[a]=!0);e=!1!==n&&lt(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:ct,kindOfTest:dt,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(ft(e))return e;let t=e.length;if(!bt(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:Lt,hasOwnProperty:Mt,hasOwnProp:Mt,reduceDescriptors:zt,freezeMethods:e=>{zt(e,((t,n)=>{if(yt(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];yt(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return ft(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:Dt,global:It,isContextDefined:Pt,isSpecCompliantForm:function(e){return!!(e&&yt(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(xt(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const o=ft(e)?[]:{};return Ot(e,((e,t)=>{const i=n(e,r+1);!gt(i)&&(o[t]=i)})),t[r]=void 0,o}}return e};return n(e,0)},isAsyncFn:$t,isThenable:e=>e&&(xt(e)||yt(e))&&yt(e.then)&&yt(e.catch),setImmediate:Ut,asap:Bt};function Ht(e,t,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o,this.status=o.status?o.status:null)}Wt.inherits(Ht,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Wt.toJSONObject(this.config),code:this.code,status:this.status}}});const Vt=Ht.prototype,qt={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{qt[e]={value:e}})),Object.defineProperties(Ht,qt),Object.defineProperty(Vt,"isAxiosError",{value:!0}),Ht.from=(e,t,n,r,o,i)=>{const a=Object.create(Vt);return Wt.toFlatObject(e,a,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),Ht.call(a,e.message,t,n,r,o),a.cause=e,a.name=e.name,i&&Object.assign(a,i),a};const Kt=Ht;function Xt(e){return Wt.isPlainObject(e)||Wt.isArray(e)}function Yt(e){return Wt.endsWith(e,"[]")?e.slice(0,-2):e}function Gt(e,t,n){return e?e.concat(t).map((function(e,t){return e=Yt(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const Qt=Wt.toFlatObject(Wt,{},null,(function(e){return/^is[A-Z]/.test(e)}));const Jt=function(e,t,n){if(!Wt.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=Wt.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!Wt.isUndefined(t[e])}))).metaTokens,o=n.visitor||c,i=n.dots,a=n.indexes,s=(n.Blob||"undefined"!==typeof Blob&&Blob)&&Wt.isSpecCompliantForm(t);if(!Wt.isFunction(o))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(Wt.isDate(e))return e.toISOString();if(!s&&Wt.isBlob(e))throw new Kt("Blob is not supported. Use a Buffer instead.");return Wt.isArrayBuffer(e)||Wt.isTypedArray(e)?s&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,o){let s=e;if(e&&!o&&"object"===typeof e)if(Wt.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(Wt.isArray(e)&&function(e){return Wt.isArray(e)&&!e.some(Xt)}(e)||(Wt.isFileList(e)||Wt.endsWith(n,"[]"))&&(s=Wt.toArray(e)))return n=Yt(n),s.forEach((function(e,r){!Wt.isUndefined(e)&&null!==e&&t.append(!0===a?Gt([n],r,i):null===a?n:n+"[]",l(e))})),!1;return!!Xt(e)||(t.append(Gt(o,n,i),l(e)),!1)}const u=[],d=Object.assign(Qt,{defaultVisitor:c,convertValue:l,isVisitable:Xt});if(!Wt.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!Wt.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),Wt.forEach(n,(function(n,i){!0===(!(Wt.isUndefined(n)||null===n)&&o.call(t,n,Wt.isString(i)?i.trim():i,r,d))&&e(n,r?r.concat(i):[i])})),u.pop()}}(e),t};function Zt(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function en(e,t){this._pairs=[],e&&Jt(e,this,t)}const tn=en.prototype;tn.append=function(e,t){this._pairs.push([e,t])},tn.toString=function(e){const t=e?function(t){return e.call(this,t,Zt)}:Zt;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const nn=en;function rn(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function on(e,t,n){if(!t)return e;const r=n&&n.encode||rn;Wt.isFunction(n)&&(n={serialize:n});const o=n&&n.serialize;let i;if(i=o?o(t,n):Wt.isURLSearchParams(t)?t.toString():new nn(t,n).toString(r),i){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}const an=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Wt.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},sn={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ln={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:nn,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},cn="undefined"!==typeof window&&"undefined"!==typeof document,un="object"===typeof navigator&&navigator||void 0,dn=cn&&(!un||["ReactNative","NativeScript","NS"].indexOf(un.product)<0),pn="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,fn=cn&&window.location.href||"http://localhost",gn={...o,...ln};const mn=function(e){function t(e,n,r,o){let i=e[o++];if("__proto__"===i)return!0;const a=Number.isFinite(+i),s=o>=e.length;if(i=!i&&Wt.isArray(r)?r.length:i,s)return Wt.hasOwnProp(r,i)?r[i]=[r[i],n]:r[i]=n,!a;r[i]&&Wt.isObject(r[i])||(r[i]=[]);return t(e,n,r[i],o)&&Wt.isArray(r[i])&&(r[i]=function(e){const t={},n=Object.keys(e);let r;const o=n.length;let i;for(r=0;r<o;r++)i=n[r],t[i]=e[i];return t}(r[i])),!a}if(Wt.isFormData(e)&&Wt.isFunction(e.entries)){const n={};return Wt.forEachEntry(e,((e,r)=>{t(function(e){return Wt.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null};const hn={transitional:sn,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,o=Wt.isObject(e);o&&Wt.isHTMLForm(e)&&(e=new FormData(e));if(Wt.isFormData(e))return r?JSON.stringify(mn(e)):e;if(Wt.isArrayBuffer(e)||Wt.isBuffer(e)||Wt.isStream(e)||Wt.isFile(e)||Wt.isBlob(e)||Wt.isReadableStream(e))return e;if(Wt.isArrayBufferView(e))return e.buffer;if(Wt.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let i;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Jt(e,new gn.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return gn.isNode&&Wt.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((i=Wt.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Jt(i?{"files[]":e}:e,t&&new t,this.formSerializer)}}return o||r?(t.setContentType("application/json",!1),function(e,t,n){if(Wt.isString(e))try{return(t||JSON.parse)(e),Wt.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||hn.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(Wt.isResponse(e)||Wt.isReadableStream(e))return e;if(e&&Wt.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(o){if(n){if("SyntaxError"===o.name)throw Kt.from(o,Kt.ERR_BAD_RESPONSE,this,null,this.response);throw o}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:gn.classes.FormData,Blob:gn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Wt.forEach(["delete","get","head","post","put","patch"],(e=>{hn.headers[e]={}}));const yn=hn,bn=Wt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),xn=Symbol("internals");function vn(e){return e&&String(e).trim().toLowerCase()}function wn(e){return!1===e||null==e?e:Wt.isArray(e)?e.map(wn):String(e)}function Nn(e,t,n,r,o){return Wt.isFunction(r)?r.call(this,t,n):(o&&(t=n),Wt.isString(t)?Wt.isString(r)?-1!==t.indexOf(r):Wt.isRegExp(r)?r.test(t):void 0:void 0)}class kn{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function o(e,t,n){const o=vn(t);if(!o)throw new Error("header name must be a non-empty string");const i=Wt.findKey(r,o);(!i||void 0===r[i]||!0===n||void 0===n&&!1!==r[i])&&(r[i||t]=wn(e))}const i=(e,t)=>Wt.forEach(e,((e,n)=>o(e,n,t)));if(Wt.isPlainObject(e)||e instanceof this.constructor)i(e,t);else if(Wt.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))i((e=>{const t={};let n,r,o;return e&&e.split("\n").forEach((function(e){o=e.indexOf(":"),n=e.substring(0,o).trim().toLowerCase(),r=e.substring(o+1).trim(),!n||t[n]&&bn[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t);else if(Wt.isHeaders(e))for(const[a,s]of e.entries())o(s,a,n);else null!=e&&o(t,e,n);return this}get(e,t){if(e=vn(e)){const n=Wt.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(Wt.isFunction(t))return t.call(this,e,n);if(Wt.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=vn(e)){const n=Wt.findKey(this,e);return!(!n||void 0===this[n]||t&&!Nn(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function o(e){if(e=vn(e)){const o=Wt.findKey(n,e);!o||t&&!Nn(0,n[o],o,t)||(delete n[o],r=!0)}}return Wt.isArray(e)?e.forEach(o):o(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const o=t[n];e&&!Nn(0,this[o],o,e,!0)||(delete this[o],r=!0)}return r}normalize(e){const t=this,n={};return Wt.forEach(this,((r,o)=>{const i=Wt.findKey(n,o);if(i)return t[i]=wn(r),void delete t[o];const a=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(o):String(o).trim();a!==o&&delete t[o],t[a]=wn(r),n[a]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return Wt.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&Wt.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,n]=e;return t+": "+n})).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[xn]=this[xn]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=vn(e);t[r]||(!function(e,t){const n=Wt.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,o){return this[r].call(this,t,e,n,o)},configurable:!0})}))}(n,e),t[r]=!0)}return Wt.isArray(e)?e.forEach(r):r(e),this}}kn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Wt.reduceDescriptors(kn.prototype,((e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}})),Wt.freezeMethods(kn);const Sn=kn;function jn(e,t){const n=this||yn,r=t||n,o=Sn.from(r.headers);let i=r.data;return Wt.forEach(e,(function(e){i=e.call(n,i,o.normalize(),t?t.status:void 0)})),o.normalize(),i}function En(e){return!(!e||!e.__CANCEL__)}function Cn(e,t,n){Kt.call(this,null==e?"canceled":e,Kt.ERR_CANCELED,t,n),this.name="CanceledError"}Wt.inherits(Cn,Kt,{__CANCEL__:!0});const _n=Cn;function Tn(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new Kt("Request failed with status code "+n.status,[Kt.ERR_BAD_REQUEST,Kt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const On=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let o,i=0,a=0;return t=void 0!==t?t:1e3,function(s){const l=Date.now(),c=r[a];o||(o=l),n[i]=s,r[i]=l;let u=a,d=0;for(;u!==i;)d+=n[u++],u%=e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),l-o<t)return;const p=c&&l-c;return p?Math.round(1e3*d/p):void 0}};const Dn=function(e,t){let n,r,o=0,i=1e3/t;const a=function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();o=i,n=null,r&&(clearTimeout(r),r=null),e.apply(null,t)};return[function(){const e=Date.now(),t=e-o;for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];t>=i?a(l,e):(n=l,r||(r=setTimeout((()=>{r=null,a(n)}),i-t)))},()=>n&&a(n)]},In=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const o=On(50,250);return Dn((n=>{const i=n.loaded,a=n.lengthComputable?n.total:void 0,s=i-r,l=o(s);r=i;e({loaded:i,total:a,progress:a?i/a:void 0,bytes:s,rate:l||void 0,estimated:l&&a&&i<=a?(a-i)/l:void 0,event:n,lengthComputable:null!=a,[t?"download":"upload"]:!0})}),n)},Pn=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Rn=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Wt.asap((()=>e(...n)))},An=gn.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,gn.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(gn.origin),gn.navigator&&/(msie|trident)/i.test(gn.navigator.userAgent)):()=>!0,Ln=gn.hasStandardBrowserEnv?{write(e,t,n,r,o,i){const a=[e+"="+encodeURIComponent(t)];Wt.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),Wt.isString(r)&&a.push("path="+r),Wt.isString(o)&&a.push("domain="+o),!0===i&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Mn(e,t,n){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(r||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Fn=e=>e instanceof Sn?{...e}:e;function zn(e,t){t=t||{};const n={};function r(e,t,n,r){return Wt.isPlainObject(e)&&Wt.isPlainObject(t)?Wt.merge.call({caseless:r},e,t):Wt.isPlainObject(t)?Wt.merge({},t):Wt.isArray(t)?t.slice():t}function o(e,t,n,o){return Wt.isUndefined(t)?Wt.isUndefined(e)?void 0:r(void 0,e,0,o):r(e,t,0,o)}function i(e,t){if(!Wt.isUndefined(t))return r(void 0,t)}function a(e,t){return Wt.isUndefined(t)?Wt.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function s(n,o,i){return i in t?r(n,o):i in e?r(void 0,n):void 0}const l={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s,headers:(e,t,n)=>o(Fn(e),Fn(t),0,!0)};return Wt.forEach(Object.keys(Object.assign({},e,t)),(function(r){const i=l[r]||o,a=i(e[r],t[r],r);Wt.isUndefined(a)&&i!==s||(n[r]=a)})),n}const $n=e=>{const t=zn({},e);let n,{data:r,withXSRFToken:o,xsrfHeaderName:i,xsrfCookieName:a,headers:s,auth:l}=t;if(t.headers=s=Sn.from(s),t.url=on(Mn(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&s.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),Wt.isFormData(r))if(gn.hasStandardBrowserEnv||gn.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(!1!==(n=s.getContentType())){const[e,...t]=n?n.split(";").map((e=>e.trim())).filter(Boolean):[];s.setContentType([e||"multipart/form-data",...t].join("; "))}if(gn.hasStandardBrowserEnv&&(o&&Wt.isFunction(o)&&(o=o(t)),o||!1!==o&&An(t.url))){const e=i&&a&&Ln.read(a);e&&s.set(i,e)}return t},Un="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){const r=$n(e);let o=r.data;const i=Sn.from(r.headers).normalize();let a,s,l,c,u,{responseType:d,onUploadProgress:p,onDownloadProgress:f}=r;function g(){c&&c(),u&&u(),r.cancelToken&&r.cancelToken.unsubscribe(a),r.signal&&r.signal.removeEventListener("abort",a)}let m=new XMLHttpRequest;function h(){if(!m)return;const r=Sn.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());Tn((function(e){t(e),g()}),(function(e){n(e),g()}),{data:d&&"text"!==d&&"json"!==d?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:r,config:e,request:m}),m=null}m.open(r.method.toUpperCase(),r.url,!0),m.timeout=r.timeout,"onloadend"in m?m.onloadend=h:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(h)},m.onabort=function(){m&&(n(new Kt("Request aborted",Kt.ECONNABORTED,e,m)),m=null)},m.onerror=function(){n(new Kt("Network Error",Kt.ERR_NETWORK,e,m)),m=null},m.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const o=r.transitional||sn;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new Kt(t,o.clarifyTimeoutError?Kt.ETIMEDOUT:Kt.ECONNABORTED,e,m)),m=null},void 0===o&&i.setContentType(null),"setRequestHeader"in m&&Wt.forEach(i.toJSON(),(function(e,t){m.setRequestHeader(t,e)})),Wt.isUndefined(r.withCredentials)||(m.withCredentials=!!r.withCredentials),d&&"json"!==d&&(m.responseType=r.responseType),f&&([l,u]=In(f,!0),m.addEventListener("progress",l)),p&&m.upload&&([s,c]=In(p),m.upload.addEventListener("progress",s),m.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(a=t=>{m&&(n(!t||t.type?new _n(null,e,m):t),m.abort(),m=null)},r.cancelToken&&r.cancelToken.subscribe(a),r.signal&&(r.signal.aborted?a():r.signal.addEventListener("abort",a)));const y=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);y&&-1===gn.protocols.indexOf(y)?n(new Kt("Unsupported protocol "+y+":",Kt.ERR_BAD_REQUEST,e)):m.send(o||null)}))},Bn=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const o=function(e){if(!n){n=!0,a();const t=e instanceof Error?e:this.reason;r.abort(t instanceof Kt?t:new _n(t instanceof Error?t.message:t))}};let i=t&&setTimeout((()=>{i=null,o(new Kt(`timeout ${t} of ms exceeded`,Kt.ETIMEDOUT))}),t);const a=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(o):e.removeEventListener("abort",o)})),e=null)};e.forEach((e=>e.addEventListener("abort",o)));const{signal:s}=r;return s.unsubscribe=()=>Wt.asap(a),s}},Wn=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,o=0;for(;o<n;)r=o+t,yield e.slice(o,r),o=r},Hn=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:n}=await t.read();if(e)break;yield n}}finally{await t.cancel()}},Vn=(e,t,n,r)=>{const o=async function*(e,t){for await(const n of Hn(e))yield*Wn(n,t)}(e,t);let i,a=0,s=e=>{i||(i=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await o.next();if(t)return s(),void e.close();let i=r.byteLength;if(n){let e=a+=i;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw s(t),t}},cancel:e=>(s(e),o.return())},{highWaterMark:2})},qn="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,Kn=qn&&"function"===typeof ReadableStream,Xn=qn&&("function"===typeof TextEncoder?(Yn=new TextEncoder,e=>Yn.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var Yn;const Gn=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch(o){return!1}},Qn=Kn&&Gn((()=>{let e=!1;const t=new Request(gn.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),Jn=Kn&&Gn((()=>Wt.isReadableStream(new Response("").body))),Zn={stream:Jn&&(e=>e.body)};var er;qn&&(er=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!Zn[e]&&(Zn[e]=Wt.isFunction(er[e])?t=>t[e]():(t,n)=>{throw new Kt(`Response type '${e}' is not supported`,Kt.ERR_NOT_SUPPORT,n)})})));const tr=async(e,t)=>{const n=Wt.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(Wt.isBlob(e))return e.size;if(Wt.isSpecCompliantForm(e)){const t=new Request(gn.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return Wt.isArrayBufferView(e)||Wt.isArrayBuffer(e)?e.byteLength:(Wt.isURLSearchParams(e)&&(e+=""),Wt.isString(e)?(await Xn(e)).byteLength:void 0)})(t):n},nr={http:null,xhr:Un,fetch:qn&&(async e=>{let{url:t,method:n,data:r,signal:o,cancelToken:i,timeout:a,onDownloadProgress:s,onUploadProgress:l,responseType:c,headers:u,withCredentials:d="same-origin",fetchOptions:p}=$n(e);c=c?(c+"").toLowerCase():"text";let f,g=Bn([o,i&&i.toAbortSignal()],a);const m=g&&g.unsubscribe&&(()=>{g.unsubscribe()});let h;try{if(l&&Qn&&"get"!==n&&"head"!==n&&0!==(h=await tr(u,r))){let e,n=new Request(t,{method:"POST",body:r,duplex:"half"});if(Wt.isFormData(r)&&(e=n.headers.get("content-type"))&&u.setContentType(e),n.body){const[e,t]=Pn(h,In(Rn(l)));r=Vn(n.body,65536,e,t)}}Wt.isString(d)||(d=d?"include":"omit");const o="credentials"in Request.prototype;f=new Request(t,{...p,signal:g,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:o?d:void 0});let i=await fetch(f);const a=Jn&&("stream"===c||"response"===c);if(Jn&&(s||a&&m)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=i[t]}));const t=Wt.toFiniteNumber(i.headers.get("content-length")),[n,r]=s&&Pn(t,In(Rn(s),!0))||[];i=new Response(Vn(i.body,65536,n,(()=>{r&&r(),m&&m()})),e)}c=c||"text";let y=await Zn[Wt.findKey(Zn,c)||"text"](i,e);return!a&&m&&m(),await new Promise(((t,n)=>{Tn(t,n,{data:y,headers:Sn.from(i.headers),status:i.status,statusText:i.statusText,config:e,request:f})}))}catch(y){if(m&&m(),y&&"TypeError"===y.name&&/fetch/i.test(y.message))throw Object.assign(new Kt("Network Error",Kt.ERR_NETWORK,e,f),{cause:y.cause||y});throw Kt.from(y,y&&y.code,e,f)}})};Wt.forEach(nr,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}}));const rr=e=>`- ${e}`,or=e=>Wt.isFunction(e)||null===e||!1===e,ir=e=>{e=Wt.isArray(e)?e:[e];const{length:t}=e;let n,r;const o={};for(let i=0;i<t;i++){let t;if(n=e[i],r=n,!or(n)&&(r=nr[(t=String(n)).toLowerCase()],void 0===r))throw new Kt(`Unknown adapter '${t}'`);if(r)break;o[t||"#"+i]=r}if(!r){const e=Object.entries(o).map((e=>{let[t,n]=e;return`adapter ${t} `+(!1===n?"is not supported by the environment":"is not available in the build")}));let n=t?e.length>1?"since :\n"+e.map(rr).join("\n"):" "+rr(e[0]):"as no adapter specified";throw new Kt("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function ar(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new _n(null,e)}function sr(e){ar(e),e.headers=Sn.from(e.headers),e.data=jn.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return ir(e.adapter||yn.adapter)(e).then((function(t){return ar(e),t.data=jn.call(e,e.transformResponse,t),t.headers=Sn.from(t.headers),t}),(function(t){return En(t)||(ar(e),t&&t.response&&(t.response.data=jn.call(e,e.transformResponse,t.response),t.response.headers=Sn.from(t.response.headers))),Promise.reject(t)}))}const lr="1.8.4",cr={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{cr[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const ur={};cr.transitional=function(e,t,n){function r(e,t){return"[Axios v1.8.4] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,o,i)=>{if(!1===e)throw new Kt(r(o," has been removed"+(t?" in "+t:"")),Kt.ERR_DEPRECATED);return t&&!ur[o]&&(ur[o]=!0,console.warn(r(o," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,o,i)}},cr.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};const dr={assertOptions:function(e,t,n){if("object"!==typeof e)throw new Kt("options must be an object",Kt.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let o=r.length;for(;o-- >0;){const i=r[o],a=t[i];if(a){const t=e[i],n=void 0===t||a(t,i,e);if(!0!==n)throw new Kt("option "+i+" must be "+n,Kt.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new Kt("Unknown option "+i,Kt.ERR_BAD_OPTION)}},validators:cr},pr=dr.validators;class fr{constructor(e){this.defaults=e,this.interceptors={request:new an,response:new an}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(r){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=zn(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:o}=t;void 0!==n&&dr.assertOptions(n,{silentJSONParsing:pr.transitional(pr.boolean),forcedJSONParsing:pr.transitional(pr.boolean),clarifyTimeoutError:pr.transitional(pr.boolean)},!1),null!=r&&(Wt.isFunction(r)?t.paramsSerializer={serialize:r}:dr.assertOptions(r,{encode:pr.function,serialize:pr.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),dr.assertOptions(t,{baseUrl:pr.spelling("baseURL"),withXsrfToken:pr.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let i=o&&Wt.merge(o.common,o[t.method]);o&&Wt.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete o[e]})),t.headers=Sn.concat(i,o);const a=[];let s=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(s=s&&e.synchronous,a.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let u,d=0;if(!s){const e=[sr.bind(this),void 0];for(e.unshift.apply(e,a),e.push.apply(e,l),u=e.length,c=Promise.resolve(t);d<u;)c=c.then(e[d++],e[d++]);return c}u=a.length;let p=t;for(d=0;d<u;){const e=a[d++],t=a[d++];try{p=e(p)}catch(f){t.call(this,f);break}}try{c=sr.call(this,p)}catch(f){return Promise.reject(f)}for(d=0,u=l.length;d<u;)c=c.then(l[d++],l[d++]);return c}getUri(e){return on(Mn((e=zn(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}Wt.forEach(["delete","get","head","options"],(function(e){fr.prototype[e]=function(t,n){return this.request(zn(n||{},{method:e,url:t,data:(n||{}).data}))}})),Wt.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,o){return this.request(zn(o||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}fr.prototype[e]=t(),fr.prototype[e+"Form"]=t(!0)}));const gr=fr;class mr{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,o){n.reason||(n.reason=new _n(e,r,o),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new mr((function(t){e=t})),cancel:e}}}const hr=mr;const yr={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(yr).forEach((e=>{let[t,n]=e;yr[n]=t}));const br=yr;const xr=function e(t){const n=new gr(t),r=at(gr.prototype.request,n);return Wt.extend(r,gr.prototype,n,{allOwnKeys:!0}),Wt.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(zn(t,n))},r}(yn);xr.Axios=gr,xr.CanceledError=_n,xr.CancelToken=hr,xr.isCancel=En,xr.VERSION=lr,xr.toFormData=Jt,xr.AxiosError=Kt,xr.Cancel=xr.CanceledError,xr.all=function(e){return Promise.all(e)},xr.spread=function(e){return function(t){return e.apply(null,t)}},xr.isAxiosError=function(e){return Wt.isObject(e)&&!0===e.isAxiosError},xr.mergeConfig=zn,xr.AxiosHeaders=Sn,xr.formToJSON=e=>mn(Wt.isHTMLForm(e)?new FormData(e):e),xr.getAdapter=ir,xr.HttpStatusCode=br,xr.default=xr;const vr=xr;const wr=new class{constructor(){this.nodes=new Map,this.listeners=[]}async discoverNodes(){try{console.log("Discovering nodes..."),this.nodes.clear();const e=await Or();if(console.log("Core nodes response:",e),Array.isArray(e)){console.log(`Processing ${e.length} core nodes`);for(const t of e)await this.processNode(t,!0)}else if(e&&"object"===typeof e){const t=e.coreNodes;if(t&&Array.isArray(t)){console.log(`Processing ${t.length} core nodes from object`);for(const e of t)await this.processNode(e,!0)}}const t=await Tr();if(console.log("Plugins response:",t),Array.isArray(t)){console.log(`Processing ${t.length} plugins`);for(const e of t)await this.processNode(e,!1)}else if(t&&"object"===typeof t){const e=t.plugins;if(e&&Array.isArray(e)){console.log(`Processing ${e.length} plugins from object`);for(const t of e)await this.processNode(t,!1)}else{const e=Object.entries(t);if(e.length>0){console.log(`Processing ${e.length} plugins from entries`);for(const[t,n]of e)if("object"===typeof n&&null!==n){const e={id:t,...n};await this.processNode(e,!1)}}}}return console.log(`Discovered ${this.nodes.size} total nodes`),console.log("Nodes by category:",this.getNodesByCategory()),this.notifyListeners(),this.nodes}catch(e){throw console.error("Error discovering nodes:",e),e}}async processNode(e,t){try{if(!e.id)return void console.warn("Node without ID found, skipping:",e);let n=e;e.__plugin_meta__&&(n={...e,...e.__plugin_meta__,inputs:e.__plugin_meta__.inputs||[],outputs:e.__plugin_meta__.outputs||[],category:e.__plugin_meta__.category||"Plugins"});const r=await this.validateNode(n),o={...n,status:r.valid?"available":"error",statusMessage:r.message,category:n.category||(t?"Core":"Plugins"),isCore:t};this.nodes.set(e.id,o),console.log(`Processed node: ${e.id}, category: ${o.category}`)}catch(n){console.error(`Error processing node ${e.id}:`,n)}}async validateNode(e){try{const n={...e};if(!n.id)return{valid:!1,message:"Missing required field: id"};if(!n.name&&n.title&&(n.name=n.title),!n.name)return{valid:!1,message:"Missing required field: name"};Array.isArray(n.inputs)||(n.inputs=[]),Array.isArray(n.outputs)||(n.outputs=[]);for(let e=0;e<n.inputs.length;e++){const t=n.inputs[e];!t.id&&t.name&&(t.id=t.name),t.id||(t.id=`input_${e}`),t.name||(t.name=t.id),t.type||(t.type="any")}for(let e=0;e<n.outputs.length;e++){const t=n.outputs[e];!t.id&&t.name&&(t.id=t.name),t.id||(t.id=`output_${e}`),t.name||(t.name=t.id),t.type||(t.type="any")}n.status||(n.status="available");try{const t=await Dr(n);if(t&&!t.valid)return{valid:!1,message:t.message};t&&t.node_def?Object.assign(e,t.node_def):Object.assign(e,n)}catch(t){console.warn("Backend validation not available, using client-side validation only"),Object.assign(e,n)}return{valid:!0}}catch(t){return{valid:!1,message:`Validation error: ${t}`}}}getNodes(){return this.nodes}getNodesByCategory(){const e={};return this.nodes.forEach((t=>{const n=t.category||(t.isCore?"Core":"Plugins");e[n]||(e[n]=[]),e[n].push(t)})),e}addListener(e){return this.listeners.push(e),()=>{this.listeners=this.listeners.filter((t=>t!==e))}}notifyListeners(){this.listeners.forEach((e=>e()))}},Nr=wr,kr={coreNodes:[{id:"core.begin",name:"Begin",category:"CONTROL_FLOW",description:"Starting point of the workflow",status:"available",isCore:!0,inputs:[],outputs:[{id:"trigger",name:"Trigger",type:"trigger"},{id:"workflow_id",name:"Workflow ID",type:"string"},{id:"timestamp",name:"Timestamp",type:"number"}],ui_properties:{color:"#2ecc71",icon:"play",width:240}},{id:"core.end",name:"End",category:"CONTROL_FLOW",description:"Ending point of the workflow",status:"available",isCore:!0,inputs:[{id:"trigger",name:"Trigger",type:"trigger",required:!0},{id:"result",name:"Result",type:"any"}],outputs:[{id:"workflow_id",name:"Workflow ID",type:"string"},{id:"execution_time",name:"Execution Time",type:"number"}],ui_properties:{color:"#e74c3c",icon:"stop",width:240}},{id:"core.conditional",name:"Conditional",category:"CONTROL_FLOW",description:"Branch based on a condition",status:"available",isCore:!0,inputs:[{id:"trigger",name:"Trigger",type:"trigger"},{id:"condition",name:"Condition",type:"boolean",required:!0}],outputs:[{id:"true",name:"True",type:"trigger"},{id:"false",name:"False",type:"trigger"}],ui_properties:{color:"#f39c12",icon:"code-branch",width:240}},{id:"core.text_input",name:"Text Input",category:"TEXT",description:"Enter text manually",status:"available",isCore:!0,inputs:[{id:"trigger",name:"Trigger",type:"trigger"}],outputs:[{id:"text",name:"Text",type:"string"},{id:"length",name:"Length",type:"number"}],ui_properties:{color:"#3498db",icon:"font",width:240}},{id:"core.text_output",name:"Text Output",category:"TEXT",description:"Display text results",status:"available",isCore:!0,inputs:[{id:"text",name:"Text",type:"string",required:!0},{id:"trigger",name:"Trigger",type:"trigger"}],outputs:[{id:"text",name:"Text",type:"string"}],ui_properties:{color:"#e74c3c",icon:"comment",width:240}}],plugins:[{id:"plugin.text_transform",name:"Text Transform",category:"TEXT",description:"Transform text (uppercase, lowercase, etc.)",status:"available",isCore:!1,inputs:[{id:"text",name:"Text",type:"string",required:!0},{id:"transform_type",name:"Transform Type",type:"string",required:!0},{id:"trigger",name:"Trigger",type:"trigger"}],outputs:[{id:"transformed_text",name:"Transformed Text",type:"string"}],ui_properties:{color:"#9b59b6",icon:"text-height",width:240}},{id:"plugin.math_operation",name:"Math Operation",category:"MATH",description:"Perform math operations",status:"available",isCore:!1,inputs:[{id:"a",name:"A",type:"number",required:!0},{id:"b",name:"B",type:"number",required:!0},{id:"operation",name:"Operation",type:"string",required:!0},{id:"trigger",name:"Trigger",type:"trigger"}],outputs:[{id:"result",name:"Result",type:"number"}],ui_properties:{color:"#f1c40f",icon:"calculator",width:240}},{id:"plugin.data_filter",name:"Data Filter",category:"DATA",description:"Filter data based on conditions",status:"available",isCore:!1,inputs:[{id:"data",name:"Data",type:"array",required:!0},{id:"filter_condition",name:"Filter Condition",type:"string",required:!0},{id:"trigger",name:"Trigger",type:"trigger"}],outputs:[{id:"filtered_data",name:"Filtered Data",type:"array"}],ui_properties:{color:"#1abc9c",icon:"filter",width:240}}]},Sr="http://localhost:8001",jr={NODE_ENV:"production",PUBLIC_URL:"/workflow-builder",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_WS_URL||"ws://localhost:8001/ws",Er={WEBSOCKETS_ENABLED:!0,NODE_INSTANCES_ENABLED:!0,LAZY_LOADING_ENABLED:!0,ENABLE_TEMPLATES:!0,ENABLE_SCHEDULING:!0,ENABLE_CACHING:!0,ENABLE_PARTIAL_EXECUTION:!0,ENABLE_TYPE_VALIDATION:!0,ENABLE_DARK_MODE:!0},Cr=!0===window.STANDALONE_DEMO,_r=vr.create({baseURL:Sr,headers:{"Content-Type":"application/json"},timeout:5e3,withCredentials:!1});_r.interceptors.request.use((e=>{const t=localStorage.getItem("auth_token");return t&&(e.headers.Authorization=`Bearer ${t}`),e}),(e=>Promise.reject(e))),_r.interceptors.response.use((e=>e),(e=>"ERR_NETWORK"===e.code||"ECONNABORTED"===e.code||e.message.includes("Network Error")?(console.warn("Backend connection failed, using fallback data"),Promise.resolve({data:null,status:404,statusText:"Backend unavailable",headers:{},config:e.config})):(console.error("API error:",e.message),Promise.reject(e))));const Tr=async()=>{if(Cr)return console.log("Standalone demo mode: Using mock plugins"),y;try{const e=await _r.get("/api/plugins");if(console.log("Plugin response:",e.data),null===e.data){console.warn("Backend unavailable, using mock plugins");const e=await Pr();return console.log("Using mock plugins:",e.plugins.length),e.plugins||[]}if(Array.isArray(e.data))return console.log(`Processing ${e.data.length} plugins from array`),e.data.map((e=>{const t=e.__plugin_meta__||e;return{id:e.id||"unknown",name:t.name||e.title||"Unknown Plugin",category:t.category||"Plugins",description:t.description||"No description available",inputs:t.inputs||[],outputs:t.outputs||[],ui_properties:{color:t.color||"#3498db",icon:t.icon||"puzzle-piece",width:t.width||240},__plugin_meta__:{name:t.name||e.title||"Unknown Plugin",category:t.category||"Plugins",description:t.description||"No description available",editable:!1!==t.editable,generated:t.generated||!1,inputs:t.inputs||[],outputs:t.outputs||[],configFields:t.configFields||[]}}}));if(e.data&&"success"===e.data.status&&e.data.data)return console.log("Processing plugins from API response"),e.data.data;if(e.data&&e.data.plugins&&Array.isArray(e.data.plugins))return console.log(`Processing ${e.data.plugins.length} plugins from object.plugins`),e.data.plugins;if(e.data){if(console.log("Converting plugin format:",e.data),"object"===typeof e.data&&!Array.isArray(e.data)){const t=Object.entries(e.data).map((e=>{let[t,n]=e;return{id:t,name:n.name||t,category:n.category||"Plugins",description:n.description||"No description available",inputs:n.inputs||[],outputs:n.outputs||[],ui_properties:{color:n.color||"#3498db",icon:n.icon||"puzzle-piece",width:n.width||240},__plugin_meta__:{name:n.name||t,category:n.category||"Plugins",description:n.description||"No description available",editable:!1!==n.editable,generated:n.generated||!1,inputs:n.inputs||[],outputs:n.outputs||[],configFields:n.configFields||[]}}}));return console.log(`Converted ${t.length} plugins from object`),t}console.warn("Unknown plugin response format:",e.data);return(await Pr()).plugins||[]}console.warn("Empty plugin response, using mock data");return(await Pr()).plugins||[]}catch(e){console.error("Error fetching plugins:",e);const t=await Pr();return console.log("Using mock plugins due to error:",t.plugins.length),t.plugins||[]}},Or=async function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];try{const t=await _r.get(`/core-nodes?full_metadata=${e}`);if(console.log("Core nodes API response:",t.data),null===t.data){console.warn("Backend unavailable, using mock core nodes");const e=await Pr();return console.log("Using mock core nodes:",e.coreNodes.length),e.coreNodes}if("success"===t.data.status&&Array.isArray(t.data.data))return t.data.data;if(Array.isArray(t.data))return t.data;if(t.data&&"object"===typeof t.data){if(t.data.data&&Array.isArray(t.data.data))return t.data.data;if(t.data.coreNodes&&Array.isArray(t.data.coreNodes))return t.data.coreNodes;if(t.data.nodes&&Array.isArray(t.data.nodes))return t.data.nodes}console.warn("Unknown core nodes response format, using mock data");return(await Pr()).coreNodes}catch(t){console.error("Error fetching core nodes:",t);const e=await Pr();return console.log("Using mock core nodes due to error:",e.coreNodes.length),e.coreNodes}},Dr=async e=>{try{const t=await _r.post("/nodes/validate",e);return t.data&&"success"===t.data.status&&t.data.data?t.data.data:t.data&&"boolean"===typeof t.data.valid?t.data:(console.warn("Unknown validation response format:",t.data),{valid:!0,message:"Validation skipped (unknown response format)"})}catch(t){return console.error("Error validating node definition:",t),{valid:!0,message:"Validation skipped (backend unavailable)"}}},Ir=async()=>{try{const e=await _r.get("/api/node-configs");return e.data&&"success"===e.data.status&&e.data.data?e.data.data:(console.warn("Invalid node configs response format:",e.data),{})}catch(e){return console.error("Error fetching node configurations:",e),{}}},Pr=async()=>({coreNodes:kr.coreNodes||[],plugins:kr.plugins||[]}),Rr=async()=>({types:{string:{name:"String",description:"Text value"},number:{name:"Number",description:"Numeric value"},boolean:{name:"Boolean",description:"True/false value"},object:{name:"Object",description:"JavaScript object"},array:{name:"Array",description:"List of values"},any:{name:"Any",description:"Any type of value"},trigger:{name:"Trigger",description:"Execution trigger"}},rules:[{source:"string",target:["string","any"],bidirectional:!1},{source:"number",target:["number","string","any"],bidirectional:!1},{source:"boolean",target:["boolean","string","any"],bidirectional:!1},{source:"object",target:["object","any"],bidirectional:!1},{source:"array",target:["array","any"],bidirectional:!1},{source:"trigger",target:["trigger"],bidirectional:!0},{source:"any",target:["string","number","boolean","object","array","any"],bidirectional:!0}]});let Ar=function(e){return e.DATA_PROCESSING="Data Processing",e.MACHINE_LEARNING="Machine Learning",e.WEB_AUTOMATION="Web Automation",e.API_INTEGRATION="API Integration",e.TEXT_PROCESSING="Text Processing",e.UTILITIES="Utilities",e}({}),Lr=function(e){return e.BEGINNER="beginner",e.INTERMEDIATE="intermediate",e.ADVANCED="advanced",e}({});const Mr=[{id:"template-1",name:"Simple Data Processing",description:"A basic workflow for loading, transforming, and saving data",category:Ar.DATA_PROCESSING,difficulty:Lr.BEGINNER,tags:["csv","data","beginner"],workflow:{id:null,name:"Simple Data Processing",nodes:[{id:"node-1",type:"core.begin",x:100,y:200,config:{title:"Begin"}},{id:"node-2",type:"core.data.csv_loader",x:400,y:200,config:{title:"Load CSV",file_path:"data/sample.csv"}},{id:"node-3",type:"core.data.filter",x:700,y:200,config:{title:"Filter Data",condition:"value > 10"}},{id:"node-4",type:"core.data.csv_writer",x:1e3,y:200,config:{title:"Save CSV",file_path:"data/filtered.csv"}}],connections:[{id:"conn-1",from:{nodeId:"node-1",port:"trigger"},to:{nodeId:"node-2",port:"trigger"}},{id:"conn-2",from:{nodeId:"node-2",port:"data"},to:{nodeId:"node-3",port:"data"}},{id:"conn-3",from:{nodeId:"node-3",port:"filtered"},to:{nodeId:"node-4",port:"data"}}]},created_by:"system",created_at:"2023-01-01T00:00:00Z",usage_count:120},{id:"template-2",name:"Basic ML Pipeline",description:"A simple machine learning workflow for training and evaluating a model",category:Ar.MACHINE_LEARNING,difficulty:Lr.INTERMEDIATE,tags:["ml","training","evaluation"],workflow:{id:null,name:"Basic ML Pipeline",nodes:[{id:"node-1",type:"core.begin",x:100,y:200,config:{title:"Begin"}},{id:"node-2",type:"core.data.dataset_loader",x:400,y:200,config:{title:"Load Dataset",dataset:"iris"}},{id:"node-3",type:"core.ml.split_data",x:700,y:200,config:{title:"Split Data",test_size:.2,random_state:42}},{id:"node-4",type:"core.ml.train_model",x:1e3,y:100,config:{title:"Train Model",model_type:"Random Forest",hyperparams:'{"n_estimators": 100, "max_depth": 5}'}},{id:"node-5",type:"core.ml.evaluate",x:1300,y:200,config:{title:"Evaluate Model",metrics:["Accuracy","Precision","Recall"]}}],connections:[{id:"conn-1",from:{nodeId:"node-1",port:"trigger"},to:{nodeId:"node-2",port:"trigger"}},{id:"conn-2",from:{nodeId:"node-2",port:"data"},to:{nodeId:"node-3",port:"data"}},{id:"conn-3",from:{nodeId:"node-3",port:"train_data"},to:{nodeId:"node-4",port:"data"}},{id:"conn-4",from:{nodeId:"node-4",port:"model"},to:{nodeId:"node-5",port:"model"}},{id:"conn-5",from:{nodeId:"node-3",port:"test_data"},to:{nodeId:"node-5",port:"test_data"}}]},created_by:"system",created_at:"2023-01-15T00:00:00Z",usage_count:85},{id:"template-3",name:"API Data Fetcher",description:"Fetch data from an API and process the results",category:Ar.API_INTEGRATION,difficulty:Lr.BEGINNER,tags:["api","http","json"],workflow:{id:null,name:"API Data Fetcher",nodes:[{id:"node-1",type:"core.begin",x:100,y:200,config:{title:"Begin"}},{id:"node-2",type:"core.web.http_request",x:400,y:200,config:{title:"Fetch API Data",url:"https://api.example.com/data",method:"GET",headers:'{"Authorization": "Bearer ${token}"}'}},{id:"node-3",type:"core.data.json_parser",x:700,y:200,config:{title:"Parse JSON",path:"data.items"}},{id:"node-4",type:"core.data.data_mapper",x:1e3,y:200,config:{title:"Map Data",mapping:'{"id": "$.id", "name": "$.title", "value": "$.amount"}'}},{id:"node-5",type:"core.data.csv_writer",x:1300,y:200,config:{title:"Save as CSV",file_path:"data/api_results.csv"}}],connections:[{id:"conn-1",from:{nodeId:"node-1",port:"trigger"},to:{nodeId:"node-2",port:"trigger"}},{id:"conn-2",from:{nodeId:"node-2",port:"response"},to:{nodeId:"node-3",port:"json"}},{id:"conn-3",from:{nodeId:"node-3",port:"data"},to:{nodeId:"node-4",port:"input"}},{id:"conn-4",from:{nodeId:"node-4",port:"output"},to:{nodeId:"node-5",port:"data"}}]},created_by:"system",created_at:"2023-02-10T00:00:00Z",usage_count:65}],Fr=e=>{let{onSelectTemplate:t,onClose:n}=e;const[r,o]=(0,a.useState)("all"),[i,s]=(0,a.useState)(""),[l,c]=(0,a.useState)(null),u=Mr.filter((e=>{const t="all"===r||e.category===r,n=e.name.toLowerCase().includes(i.toLowerCase())||e.description.toLowerCase().includes(i.toLowerCase())||e.tags.some((e=>e.toLowerCase().includes(i.toLowerCase())));return t&&n})),d=u.reduce(((e,t)=>(e[t.category]||(e[t.category]=[]),e[t.category].push(t),e)),{}),p=e=>{c(e)},f=e=>{switch(e){case"beginner":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";case"intermediate":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300";case"advanced":return"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}};return(0,x.jsx)("div",{className:"template-gallery-overlay",children:(0,x.jsxs)("div",{className:"template-gallery-container bg-white dark:bg-dark-800 shadow-xl rounded-lg",children:[(0,x.jsxs)("div",{className:"template-gallery-header flex justify-between items-center p-4 border-b border-gray-200 dark:border-dark-600",children:[(0,x.jsx)("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white",children:"Workflow Templates"}),(0,x.jsx)("button",{onClick:n,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:(0,x.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,x.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,x.jsxs)("div",{className:"template-gallery-content flex h-[calc(100%-8rem)]",children:[(0,x.jsxs)("div",{className:"template-gallery-sidebar w-64 border-r border-gray-200 dark:border-dark-600 p-4 overflow-y-auto",children:[(0,x.jsx)("div",{className:"mb-4",children:(0,x.jsx)("input",{type:"text",placeholder:"Search templates...",value:i,onChange:e=>s(e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-dark-600 rounded-md bg-white dark:bg-dark-700 text-gray-900 dark:text-gray-100"})}),(0,x.jsxs)("div",{className:"mb-4",children:[(0,x.jsx)("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-2",children:"Categories"}),(0,x.jsxs)("ul",{children:[(0,x.jsx)("li",{className:"mb-1",children:(0,x.jsx)("button",{className:"w-full text-left px-2 py-1 rounded-md "+("all"===r?"bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-200":"text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-dark-700"),onClick:()=>o("all"),children:"All Templates"})}),Object.values(Ar).map((e=>(0,x.jsx)("li",{className:"mb-1",children:(0,x.jsx)("button",{className:"w-full text-left px-2 py-1 rounded-md "+(r===e?"bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-200":"text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-dark-700"),onClick:()=>o(e),children:e})},e)))]})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-2",children:"Difficulty"}),(0,x.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,x.jsx)("span",{className:`px-2 py-1 rounded-md text-xs ${f("beginner")}`,children:"Beginner"}),(0,x.jsx)("span",{className:`px-2 py-1 rounded-md text-xs ${f("intermediate")}`,children:"Intermediate"}),(0,x.jsx)("span",{className:`px-2 py-1 rounded-md text-xs ${f("advanced")}`,children:"Advanced"})]})]})]}),(0,x.jsx)("div",{className:"template-gallery-templates flex-1 p-4 overflow-y-auto",children:0===u.length?(0,x.jsx)("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No templates found matching your criteria."}):(0,x.jsx)(x.Fragment,{children:"all"===r?Object.entries(d).map((e=>{let[t,n]=e;return(0,x.jsxs)("div",{className:"mb-8",children:[(0,x.jsx)("h3",{className:"text-lg font-medium text-gray-800 dark:text-white mb-4",children:t}),(0,x.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map((e=>(0,x.jsxs)("div",{className:"template-card border rounded-lg overflow-hidden cursor-pointer transition-all duration-200 "+((null===l||void 0===l?void 0:l.id)===e.id?"border-indigo-500 ring-2 ring-indigo-500 dark:border-indigo-400 dark:ring-indigo-400":"border-gray-200 hover:border-indigo-300 dark:border-dark-600 dark:hover:border-indigo-700"),onClick:()=>p(e),children:[(0,x.jsx)("div",{className:"template-card-preview h-32 bg-gray-100 dark:bg-dark-700 flex items-center justify-center",children:e.thumbnail?(0,x.jsx)("img",{src:e.thumbnail,alt:e.name,className:"max-h-full max-w-full object-contain"}):(0,x.jsx)("div",{className:"text-gray-400 dark:text-gray-600",children:(0,x.jsx)("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,x.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 17V7m0 10a2 2 0 01-2 2H5a2 2 0 01-2-2V7a2 2 0 012-2h2a2 2 0 012 2m0 10a2 2 0 002 2h2a2 2 0 002-2M9 7a2 2 0 012-2h2a2 2 0 012 2m0 10V7m0 10a2 2 0 002 2h2a2 2 0 002-2V7a2 2 0 00-2-2h-2a2 2 0 00-2 2"})})})}),(0,x.jsxs)("div",{className:"p-4",children:[(0,x.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white mb-1",children:e.name}),(0,x.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2 line-clamp-2",children:e.description}),(0,x.jsxs)("div",{className:"flex flex-wrap gap-1 mt-2",children:[(0,x.jsx)("span",{className:`px-2 py-0.5 rounded-md text-xs ${f(e.difficulty)}`,children:e.difficulty.charAt(0).toUpperCase()+e.difficulty.slice(1)}),e.tags.slice(0,2).map((e=>(0,x.jsx)("span",{className:"px-2 py-0.5 rounded-md text-xs bg-gray-100 text-gray-600 dark:bg-dark-700 dark:text-gray-300",children:e},e))),e.tags.length>2&&(0,x.jsxs)("span",{className:"px-2 py-0.5 rounded-md text-xs bg-gray-100 text-gray-600 dark:bg-dark-700 dark:text-gray-300",children:["+",e.tags.length-2]})]})]})]},e.id)))})]},t)})):(0,x.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:u.map((e=>(0,x.jsxs)("div",{className:"template-card border rounded-lg overflow-hidden cursor-pointer transition-all duration-200 "+((null===l||void 0===l?void 0:l.id)===e.id?"border-indigo-500 ring-2 ring-indigo-500 dark:border-indigo-400 dark:ring-indigo-400":"border-gray-200 hover:border-indigo-300 dark:border-dark-600 dark:hover:border-indigo-700"),onClick:()=>p(e),children:[(0,x.jsx)("div",{className:"template-card-preview h-32 bg-gray-100 dark:bg-dark-700 flex items-center justify-center",children:e.thumbnail?(0,x.jsx)("img",{src:e.thumbnail,alt:e.name,className:"max-h-full max-w-full object-contain"}):(0,x.jsx)("div",{className:"text-gray-400 dark:text-gray-600",children:(0,x.jsx)("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,x.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 17V7m0 10a2 2 0 01-2 2H5a2 2 0 01-2-2V7a2 2 0 012-2h2a2 2 0 012 2m0 10a2 2 0 002 2h2a2 2 0 002-2M9 7a2 2 0 012-2h2a2 2 0 012 2m0 10V7m0 10a2 2 0 002 2h2a2 2 0 002-2V7a2 2 0 00-2-2h-2a2 2 0 00-2 2"})})})}),(0,x.jsxs)("div",{className:"p-4",children:[(0,x.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white mb-1",children:e.name}),(0,x.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2 line-clamp-2",children:e.description}),(0,x.jsxs)("div",{className:"flex flex-wrap gap-1 mt-2",children:[(0,x.jsx)("span",{className:`px-2 py-0.5 rounded-md text-xs ${f(e.difficulty)}`,children:e.difficulty.charAt(0).toUpperCase()+e.difficulty.slice(1)}),e.tags.slice(0,2).map((e=>(0,x.jsx)("span",{className:"px-2 py-0.5 rounded-md text-xs bg-gray-100 text-gray-600 dark:bg-dark-700 dark:text-gray-300",children:e},e))),e.tags.length>2&&(0,x.jsxs)("span",{className:"px-2 py-0.5 rounded-md text-xs bg-gray-100 text-gray-600 dark:bg-dark-700 dark:text-gray-300",children:["+",e.tags.length-2]})]})]})]},e.id)))})})})]}),(0,x.jsxs)("div",{className:"template-gallery-footer p-4 border-t border-gray-200 dark:border-dark-600 flex justify-between items-center",children:[(0,x.jsx)("div",{children:l&&(0,x.jsxs)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Selected: ",(0,x.jsx)("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:l.name})]})}),(0,x.jsxs)("div",{className:"flex gap-2",children:[(0,x.jsx)("button",{onClick:n,className:"px-4 py-2 border border-gray-300 dark:border-dark-600 rounded-md text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-dark-700",children:"Cancel"}),(0,x.jsx)("button",{onClick:()=>{l&&(t({...l.workflow,id:null,name:`${l.name} Copy`}),n())},disabled:!l,className:"px-4 py-2 rounded-md "+(l?"bg-indigo-600 text-white hover:bg-indigo-700 dark:bg-indigo-700 dark:hover:bg-indigo-800":"bg-indigo-300 text-white cursor-not-allowed dark:bg-indigo-900"),children:"Use Template"})]})]})]})})},zr=e=>{let{workflowName:t,onNewWorkflow:n,onClearCanvas:r,onLoadTemplate:o,onShowShortcuts:i}=e;const[s,l]=(0,a.useState)(!1);return(0,x.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[(0,x.jsxs)("div",{className:"flex justify-between items-center",children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("h1",{className:"text-3xl font-bold text-gray-800",children:"ML Workflows"}),(0,x.jsx)("p",{className:"text-gray-600 mt-1",children:"Design, manage and execute machine learning pipelines"})]}),(0,x.jsxs)("div",{className:"flex space-x-2",children:[(0,x.jsxs)("button",{onClick:n,className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition",children:[(0,x.jsx)("i",{className:"fas fa-plus mr-2"})," New Workflow"]}),(0,x.jsxs)("button",{className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition",children:[(0,x.jsx)("i",{className:"fas fa-file-import mr-2"})," Import"]}),(0,x.jsxs)("button",{className:"px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700 transition",onClick:()=>l(!0),children:[(0,x.jsx)("i",{className:"fas fa-shapes mr-2"})," Templates"]}),(0,x.jsxs)("button",{className:"px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700 transition",onClick:()=>i&&i(),children:[(0,x.jsx)("i",{className:"fas fa-keyboard mr-2"})," Shortcuts"]}),(0,x.jsxs)("button",{className:"px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 transition",children:[(0,x.jsx)("i",{className:"fas fa-folder-open mr-2"})," Load"]})]})]}),s&&(0,x.jsx)(Fr,{onSelectTemplate:e=>{o&&o(e),l(!1)},onClose:()=>l(!1)})]})};var $r=n(122);const Ur="undefined"!==typeof window?a.useLayoutEffect:a.useEffect;function Br(e,t,n){const[r,o]=function(e,t,n){const[r,o]=(0,a.useState)((()=>t(e))),i=(0,a.useCallback)((()=>{const i=t(e);$r(r,i)||(o(i),n&&n())}),[r,e,n]);return Ur(i),[r,i]}(e,t,n);return Ur((function(){const t=e.getHandlerId();if(null!=t)return e.subscribeToStateChange(o,{handlerIds:[t]})}),[e,o]),r}function Wr(e,t,n){return Br(t,e||(()=>({})),(()=>n.reconnect()))}function Hr(e,t){const n=[...t||[]];return null==t&&"function"!==typeof e&&n.push(e),(0,a.useMemo)((()=>"function"===typeof e?e():e),n)}function Vr(e){return(0,a.useMemo)((()=>e.hooks.dragSource()),[e])}function qr(e){return(0,a.useMemo)((()=>e.hooks.dragPreview()),[e])}function Kr(e,t,n,r){let o=n?n.call(r,e,t):void 0;if(void 0!==o)return!!o;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;const i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;const s=Object.prototype.hasOwnProperty.bind(t);for(let l=0;l<i.length;l++){const a=i[l];if(!s(a))return!1;const c=e[a],u=t[a];if(o=n?n.call(r,c,u,a):void 0,!1===o||void 0===o&&c!==u)return!1}return!0}function Xr(e){return null!==e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function Yr(e){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!(0,a.isValidElement)(t)){const r=t;return e(r,n),r}const r=t;!function(e){if("string"===typeof e.type)return;const t=e.type.displayName||e.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${t} into a <div>, or turn it into a drag source or a drop target itself.`)}(r);return function(e,t){const n=e.ref;return D("string"!==typeof n,"Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),n?(0,a.cloneElement)(e,{ref:e=>{Qr(n,e),Qr(t,e)}}):(0,a.cloneElement)(e,{ref:t})}(r,n?t=>e(t,n):e)}}function Gr(e){const t={};return Object.keys(e).forEach((n=>{const r=e[n];if(n.endsWith("Ref"))t[n]=e[n];else{const e=Yr(r);t[n]=()=>e}})),t}function Qr(e,t){"function"===typeof e?e(t):e.current=t}class Jr{receiveHandlerId(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(e){this.dragSourceOptionsInternal=e}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(e){this.dragPreviewOptionsInternal=e}reconnect(){const e=this.reconnectDragSource();this.reconnectDragPreview(e)}reconnectDragSource(){const e=this.dragSource,t=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return t&&this.disconnectDragSource(),this.handlerId?e?(t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)),t):(this.lastConnectedDragSource=e,t):t}reconnectDragPreview(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=this.dragPreview,n=e||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();n&&this.disconnectDragPreview(),this.handlerId&&(t?n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=t,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,t,this.dragPreviewOptions)):this.lastConnectedDragPreview=t)}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!Kr(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!Kr(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(e){this.hooks=Gr({dragSource:(e,t)=>{this.clearDragSource(),this.dragSourceOptions=t||null,Xr(e)?this.dragSourceRef=e:this.dragSourceNode=e,this.reconnectDragSource()},dragPreview:(e,t)=>{this.clearDragPreview(),this.dragPreviewOptions=t||null,Xr(e)?this.dragPreviewRef=e:this.dragPreviewNode=e,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=e}}function Zr(){const{dragDropManager:e}=(0,a.useContext)(Pe);return D(null!=e,"Expected drag drop context"),e}let eo=!1,to=!1;class no{receiveHandlerId(e){this.sourceId=e}getHandlerId(){return this.sourceId}canDrag(){D(!eo,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return eo=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{eo=!1}}isDragging(){if(!this.sourceId)return!1;D(!to,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return to=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{to=!1}}subscribeToStateChange(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}isDraggingSource(e){return this.internalMonitor.isDraggingSource(e)}isOverTarget(e,t){return this.internalMonitor.isOverTarget(e,t)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(e){return this.internalMonitor.subscribeToOffsetChange(e)}canDragSource(e){return this.internalMonitor.canDragSource(e)}canDropOnTarget(e){return this.internalMonitor.canDropOnTarget(e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.sourceId=null,this.internalMonitor=e.getMonitor()}}class ro{beginDrag(){const e=this.spec,t=this.monitor;let n=null;return n="object"===typeof e.item?e.item:"function"===typeof e.item?e.item(t):{},null!==n&&void 0!==n?n:null}canDrag(){const e=this.spec,t=this.monitor;return"boolean"===typeof e.canDrag?e.canDrag:"function"!==typeof e.canDrag||e.canDrag(t)}isDragging(e,t){const n=this.spec,r=this.monitor,{isDragging:o}=n;return o?o(r):t===e.getSourceId()}endDrag(){const e=this.spec,t=this.monitor,n=this.connector,{end:r}=e;r&&r(t.getItem(),t),n.reconnect()}constructor(e,t,n){this.spec=e,this.monitor=t,this.connector=n}}function oo(e,t,n){const r=Zr(),o=function(e,t,n){const r=(0,a.useMemo)((()=>new ro(e,t,n)),[t,n]);return(0,a.useEffect)((()=>{r.spec=e}),[e]),r}(e,t,n),i=function(e){return(0,a.useMemo)((()=>{const t=e.type;return D(null!=t,"spec.type must be defined"),t}),[e])}(e);Ur((function(){if(null!=i){const[e,a]=function(e,t,n){const r=n.getRegistry(),o=r.addSource(e,t);return[o,()=>r.removeSource(o)]}(i,o,r);return t.receiveHandlerId(e),n.receiveHandlerId(e),a}}),[r,t,n,o,i])}function io(e,t){const n=Hr(e,t);D(!n.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const r=function(){const e=Zr();return(0,a.useMemo)((()=>new no(e)),[e])}(),o=function(e,t){const n=Zr(),r=(0,a.useMemo)((()=>new Jr(n.getBackend())),[n]);return Ur((()=>(r.dragSourceOptions=e||null,r.reconnect(),()=>r.disconnectDragSource())),[r,e]),Ur((()=>(r.dragPreviewOptions=t||null,r.reconnect(),()=>r.disconnectDragPreview())),[r,t]),r}(n.options,n.previewOptions);return oo(n,r,o),[Wr(n.collect,r,o),Vr(o),qr(o)]}const ao=e=>{let{type:t,title:n,description:r,icon:o,color:i}=e;const[{isDragging:a},s]=io({type:"component",item:{type:t},collect:e=>({isDragging:!!e.isDragging()})});return(0,x.jsx)("div",{ref:s,className:"component-item p-2 bg-gray-50 rounded border cursor-move "+(a?"dragging":""),"data-type":t,children:(0,x.jsxs)("div",{className:"flex items-center",children:[(0,x.jsx)("i",{className:`fas fa-${o} text-${i}-500 mr-2`}),(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:"text-sm font-medium",children:n}),(0,x.jsx)("div",{className:"text-xs text-gray-500",children:r})]})]})})},so=e=>{let{plugins:t}=e;const[n,r]=(0,a.useState)(""),o=e=>({Data:"blue",Processing:"green",Analysis:"purple",Visualization:"indigo","Machine Learning":"red",Deployment:"amber",Utilities:"gray",Plugins:"teal"}[e]||"gray"),i={"Data Preparation":[{type:"data_loader",title:"Data Loader",description:"Load dataset from source",icon:"database",color:"blue"},{type:"data_transform",title:"Data Transform",description:"Apply transformations",icon:"filter",color:"green"},{type:"feature_engineering",title:"Feature Engineering",description:"Create and select features",icon:"cogs",color:"purple"}],Models:[{type:"train_model",title:"Train Model",description:"Train ML model",icon:"brain",color:"red"},{type:"evaluate",title:"Evaluate",description:"Evaluate model performance",icon:"chart-line",color:"indigo"},{type:"predict",title:"Predict",description:"Make predictions",icon:"magic",color:"amber"}],Deployment:[{type:"deploy_model",title:"Deploy Model",description:"Deploy to production",icon:"rocket",color:"blue"},{type:"monitoring",title:"Monitoring",description:"Monitor model metrics",icon:"heartbeat",color:"red"}]};if(t&&t.length>0){const e={};t.filter((e=>e&&e.__plugin_meta__)).forEach((t=>{const n=t.__plugin_meta__,r=(null===n||void 0===n?void 0:n.category)||"Plugins";e[r]||(e[r]=[]),e[r].push({type:t.id,title:(null===n||void 0===n?void 0:n.name)||"Unknown Plugin",description:(null===n||void 0===n?void 0:n.description)||"No description available",icon:"puzzle-piece",color:o(r)})})),Object.entries(e).forEach((e=>{let[t,n]=e;i[`${t} (${n.length})`]=n}))}const s=Object.entries(i).filter((e=>{let[t]=e;return t.includes("Plugins")||t.includes("Data")||t.includes("Processing")})).reduce(((e,t)=>{let[n,r]=t;return e+r.length}),0);return(0,x.jsx)("div",{className:"col-span-3",children:(0,x.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-4",children:[(0,x.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,x.jsx)("h2",{className:"text-lg font-semibold text-gray-700",children:"Workflow Components"}),s>0&&(0,x.jsxs)("span",{className:"bg-green-100 text-green-800 text-xs font-medium px-2.5 py-0.5 rounded-full",children:[s," Plugins Available"]})]}),(0,x.jsx)("div",{className:"mb-4",children:(0,x.jsxs)("div",{className:"relative",children:[(0,x.jsx)("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:(0,x.jsx)("i",{className:"fas fa-search text-gray-400"})}),(0,x.jsx)("input",{type:"text",id:"component-search",placeholder:"Search components...",value:n,onChange:e=>r(e.target.value),className:"w-full border rounded-lg pl-10 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),Object.entries(i).map((e=>{let[t,r]=e;const o=(e=>n?e.filter((e=>e.title.toLowerCase().includes(n.toLowerCase())||e.description.toLowerCase().includes(n.toLowerCase()))):e)(r);if(0===o.length)return null;const i=t.includes("Plugins")||t.includes("Data")||t.includes("Processing");return(0,x.jsxs)("div",{className:"mb-4 "+(i?"relative":""),children:[(0,x.jsxs)("h3",{className:"text-sm font-medium text-gray-700 mb-2 flex items-center",children:[t,i&&(0,x.jsx)("span",{className:"ml-2 bg-blue-100 text-blue-800 text-xs font-medium px-2 py-0.5 rounded",children:"New"})]}),(0,x.jsx)("div",{className:"space-y-2",children:o.map((e=>(0,x.jsx)(ao,{type:e.type,title:e.title,description:e.description,icon:e.icon,color:e.color},e.type)))}),i&&(0,x.jsx)("div",{className:"absolute -left-1 top-0 bottom-0 w-1 bg-blue-500 rounded"})]},t)}))]})})};var lo=function(e){return e.Available="available",e.Error="error",e.Deprecated="deprecated",e.Experimental="experimental",e}(lo||{});const co=(0,a.createContext)(void 0);let uo=null;const po=async()=>{try{console.log("Initializing node discovery service directly");const e=await Nr.discoverNodes(),t=Nr.getNodesByCategory();if(0===e.size||0===Object.keys(t).length)return console.warn("No nodes discovered from service, using fallback data"),mo();console.log(`Discovered ${e.size} nodes in ${Object.keys(t).length} categories`),console.log("Categories:",Object.keys(t));const n={nodes:e,nodesByCategory:t,loading:!1,error:null,refreshNodes:async()=>{try{return await Nr.discoverNodes(),!0}catch(e){return console.error("Error refreshing nodes:",e),!1}},getNodeById:t=>e.get(t),getNodesByStatus:t=>{const n=[];return e.forEach((e=>{e.status===t&&n.push(e)})),n}};return uo=n,n}catch(e){console.error("Error initializing node discovery service:",e);const t=mo();return console.log("Using fallback context with",t.nodes.size,"nodes"),t}};po().then((e=>{console.log("Node discovery service initialized with",e.nodes.size,"nodes"),uo=e})).catch((e=>{console.error("Failed to initialize node discovery service:",e)}));const fo=e=>{let{children:t}=e;const[n,r]=(0,a.useState)(uo),[o,i]=(0,a.useState)(null===uo);return(0,a.useEffect)((()=>{if(uo)return r(uo),void i(!1);console.log("Initializing NodeDiscoveryProvider from component"),po().then((e=>{r(e),i(!1)})).catch((e=>{console.error("Error initializing node discovery service:",e),r(mo()),i(!1)}));const e=Nr.addListener((()=>{const e={...uo,nodes:new Map(Nr.getNodes()),nodesByCategory:Nr.getNodesByCategory()};r(e),uo=e}));return()=>{e()}}),[]),o?(0,x.jsx)(co.Provider,{value:mo(),children:t}):(0,x.jsx)(co.Provider,{value:n||mo(),children:t})},go=[{id:"core.begin",name:"Begin",category:"CONTROL_FLOW",description:"Starting point of the workflow",status:lo.Available,isCore:!0,inputs:[],outputs:[{id:"trigger",name:"Trigger",type:"trigger"},{id:"workflow_id",name:"Workflow ID",type:"string"},{id:"timestamp",name:"Timestamp",type:"number"}],ui_properties:{color:"#2ecc71",icon:"play",width:240}},{id:"core.end",name:"End",category:"CONTROL_FLOW",description:"Ending point of the workflow",status:lo.Available,isCore:!0,inputs:[{id:"trigger",name:"Trigger",type:"trigger",required:!0},{id:"result",name:"Result",type:"any"}],outputs:[{id:"workflow_id",name:"Workflow ID",type:"string"},{id:"execution_time",name:"Execution Time",type:"number"}],ui_properties:{color:"#e74c3c",icon:"stop",width:240}},{id:"core.text_input",name:"Text Input",category:"TEXT",description:"Enter text manually",status:lo.Available,isCore:!0,inputs:[{id:"trigger",name:"Trigger",type:"trigger"}],outputs:[{id:"text",name:"Text",type:"string"},{id:"length",name:"Length",type:"number"}],ui_properties:{color:"#3498db",icon:"font",width:240}},{id:"core.text_output",name:"Text Output",category:"TEXT",description:"Display text results",status:lo.Available,isCore:!0,inputs:[{id:"text",name:"Text",type:"string",required:!0},{id:"trigger",name:"Trigger",type:"trigger"}],outputs:[{id:"text",name:"Text",type:"string"}],ui_properties:{color:"#e74c3c",icon:"comment",width:240}}],mo=()=>{try{const e=[...go];kr&&kr.coreNodes&&Array.isArray(kr.coreNodes)&&e.push(...kr.coreNodes.map((e=>({id:e.id,name:e.name,description:e.description||"",category:e.category||"Core",status:lo.Available,statusMessage:"",isCore:!0,inputs:e.inputs||[],outputs:e.outputs||[],ui_properties:e.ui_properties||{}})))),kr&&kr.plugins&&Array.isArray(kr.plugins)&&e.push(...kr.plugins.map((e=>({id:e.id,name:e.name,description:e.description||"",category:e.category||"Plugins",status:lo.Available,statusMessage:"",isCore:!1,inputs:e.inputs||[],outputs:e.outputs||[],ui_properties:e.ui_properties||{}}))));const t=new Map,n={CONTROL_FLOW:[],TEXT:[],DATA:[],MATH:[]};return e.forEach((e=>{if(!e||!e.id)return void console.warn("Invalid node in fallback data");t.set(e.id,e);const r=e.category||"Uncategorized";n[r]||(n[r]=[]),n[r].push(e)})),console.log(`Created fallback context with ${t.size} nodes in ${Object.keys(n).length} categories`),console.log("Categories:",Object.keys(n)),console.log("Nodes by category:",n),{nodes:t,nodesByCategory:n,loading:!1,error:null,refreshNodes:async()=>!0,getNodeById:e=>t.get(e),getNodesByStatus:e=>Array.from(t.values()).filter((t=>t.status===e))}}catch(e){console.error("Error creating fallback context:",e);const t=new Map,n={CONTROL_FLOW:[],TEXT:[]};return go.forEach((e=>{t.set(e.id,e);const r=e.category||"Uncategorized";n[r]||(n[r]=[]),n[r].push(e)})),{nodes:t,nodesByCategory:n,loading:!1,error:"Failed to load nodes. Using minimal fallback data.",refreshNodes:async()=>!0,getNodeById:e=>t.get(e),getNodesByStatus:e=>Array.from(t.values()).filter((t=>t.status===e))}}};let ho=null;const yo=()=>{const e=(0,a.useContext)(co);return void 0!==e?e:null!==uo?(console.warn("Using singleton instance of NodeDiscoveryContext instead of React context"),uo):(null!==ho||(console.warn("NodeDiscoveryProvider not available, using fallback values"),ho=mo()),ho)},bo=e=>{var t,n,r,o;let{node:i,isFavorite:a=!1,onToggleFavorite:s,onNodeUsed:l}=e;const[{isDragging:c},u]=io({type:"component",item:{type:i.id},collect:e=>({isDragging:!!e.isDragging()}),end:(e,t)=>{t.didDrop()&&l&&l(i.id)}}),d=(null===(t=i.ui_properties)||void 0===t?void 0:t.icon)||"cube",p=(null===(n=i.ui_properties)||void 0===n?void 0:n.color)||"#3b82f6";return(0,x.jsxs)("div",{ref:u,className:"component-item p-3 mb-2 rounded border border-gray-200 cursor-grab "+(c?"dragging":""),children:[(0,x.jsxs)("div",{className:"flex items-center justify-between",children:[(0,x.jsxs)("div",{className:"flex items-center",children:[(0,x.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:`${p}20`},children:(0,x.jsx)("i",{className:`fas fa-${d}`,style:{color:p}})}),(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:"font-medium",children:null!==(r=i.name)&&void 0!==r&&r.includes(".")?i.name.split(".").pop():i.name||(null===(o=i.id)||void 0===o?void 0:o.split(".").pop())||"Unknown"}),(0,x.jsx)("div",{className:"text-xs text-gray-500",children:i.description})]})]}),(0,x.jsxs)("div",{className:"flex items-center",children:[s&&(0,x.jsx)("button",{className:"text-gray-400 hover:text-yellow-500 mr-2",onClick:e=>{e.stopPropagation(),s(i.id)},title:a?"Remove from favorites":"Add to favorites",children:(0,x.jsx)("i",{className:"fas fa-star "+(a?"text-yellow-500":"")})}),(0,x.jsx)("div",{className:`text-xs px-2 py-1 rounded-full ${(e=>{switch(e){case"available":return"bg-green-100 text-green-800";case"error":return"bg-red-100 text-red-800";case"deprecated":return"bg-yellow-100 text-yellow-800";case"experimental":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}})(i.status)}`,children:i.status})]})]}),(0,x.jsxs)("div",{className:"flex justify-between mt-2 text-xs text-gray-500",children:[(0,x.jsx)("div",{children:i.inputs&&i.inputs.length>0?(0,x.jsxs)("div",{className:"flex items-center",children:[(0,x.jsx)("div",{className:"w-2 h-2 rounded-full bg-blue-500 mr-1"}),(0,x.jsxs)("span",{children:[i.inputs.length," input",1!==i.inputs.length?"s":""]})]}):(0,x.jsxs)("div",{className:"flex items-center",children:[(0,x.jsx)("div",{className:"w-2 h-2 rounded-full bg-gray-300 mr-1"}),(0,x.jsx)("span",{children:"No inputs"})]})}),(0,x.jsx)("div",{children:i.outputs&&i.outputs.length>0?(0,x.jsxs)("div",{className:"flex items-center",children:[(0,x.jsxs)("span",{children:[i.outputs.length," output",1!==i.outputs.length?"s":""]}),(0,x.jsx)("div",{className:"w-2 h-2 rounded-full bg-green-500 ml-1"})]}):(0,x.jsxs)("div",{className:"flex items-center",children:[(0,x.jsx)("span",{children:"No outputs"}),(0,x.jsx)("div",{className:"w-2 h-2 rounded-full bg-gray-300 ml-1"})]})})]}),(0,x.jsxs)("div",{className:"mt-2 text-xs",children:[i.inputs.length>0&&(0,x.jsx)("div",{className:"flex flex-wrap gap-1 mb-1",children:i.inputs.map((e=>(0,x.jsx)("span",{className:"px-2 py-1 rounded-full bg-blue-50 text-blue-700",title:`${e.name} (${e.type})`,children:e.name},e.id)))}),i.outputs.length>0&&(0,x.jsx)("div",{className:"flex flex-wrap gap-1",children:i.outputs.map((e=>(0,x.jsx)("span",{className:"px-2 py-1 rounded-full bg-green-50 text-green-700",title:`${e.name} (${e.type})`,children:e.name},e.id)))})]}),"error"===i.status&&i.statusMessage&&(0,x.jsxs)("div",{className:"mt-2 text-xs text-red-600",children:[(0,x.jsx)("i",{className:"fas fa-exclamation-triangle mr-1"}),i.statusMessage]})]})},xo=[...kr.coreNodes.map((e=>({id:e.id,name:e.name,description:e.description||"",category:e.category||"Core",status:"available",statusMessage:"",isCore:!0,inputs:e.inputs||[],outputs:e.outputs||[],ui_properties:e.ui_properties||{}}))),...kr.plugins.map((e=>({id:e.id,name:e.name,description:e.description||"",category:e.category||"Plugins",status:"available",statusMessage:"",isCore:!1,inputs:e.inputs||[],outputs:e.outputs||[],ui_properties:e.ui_properties||{}})))],vo=e=>{let{onRefresh:t}=e,n={},r=!1,o=null,i=async()=>!0,s=[];try{const e=yo();n=e.nodesByCategory,r=e.loading,o=e.error,i=e.refreshNodes,s=Array.from(e.nodes.values())}catch(_){console.warn("NodeDiscoveryProvider not available, using fallback values"),o="Node discovery service not available"}const[l,c]=(0,a.useState)(""),[u,d]=(0,a.useState)(null),[p,f]=(0,a.useState)(!0),[g,m]=(0,a.useState)({}),[h,y]=(0,a.useState)((()=>{const e=localStorage.getItem("favoriteNodes");return e?JSON.parse(e):[]})),[b,v]=(0,a.useState)((()=>{const e=localStorage.getItem("recentlyUsedNodes");return e?JSON.parse(e):[]})),w=(0,a.useMemo)((()=>n&&0!==Object.keys(n).length?Object.keys(n).sort():(console.warn("nodesByCategory is empty, using default categories"),["CONTROL_FLOW","TEXT","DATA","MATH"])),[n]),N=e=>{const t=h.includes(e)?h.filter((t=>t!==e)):[...h,e];y(t),localStorage.setItem("favoriteNodes",JSON.stringify(t))},k=e=>{const t=[e,...b.filter((t=>t!==e)).slice(0,9)];v(t),localStorage.setItem("recentlyUsedNodes",JSON.stringify(t))},S=e=>{m((t=>({...t,[e]:!t[e]})))},j=()=>{if(!n||0===Object.keys(n).length)return console.warn("No categories found, using fallback data"),xo;if(l){const e=[];return s.forEach((t=>{var n,r,o;t&&(p&&"available"!==t.status||(null!==(n=t.name)&&void 0!==n&&n.toLowerCase().includes(l.toLowerCase())||null!==(r=t.description)&&void 0!==r&&r.toLowerCase().includes(l.toLowerCase())||null!==(o=t.id)&&void 0!==o&&o.toLowerCase().includes(l.toLowerCase()))&&e.push(t))})),e}if(u){return(n[u]||[]).filter((e=>!p||"available"===e.status))}return[]},E=()=>s.filter((e=>h.includes(e.id)&&(!p||"available"===e.status))),C=()=>b.map((e=>s.find((t=>t.id===e)))).filter((e=>e&&(!p||"available"===e.status)));return(0,x.jsxs)("div",{className:"component-sidebar p-4 bg-white border-r border-gray-200 overflow-y-auto",children:[(0,x.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,x.jsx)("h2",{className:"text-lg font-semibold",children:"Node Library"}),(0,x.jsx)("button",{className:"text-blue-600 hover:text-blue-800",onClick:async()=>{try{await i(),t&&t()}catch(o){console.error("Error refreshing nodes:",o)}},disabled:r,title:"Refresh nodes",children:(0,x.jsx)("i",{className:"fas fa-sync "+(r?"animate-spin":"")})})]}),(0,x.jsx)("div",{className:"mb-4",children:(0,x.jsxs)("div",{className:"relative",children:[(0,x.jsx)("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md pl-10",placeholder:"Search nodes...",value:l,onChange:e=>c(e.target.value)}),(0,x.jsx)("div",{className:"absolute left-3 top-2.5 text-gray-400",children:(0,x.jsx)("i",{className:"fas fa-search"})})]})}),(0,x.jsxs)("div",{className:"mb-4 flex flex-wrap gap-2",children:[(0,x.jsx)("button",{className:"px-3 py-1 text-sm rounded-full "+(null===u?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"),onClick:()=>d(null),children:"All"}),w.map((e=>(0,x.jsx)("button",{className:"px-3 py-1 text-sm rounded-full "+(u===e?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"),onClick:()=>d(e),children:e},e)))]}),(0,x.jsx)("div",{className:"mb-4 flex items-center",children:(0,x.jsxs)("label",{className:"flex items-center cursor-pointer",children:[(0,x.jsxs)("div",{className:"relative",children:[(0,x.jsx)("input",{type:"checkbox",className:"sr-only",checked:p,onChange:()=>f(!p)}),(0,x.jsx)("div",{className:`w-10 h-5 ${p?"bg-blue-600":"bg-gray-200"} rounded-full shadow-inner`}),(0,x.jsx)("div",{className:"absolute w-4 h-4 bg-white rounded-full shadow top-0.5 left-0.5 transition "+(p?"transform translate-x-5":"")})]}),(0,x.jsx)("div",{className:"ml-3 text-sm",children:"Show only available"})]})}),o&&(0,x.jsxs)("div",{className:"mb-4 p-3 bg-red-100 text-red-800 rounded",children:[(0,x.jsx)("i",{className:"fas fa-exclamation-circle mr-2"}),o]}),r&&(0,x.jsx)("div",{className:"flex justify-center items-center p-4",children:(0,x.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}),!l&&!u&&E().length>0&&(0,x.jsxs)("div",{className:"mb-6",children:[(0,x.jsxs)("div",{className:"flex items-center justify-between cursor-pointer mb-2",onClick:()=>S("favorites"),children:[(0,x.jsxs)("h3",{className:"text-md font-semibold text-yellow-600",children:[(0,x.jsx)("i",{className:"fas fa-star mr-2"}),"Favorites"]}),(0,x.jsx)("i",{className:`fas fa-chevron-${g.favorites?"down":"right"} text-gray-500`})]}),!1!==g.favorites&&(0,x.jsx)("div",{className:"pl-2",children:E().map(((e,t)=>(0,x.jsx)(bo,{node:e,isFavorite:!0,onToggleFavorite:N,onNodeUsed:k},`favorite-${e.id}-${t}`)))})]}),!l&&!u&&C().length>0&&(0,x.jsxs)("div",{className:"mb-6",children:[(0,x.jsxs)("div",{className:"flex items-center justify-between cursor-pointer mb-2",onClick:()=>S("recent"),children:[(0,x.jsxs)("h3",{className:"text-md font-semibold text-blue-600",children:[(0,x.jsx)("i",{className:"fas fa-history mr-2"}),"Recently Used"]}),(0,x.jsx)("i",{className:`fas fa-chevron-${g.recent?"down":"right"} text-gray-500`})]}),!1!==g.recent&&(0,x.jsx)("div",{className:"pl-2",children:C().map(((e,t)=>(0,x.jsx)(bo,{node:e,isFavorite:h.includes(e.id),onToggleFavorite:N,onNodeUsed:k},`recent-${e.id}-${t}`)))})]}),(l||u)&&(0,x.jsxs)("div",{children:[j().map(((e,t)=>(0,x.jsx)(bo,{node:e,isFavorite:h.includes(e.id),onToggleFavorite:N,onNodeUsed:k},`search-${e.id}-${t}`))),!r&&0===j().length&&(0,x.jsxs)("div",{className:"text-center p-4 text-gray-500",children:[(0,x.jsx)("i",{className:"fas fa-search text-3xl mb-2"}),(0,x.jsx)("p",{children:"No nodes found"})]})]}),!l&&!u&&(0,x.jsx)("div",{children:w.map((e=>(0,x.jsxs)("div",{className:"mb-4",children:[(0,x.jsxs)("div",{className:"flex items-center justify-between cursor-pointer mb-2",onClick:()=>S(e),children:[(0,x.jsx)("h3",{className:"text-md font-semibold text-gray-700",children:e}),(0,x.jsx)("i",{className:`fas fa-chevron-${g[e]?"down":"right"} text-gray-500`})]}),!1!==g[e]&&n[e]&&(0,x.jsx)("div",{className:"pl-2",children:n[e].filter((e=>!p||"available"===e.status)).map(((t,n)=>(0,x.jsx)(bo,{node:t,isFavorite:h.includes(t.id),onToggleFavorite:N,onNodeUsed:k},`category-${e}-${t.id}-${n}`)))})]},e)))})]})};function wo(e){return(0,a.useMemo)((()=>e.hooks.dropTarget()),[e])}class No{get connectTarget(){return this.dropTarget}reconnect(){const e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();const t=this.dropTarget;this.handlerId&&(t?e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=t,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,t,this.dropTargetOptions)):this.lastConnectedDropTarget=t)}receiveHandlerId(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(e){this.dropTargetOptionsInternal=e}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!Kr(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(e){this.hooks=Gr({dropTarget:(e,t)=>{this.clearDropTarget(),this.dropTargetOptions=t,Xr(e)?this.dropTargetRef=e:this.dropTargetNode=e,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=e}}let ko=!1;class So{receiveHandlerId(e){this.targetId=e}getHandlerId(){return this.targetId}subscribeToStateChange(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}canDrop(){if(!this.targetId)return!1;D(!ko,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return ko=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{ko=!1}}isOver(e){return!!this.targetId&&this.internalMonitor.isOverTarget(this.targetId,e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.targetId=null,this.internalMonitor=e.getMonitor()}}class jo{canDrop(){const e=this.spec,t=this.monitor;return!e.canDrop||e.canDrop(t.getItem(),t)}hover(){const e=this.spec,t=this.monitor;e.hover&&e.hover(t.getItem(),t)}drop(){const e=this.spec,t=this.monitor;if(e.drop)return e.drop(t.getItem(),t)}constructor(e,t){this.spec=e,this.monitor=t}}function Eo(e,t,n){const r=Zr(),o=function(e,t){const n=(0,a.useMemo)((()=>new jo(e,t)),[t]);return(0,a.useEffect)((()=>{n.spec=e}),[e]),n}(e,t),i=function(e){const{accept:t}=e;return(0,a.useMemo)((()=>(D(null!=e.accept,"accept must be defined"),Array.isArray(t)?t:[t])),[t])}(e);Ur((function(){const[e,a]=function(e,t,n){const r=n.getRegistry(),o=r.addTarget(e,t);return[o,()=>r.removeTarget(o)]}(i,o,r);return t.receiveHandlerId(e),n.receiveHandlerId(e),a}),[r,t,o,n,i.map((e=>e.toString())).join("|")])}function Co(e,t){const n=Hr(e,t),r=function(){const e=Zr();return(0,a.useMemo)((()=>new So(e)),[e])}(),o=function(e){const t=Zr(),n=(0,a.useMemo)((()=>new No(t.getBackend())),[t]);return Ur((()=>(n.dropTargetOptions=e||null,n.reconnect(),()=>n.disconnectDropTarget())),[e]),n}(n.options);return Eo(n,r,o),[Wr(n.collect,r,o),wo(o)]}const _o=(0,a.createContext)(void 0);let To=null;const Oo=async()=>{try{console.log("Initializing node types service directly");let t=[];try{t=await Or(),console.log("Core nodes data:",t)}catch(e){console.error("Error fetching core nodes:",e)}let n=null;try{n=await(async()=>{try{const e=await _r.get("/node-types");return null===e.data?(console.warn("Backend unavailable, using mock node types"),Pr()):e.data}catch(e){return console.error("Error fetching node types:",e),Pr()}})(),console.log("Plugins data:",n)}catch(e){console.error("Error fetching plugins:",e)}const r={};if(Array.isArray(t)&&(console.log(`Adding ${t.length} core nodes`),t.forEach((e=>{e&&e.id&&(e.inputs||(e.inputs=[]),e.outputs||(e.outputs=[]),r[e.id]=e)}))),n&&"object"===typeof n&&(Array.isArray(n)?(console.log(`Adding ${n.length} plugins from array`),n.forEach((e=>{e&&e.id&&(e.inputs||(e.inputs=[]),e.outputs||(e.outputs=[]),r[e.id]=e)}))):n.plugins&&Array.isArray(n.plugins)&&(console.log(`Adding ${n.plugins.length} plugins from object`),n.plugins.forEach((e=>{e&&e.id&&(e.inputs||(e.inputs=[]),e.outputs||(e.outputs=[]),r[e.id]=e)})))),console.log(`Total node types: ${Object.keys(r).length}`),0===Object.keys(r).length)return console.warn("No node types found, using fallback context"),Ro();let o;try{o=await(async()=>{try{const e=await _r.get("/type-system");return null===e.data?(console.warn("Backend unavailable, using mock type system"),Rr()):e.data}catch(e){return console.error("Error fetching type system:",e),Rr()}})()}catch(e){console.error("Error fetching type system:",e),o=Po}o=o&&o.rules?{...o,rules:o.rules.map((e=>({...e,bidirectional:e.bidirectional||!1})))}:Po;const i={nodeTypes:r,typeSystem:o,loading:!1,error:null,isTypeCompatible:async(e,t)=>(console.log(`Checking type compatibility: ${e} -> ${t}`),!0),getPortType:(e,t,n)=>{if(!e||!t)return"any";const o=r[e];if(!o)return"any";const i=n?o.inputs:o.outputs;if(!i||!Array.isArray(i))return"any";const a=i.find((e=>e.id===t||e.name===t));return(null===a||void 0===a?void 0:a.type)||"any"}};return To=i,i}catch(e){console.error("Error initializing node types service:",e);const t=Ro();return console.log("Using fallback context with",Object.keys(t.nodeTypes).length,"node types"),t}};Oo().then((e=>{console.log("Node types service initialized with",Object.keys(e.nodeTypes).length,"node types"),To=e})).catch((e=>{console.error("Failed to initialize node types service:",e)}));const Do=e=>{let{children:t}=e;const[n,r]=(0,a.useState)(To),[o,i]=(0,a.useState)(null===To);return(0,a.useEffect)((()=>{if(To)return r(To),void i(!1);console.log("Initializing NodeTypesProvider from component"),Oo().then((e=>{r(e),i(!1)})).catch((e=>{console.error("Error initializing node types service:",e),r(Ro()),i(!1)}))}),[]),o?(0,x.jsx)(_o.Provider,{value:Ro(),children:t}):(0,x.jsx)(_o.Provider,{value:n||Ro(),children:t})},Io={"core.begin":{id:"core.begin",name:"Begin",category:"CONTROL_FLOW",description:"Starting point of the workflow",inputs:[],outputs:[{id:"trigger",name:"Trigger",type:"trigger",ui_properties:{position:"right-top"}},{id:"workflow_id",name:"Workflow ID",type:"string",ui_properties:{position:"right-center"}},{id:"timestamp",name:"Timestamp",type:"number",ui_properties:{position:"right-bottom"}}],ui_properties:{color:"#2ecc71",icon:"play",width:240}},"core.end":{id:"core.end",name:"End",category:"CONTROL_FLOW",description:"Ending point of the workflow",inputs:[{id:"trigger",name:"Trigger",type:"trigger",required:!0,ui_properties:{position:"left-top"}},{id:"result",name:"Result",type:"any",ui_properties:{position:"left-center"}}],outputs:[{id:"workflow_id",name:"Workflow ID",type:"string",ui_properties:{position:"right-top"}},{id:"execution_time",name:"Execution Time",type:"number",ui_properties:{position:"right-center"}}],ui_properties:{color:"#e74c3c",icon:"stop",width:240}},"core.text_input":{id:"core.text_input",name:"Text Input",category:"TEXT",description:"Enter text manually",inputs:[{id:"trigger",name:"Trigger",type:"trigger",ui_properties:{position:"left-top"}}],outputs:[{id:"text",name:"Text",type:"string",ui_properties:{position:"right-top"}},{id:"length",name:"Length",type:"number",ui_properties:{position:"right-center"}}],ui_properties:{color:"#3498db",icon:"font",width:240}},"core.text_output":{id:"core.text_output",name:"Text Output",category:"TEXT",description:"Display text results",inputs:[{id:"text",name:"Text",type:"string",required:!0,ui_properties:{position:"left-top"}},{id:"trigger",name:"Trigger",type:"trigger",ui_properties:{position:"left-bottom"}}],outputs:[{id:"text",name:"Text",type:"string",ui_properties:{position:"right-top"}}],ui_properties:{color:"#e74c3c",icon:"comment",width:240}}},Po={types:{string:{description:"A text value",ui_properties:{color:"#60a5fa",icon:"font"}},number:{description:"A numeric value",ui_properties:{color:"#a78bfa",icon:"hashtag"}},boolean:{description:"A true/false value",ui_properties:{color:"#f87171",icon:"toggle-on"}},object:{description:"A JavaScript object",ui_properties:{color:"#4ade80",icon:"cube"}},array:{description:"An array of values",ui_properties:{color:"#fbbf24",icon:"list"}},any:{description:"Any type of value",ui_properties:{color:"#9ca3af",icon:"asterisk"}},trigger:{description:"A workflow trigger signal",ui_properties:{color:"#ec4899",icon:"bolt"}}},rules:[{source:"string",target:["string","any"],bidirectional:!1},{source:"number",target:["number","string","any"],bidirectional:!1},{source:"boolean",target:["boolean","string","any"],bidirectional:!1},{source:"object",target:["object","any"],bidirectional:!1},{source:"array",target:["array","any"],bidirectional:!1},{source:"trigger",target:["trigger"],bidirectional:!0},{source:"any",target:["string","number","boolean","object","array","any"],bidirectional:!0}]},Ro=()=>{const e={...Io};return kr&&kr.coreNodes&&kr.coreNodes.forEach((t=>{e[t.id]||(e[t.id]=t)})),kr&&kr.plugins&&kr.plugins.forEach((t=>{e[t.id]||(e[t.id]=t)})),console.log(`Created fallback node types context with ${Object.keys(e).length} node types`),{nodeTypes:e,typeSystem:Po,loading:!1,error:null,isTypeCompatible:async(e,t)=>(console.log(`Fallback context checking type compatibility: ${e} -> ${t}`),!0),getPortType:(t,n,r)=>{if(!t||!n)return"any";const o=e[t];if(!o)return"any";const i=r?o.inputs:o.outputs,a=null===i||void 0===i?void 0:i.find((e=>e.id===n||e.name===n));return(null===a||void 0===a?void 0:a.type)||"any"}}};let Ao=null;const Lo=()=>{const e=(0,a.useContext)(_o);return void 0!==e?e:null!==To?(console.warn("Using singleton instance of NodeTypesContext instead of React context"),To):(null!==Ao||(console.warn("NodeTypesContext not available, using fallback values"),Ao=Ro()),Ao)},Mo=e=>{let{node:t,isSelected:n,onSelect:r,onDelete:o,onEdit:i,onStartConnection:s,onEndConnection:l,onUpdatePosition:c,onUpdateConfig:u}=e;const d=(0,a.useRef)(null),[p,f]=(0,a.useState)(!1),[g,m]=(0,a.useState)({x:0,y:0}),h=(0,a.useRef)({startX:0,startY:0,initialX:t.x,initialY:t.y,isDragging:!1}),y=e=>{if(!h.current.isDragging)return;const n=e.clientX-h.current.startX,r=e.clientY-h.current.startY,o=h.current.initialX+n,i=h.current.initialY+r;c&&c(t.id,o,i)},b=e=>{h.current.isDragging&&(h.current.isDragging=!1,f(!1),document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",b))};(0,a.useEffect)((()=>()=>{document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",b)}),[]);const{color:v,icon:w,title:N}=(e=>{if(!e)return{color:"gray",icon:"question",title:"Unknown"};const t={"core.begin":{color:"green",icon:"play",title:"Begin"},"core.end":{color:"red",icon:"stop",title:"End"},"core.text_input":{color:"blue",icon:"font",title:"Text Input"},"core.text_output":{color:"red",icon:"comment",title:"Text Output"},"core.for_loop":{color:"purple",icon:"sync",title:"For Loop"},"core.while_loop":{color:"purple",icon:"sync-alt",title:"While Loop"},"core.compare":{color:"orange",icon:"equals",title:"Compare"},"core.set_variable":{color:"blue",icon:"database",title:"Set Variable"},"core.get_variable":{color:"green",icon:"database",title:"Get Variable"},"core.conditional":{color:"orange",icon:"code-branch",title:"Conditional"},"core.switch":{color:"purple",icon:"random",title:"Switch"},"core.delay":{color:"gray",icon:"clock",title:"Delay"},"core.random_generator":{color:"teal",icon:"dice",title:"Random Generator"},"core.http_request":{color:"blue",icon:"globe",title:"HTTP Request"},http_request:{color:"red",icon:"globe",title:"HTTP Request"},json_parser:{color:"blue",icon:"code",title:"JSON Parser"},csv_parser:{color:"green",icon:"table",title:"CSV Parser"},data_loader:{color:"blue",icon:"database",title:"Data Loader"},data_transform:{color:"green",icon:"filter",title:"Data Transform"},feature_engineering:{color:"purple",icon:"cogs",title:"Feature Engineering"},train_model:{color:"red",icon:"brain",title:"Train Model"},evaluate:{color:"indigo",icon:"chart-line",title:"Evaluate"},predict:{color:"amber",icon:"magic",title:"Predict"},deploy_model:{color:"blue",icon:"rocket",title:"Deploy Model"},monitoring:{color:"red",icon:"heartbeat",title:"Monitoring"}};if(!t[e]){const t=e.split(".");if(t.length>1){return{color:"gray",icon:"cube",title:t[t.length-1].split("_").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(" ")}}}return t[e]||{color:"gray",icon:"question",title:e}})((null===t||void 0===t?void 0:t.type)||""),k=(e,n)=>{0===e.button&&(e.stopPropagation(),console.log(`Input point mousedown: ${n} on node ${t.id}`),l(t.id,n))},S=(e,n)=>{0===e.button&&(e.stopPropagation(),console.log(`Output point mousedown: ${n} on node ${t.id}`),e.currentTarget instanceof HTMLElement&&s(t.id,n,e.currentTarget))},j=(e,t,n,r)=>{const o=e.currentTarget;o.style.transform="translate(-50%, -50%) scale(1.5)",o.style.boxShadow="0 0 10px 2px rgba(59, 130, 246, 0.7)",o.style.zIndex="30";const i=o.querySelector(".port-label");i&&(i.style.opacity="1");let a=document.querySelector(".port-hover-indicator");a||(a=document.createElement("div"),a.className="port-hover-indicator",document.body.appendChild(a)),a.textContent=`${n} (${r})`,a.setAttribute("data-type",r),a.classList.add("visible");const s=o.getBoundingClientRect();a.style.left=`${"input"===t?s.left-10:s.right+10}px`,a.style.top=`${s.top}px`,a.style.transform="translateY(-50%)"},E=e=>{const t=e.currentTarget;t.style.transform="translate(-50%, -50%)",t.style.boxShadow="0 0 8px 0 rgba(59, 130, 246, 0.8)",t.style.zIndex="10";const n=t.querySelector(".port-label");n&&(n.style.opacity="0");const r=document.querySelector(".port-hover-indicator");r&&r.classList.remove("visible")};let C={};try{const e=Lo();C=e.nodeTypes}catch(A){console.warn("NodeTypesContext not available, using fallback values")}const{inputs:_,outputs:T}=(e=>{if(!e)return console.warn("No node type provided"),{inputs:[],outputs:[]};if(C&&C[e])return console.log(`Found node type ${e} in context:`,C[e]),C[e];console.warn(`Node type ${e} not found in context, using fallback`);const t={default:{inputs:[{id:"input1",name:"Input 1",type:"any",ui_properties:{position:"left-top"}},{id:"input2",name:"Input 2",type:"any",ui_properties:{position:"left-bottom"}}],outputs:[{id:"output1",name:"Output 1",type:"any",ui_properties:{position:"right-top"}},{id:"output2",name:"Output 2",type:"any",ui_properties:{position:"right-bottom"}}]},"core.begin":{inputs:[],outputs:[{id:"trigger",name:"Trigger",type:"trigger",ui_properties:{position:"right-top"}},{id:"workflow_id",name:"Workflow ID",type:"string",ui_properties:{position:"right-center"}},{id:"timestamp",name:"Timestamp",type:"number",ui_properties:{position:"right-bottom"}}]},"core.end":{inputs:[{id:"trigger",name:"Trigger",type:"trigger",ui_properties:{position:"left-top"}},{id:"result",name:"Result",type:"any",ui_properties:{position:"left-center"}}],outputs:[{id:"workflow_id",name:"Workflow ID",type:"string",ui_properties:{position:"right-top"}},{id:"execution_time",name:"Execution Time",type:"number",ui_properties:{position:"right-center"}}]},"core.for_loop":{inputs:[{id:"items",name:"Items",type:"array",ui_properties:{position:"left-top"}},{id:"trigger",name:"Trigger",type:"trigger",ui_properties:{position:"left-center"}}],outputs:[{id:"completed",name:"Completed",type:"trigger",ui_properties:{position:"right-top"}},{id:"current_item",name:"Current Item",type:"any",ui_properties:{position:"right-center"}},{id:"index",name:"Index",type:"number",ui_properties:{position:"right-bottom"}}]},"core.while_loop":{inputs:[{id:"condition",name:"Condition",type:"boolean",ui_properties:{position:"left-top"}},{id:"trigger",name:"Trigger",type:"trigger",ui_properties:{position:"left-center"}}],outputs:[{id:"completed",name:"Completed",type:"trigger",ui_properties:{position:"right-top"}},{id:"iteration",name:"Iteration",type:"trigger",ui_properties:{position:"right-center"}},{id:"iteration_count",name:"Iteration Count",type:"number",ui_properties:{position:"right-bottom"}}]},"core.compare":{inputs:[{id:"value_a",name:"Value A",type:"any",ui_properties:{position:"left-top"}},{id:"value_b",name:"Value B",type:"any",ui_properties:{position:"left-center"}},{id:"trigger",name:"Trigger",type:"trigger",ui_properties:{position:"left-bottom"}}],outputs:[{id:"result",name:"Result",type:"boolean",ui_properties:{position:"right-top"}},{id:"true_output",name:"True",type:"trigger",ui_properties:{position:"right-center"}},{id:"false_output",name:"False",type:"trigger",ui_properties:{position:"right-bottom"}}]},"core.conditional":{inputs:[{id:"condition",name:"Condition",type:"boolean",ui_properties:{position:"left-top"}},{id:"trigger",name:"Trigger",type:"trigger",ui_properties:{position:"left-bottom"}}],outputs:[{id:"true_branch",name:"True",type:"trigger",ui_properties:{position:"right-top"}},{id:"false_branch",name:"False",type:"trigger",ui_properties:{position:"right-bottom"}}]},"core.switch":{inputs:[{id:"value",name:"Value",type:"any",ui_properties:{position:"left-top"}},{id:"cases",name:"Cases",type:"array",ui_properties:{position:"left-center"}},{id:"trigger",name:"Trigger",type:"trigger",ui_properties:{position:"left-bottom"}}],outputs:[{id:"case_1",name:"Case 1",type:"trigger",ui_properties:{position:"right-top"}},{id:"case_2",name:"Case 2",type:"trigger",ui_properties:{position:"right-center"}},{id:"default",name:"Default",type:"trigger",ui_properties:{position:"right-bottom"}},{id:"selected_case",name:"Selected Case",type:"string",ui_properties:{position:"right-bottom"}}]},"core.delay":{inputs:[{id:"duration",name:"Duration (ms)",type:"number",ui_properties:{position:"left-top"}},{id:"trigger",name:"Trigger",type:"trigger",ui_properties:{position:"left-bottom"}}],outputs:[{id:"completed",name:"Completed",type:"trigger",ui_properties:{position:"right-top"}}]},"core.random_generator":{inputs:[{id:"min",name:"Min",type:"number",ui_properties:{position:"left-top"}},{id:"max",name:"Max",type:"number",ui_properties:{position:"left-center"}},{id:"type",name:"Type",type:"string",ui_properties:{position:"left-center"}},{id:"trigger",name:"Trigger",type:"trigger",ui_properties:{position:"left-bottom"}}],outputs:[{id:"value",name:"Value",type:"any",ui_properties:{position:"right-top"}},{id:"completed",name:"Completed",type:"trigger",ui_properties:{position:"right-bottom"}}]},"core.http_request":{inputs:[{id:"url",name:"URL",type:"string",ui_properties:{position:"left-top"}},{id:"method",name:"Method",type:"string",ui_properties:{position:"left-center"}},{id:"headers",name:"Headers",type:"object",ui_properties:{position:"left-center"}},{id:"body",name:"Body",type:"any",ui_properties:{position:"left-bottom"}},{id:"trigger",name:"Trigger",type:"trigger",ui_properties:{position:"left-bottom"}}],outputs:[{id:"response",name:"Response",type:"any",ui_properties:{position:"right-top"}},{id:"status",name:"Status",type:"number",ui_properties:{position:"right-center"}},{id:"error",name:"Error",type:"string",ui_properties:{position:"right-bottom"}},{id:"completed",name:"Completed",type:"trigger",ui_properties:{position:"right-bottom"}}]},"core.text_input":{inputs:[{id:"variables",name:"Variables",type:"object",ui_properties:{position:"left-center"}},{id:"override",name:"Override",type:"string",ui_properties:{position:"left-bottom"}}],outputs:[{id:"text",name:"Text",type:"string",ui_properties:{position:"right-top"}},{id:"length",name:"Length",type:"number",ui_properties:{position:"right-center"}},{id:"is_empty",name:"Is Empty",type:"boolean",ui_properties:{position:"right-bottom"}}]},"core.text_output":{inputs:[{id:"text",name:"Text",type:"string",ui_properties:{position:"left-top"}},{id:"label",name:"Label",type:"string",ui_properties:{position:"left-center"}},{id:"trigger",name:"Trigger",type:"trigger",ui_properties:{position:"left-bottom"}}],outputs:[{id:"text",name:"Text",type:"string",ui_properties:{position:"right-top"}},{id:"length",name:"Length",type:"number",ui_properties:{position:"right-center"}}]},http_request:{inputs:[{id:"url",name:"URL",type:"string",ui_properties:{position:"left-top"}},{id:"method",name:"Method",type:"string",ui_properties:{position:"left-center"}},{id:"headers",name:"Headers",type:"object",ui_properties:{position:"left-center"}},{id:"body",name:"Body",type:"any",ui_properties:{position:"left-bottom"}},{id:"trigger",name:"Trigger",type:"trigger",ui_properties:{position:"left-bottom"}}],outputs:[{id:"response",name:"Response",type:"any",ui_properties:{position:"right-top"}},{id:"status",name:"Status",type:"number",ui_properties:{position:"right-center"}},{id:"error",name:"Error",type:"string",ui_properties:{position:"right-bottom"}}]},json_parser:{inputs:[{id:"input",name:"Input",type:"string",ui_properties:{position:"left-top"}},{id:"trigger",name:"Trigger",type:"trigger",ui_properties:{position:"left-bottom"}}],outputs:[{id:"output",name:"Output",type:"object",ui_properties:{position:"right-top"}},{id:"error",name:"Error",type:"string",ui_properties:{position:"right-bottom"}}]},csv_parser:{inputs:[{id:"input",name:"Input",type:"string",ui_properties:{position:"left-top"}},{id:"has_header",name:"Has Header",type:"boolean",ui_properties:{position:"left-center"}},{id:"delimiter",name:"Delimiter",type:"string",ui_properties:{position:"left-center"}},{id:"trigger",name:"Trigger",type:"trigger",ui_properties:{position:"left-bottom"}}],outputs:[{id:"output",name:"Output",type:"array",ui_properties:{position:"right-top"}},{id:"headers",name:"Headers",type:"array",ui_properties:{position:"right-center"}},{id:"error",name:"Error",type:"string",ui_properties:{position:"right-bottom"}}]},data_loader:{inputs:[],outputs:[{id:"data",name:"data",type:"dataset"}]},data_transform:{inputs:[{id:"data",name:"data",type:"dataset"}],outputs:[{id:"transformed_data",name:"transformed_data",type:"dataset"}]}},n=t[e]||t.default||{inputs:[],outputs:[]};return console.log(`Using node ports for ${e}:`,n),n})((null===t||void 0===t?void 0:t.type)||"");console.log(`Node ${null===t||void 0===t?void 0:t.id} (${null===t||void 0===t?void 0:t.type}) ports:`,{inputs:_,outputs:T});const O=(e,n)=>{if(!e||!Array.isArray(e))return console.warn(`No ports provided for ${n} side of node ${null===t||void 0===t?void 0:t.id}`),[];if(0===e.length)return console.log(`No ${n} ports for node ${null===t||void 0===t?void 0:t.id}`),[];const r=d.current,o=r?r.clientHeight:100,i=o/(e.length+1);return e.map(((e,r)=>{let a="";e.ui_properties&&e.ui_properties.position&&(a=e.ui_properties.position);let s=i*(r+1);a&&(a.includes("top")?s=20:a.includes("center")?s=o/2:a.includes("bottom")&&(s=o-20));const l=e.id||e.name;return console.debug(`Port ${l} (${e.type}) positioned at y=${s} on ${n} side of node ${t.id}`),{...e,id:l,y:s}}))},[D,I]=(0,a.useState)(O(_,"left")),[P,R]=(0,a.useState)(O(T,"right"));(0,a.useEffect)((()=>{I(O(_,"left")),R(O(T,"right"))}),[_,T,t.width,t.height,t.id,t.type]),(0,a.useEffect)((()=>{if(!d.current)return;const e=new ResizeObserver((()=>{I(O(_,"left")),R(O(T,"right"))}));return e.observe(d.current),()=>{e.disconnect()}}),[_,T,t.id]);return(0,x.jsxs)("div",{ref:d,className:`workflow-node w-56 ${n?"selected":""} ${p?"dragging":""}`,style:{left:`${t.x}px`,top:`${t.y}px`,borderWidth:"2px",borderStyle:"solid",borderColor:`var(--node-${v}-color, #3b82f6)`,borderRadius:"8px",boxShadow:n?"0 0 0 2px #3b82f6, 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)":"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",transition:p?"none":"box-shadow 0.3s ease, transform 0.2s ease",transform:p?"scale(1.03)":n?"scale(1.02)":"scale(1)",zIndex:p?100:n?10:1,position:"absolute",cursor:"move",backgroundColor:"#ffffff"},onClick:e=>{e.stopPropagation(),r()},children:[(0,x.jsxs)("div",{className:"node-header p-2 flex justify-between items-center rounded-t-md",style:{backgroundColor:`var(--node-${v}-bg, #eff6ff)`,borderBottom:`1px solid var(--node-${v}-border, #dbeafe)`,cursor:"move",borderTopLeftRadius:"6px",borderTopRightRadius:"6px"},onMouseDown:e=>{var n;if(0!==e.button)return;e.preventDefault(),e.stopPropagation(),r();(null===(n=d.current)||void 0===n?void 0:n.getBoundingClientRect())&&(h.current={startX:e.clientX,startY:e.clientY,initialX:t.x,initialY:t.y,isDragging:!0},f(!0),document.addEventListener("mousemove",y),document.addEventListener("mouseup",b))},children:[(0,x.jsxs)("div",{className:"flex items-center",children:[(0,x.jsx)("div",{className:"w-6 h-6 rounded-full flex items-center justify-center mr-2",style:{backgroundColor:`var(--node-${v}-color, #3b82f6)`,opacity:.9},children:(0,x.jsx)("i",{className:`fas fa-${w} text-white text-xs`})}),(0,x.jsx)("span",{className:"font-medium text-gray-800 text-sm truncate",children:N})]}),(0,x.jsxs)("div",{className:"flex space-x-1",children:[(0,x.jsx)("button",{className:"text-gray-500 hover:text-blue-500 p-1 rounded-full hover:bg-blue-50 transition-colors text-xs",title:"Edit Node Configuration",onClick:e=>{e.stopPropagation(),i()},children:(0,x.jsx)("i",{className:"fas fa-cog"})}),(0,x.jsx)("button",{className:"text-gray-500 hover:text-red-500 p-1 rounded-full hover:bg-red-50 transition-colors text-xs",title:"Delete Node",onClick:e=>{e.stopPropagation(),o()},children:(0,x.jsx)("i",{className:"fas fa-trash-alt"})})]})]}),(0,x.jsxs)("div",{className:"p-3 text-sm",children:[(0,x.jsxs)("div",{className:"mb-2 flex justify-between items-center",children:[(0,x.jsx)("span",{className:"text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Config"}),(0,x.jsxs)("button",{className:"text-xs text-blue-500 hover:text-blue-700 flex items-center",onClick:e=>{e.stopPropagation(),i()},children:[(0,x.jsx)("span",{children:"Edit"}),(0,x.jsx)("i",{className:"fas fa-edit ml-1 text-xs"})]})]}),(0,x.jsx)("div",{className:"bg-gray-50 rounded-md p-2 border border-gray-100 text-xs",children:(()=>{if(!t.config||0===Object.keys(t.config).length)return(0,x.jsxs)("div",{className:"text-gray-500 italic text-center",children:[(0,x.jsx)("i",{className:"fas fa-cog mr-1"}),"Configure this node..."]});const e=(e,n)=>{const r={...t.config,[e]:n};u&&u(t.id,r)};return Object.entries(t.config).map((t=>{let[n,r]=t;let o;switch(Array.isArray(r)?"array":typeof r){case"boolean":o=(0,x.jsx)("input",{type:"checkbox",checked:!!r,onChange:t=>e(n,t.target.checked),className:"h-4 w-4 text-blue-600 rounded",onClick:e=>e.stopPropagation()});break;case"number":o=(0,x.jsx)("input",{type:"number",value:r,onChange:t=>e(n,parseFloat(t.target.value)),className:"w-20 border rounded-sm px-1 py-0 text-xs",onClick:e=>e.stopPropagation()});break;case"array":const t=r.join(", ");o=(0,x.jsx)("span",{className:"ml-2 truncate max-w-[100px] text-gray-600",children:t});break;default:o=String(r).length>20?(0,x.jsxs)("span",{className:"ml-2 truncate max-w-[100px] text-gray-600",children:[String(r).substring(0,20),"..."]}):(0,x.jsx)("input",{type:"text",value:String(r),onChange:t=>e(n,t.target.value),className:"w-24 border rounded-sm px-1 py-0 text-xs",onClick:e=>e.stopPropagation()})}return(0,x.jsxs)("div",{className:"flex justify-between items-center mb-2 text-xs",children:[(0,x.jsxs)("span",{className:"font-medium text-gray-700",children:[n,":"]}),o]},n)}))})()})]}),(0,x.jsxs)("div",{className:"connection-points",children:[(0,x.jsx)("div",{className:"inputs absolute left-0 top-0 bottom-0 w-3",children:D.length>0?D.map((e=>(0,x.jsx)("div",{className:"input-point","data-port":e.id||e.name,"data-type":e.type,title:`Input: ${e.name} (${e.type})`,onMouseDown:t=>k(t,e.id||e.name),onMouseOver:t=>j(t,"input",e.name,e.type),onMouseOut:E,style:{position:"absolute",top:`${e.y}px`},children:(0,x.jsx)("span",{className:"port-label",children:e.name})},e.id||e.name))):(0,x.jsx)("div",{className:"input-point opacity-50",style:{position:"absolute",top:"50px"},title:"No inputs available",onMouseDown:e=>k(e,"none"),onMouseOver:e=>j(e,"input","none","any"),onMouseOut:E,children:(0,x.jsx)("span",{className:"port-label",children:"No inputs"})})}),(0,x.jsx)("div",{className:"outputs absolute right-0 top-0 bottom-0 w-3",children:P.length>0?P.map((e=>(0,x.jsx)("div",{className:"output-point","data-port":e.id||e.name,"data-type":e.type,title:`Output: ${e.name} (${e.type})`,onMouseDown:t=>S(t,e.id||e.name),onMouseOver:t=>j(t,"output",e.name,e.type),onMouseOut:E,style:{position:"absolute",top:`${e.y}px`},children:(0,x.jsx)("span",{className:"port-label",children:e.name})},e.id||e.name))):(0,x.jsx)("div",{className:"output-point opacity-50",style:{position:"absolute",top:"50px"},title:"No outputs available",onMouseDown:e=>S(e,"none"),onMouseOver:e=>j(e,"output","none","any"),onMouseOut:E,children:(0,x.jsx)("span",{className:"port-label",children:"No outputs"})})})]}),(0,x.jsx)("div",{className:"resize-handle"})]})},Fo=e=>{let{onZoomIn:t,onZoomOut:n,onZoomReset:r,onCenterView:o,onSearch:i,onUndo:a,onRedo:s,zoomLevel:l}=e;return(0,x.jsxs)("div",{className:"canvas-controls",children:[(0,x.jsx)("button",{onClick:t,className:"p-1 hover:bg-gray-100 rounded",title:"Zoom In",children:(0,x.jsx)("i",{className:"fas fa-search-plus"})}),(0,x.jsx)("button",{onClick:n,className:"p-1 hover:bg-gray-100 rounded",title:"Zoom Out",children:(0,x.jsx)("i",{className:"fas fa-search-minus"})}),(0,x.jsx)("button",{onClick:r,className:"p-1 hover:bg-gray-100 rounded",title:"Reset Zoom",children:(0,x.jsx)("i",{className:"fas fa-compress-arrows-alt"})}),(0,x.jsx)("button",{onClick:o,className:"p-1 hover:bg-gray-100 rounded",title:"Center View (C)",children:(0,x.jsx)("i",{className:"fas fa-bullseye"})}),(0,x.jsx)("div",{className:"border-r border-gray-300 mx-1 h-6"}),(0,x.jsx)("button",{onClick:a,className:"p-1 hover:bg-gray-100 rounded",title:"Undo",children:(0,x.jsx)("i",{className:"fas fa-undo"})}),(0,x.jsx)("button",{onClick:s,className:"p-1 hover:bg-gray-100 rounded",title:"Redo",children:(0,x.jsx)("i",{className:"fas fa-redo"})}),(0,x.jsx)("div",{className:"border-r border-gray-300 mx-1 h-6"}),(0,x.jsx)("button",{onClick:i,className:"p-1 hover:bg-gray-100 rounded",title:"Search Nodes (Ctrl+F)",children:(0,x.jsx)("i",{className:"fas fa-search"})}),(0,x.jsx)("button",{className:"p-1 hover:bg-gray-100 rounded",title:"Validate Workflow",children:(0,x.jsx)("i",{className:"fas fa-check-circle"})}),(0,x.jsxs)("div",{className:"ml-2 text-xs text-gray-500 flex items-center",children:[Math.round(100*l),"%"]})]})},zo=e=>{let{nodes:t,canvasSize:n,zoomLevel:r,panOffset:o,onPanChange:i}=e;const s=(0,a.useRef)(null),[l,c]=(0,a.useState)(!1),[u,d]=(0,a.useState)(.1),[p,f]=(0,a.useState)({minX:0,minY:0,maxX:0,maxY:0});(0,a.useEffect)((()=>{if(0===t.length)return void f({minX:0,minY:0,maxX:0,maxY:0});let e=1/0,n=1/0,r=-1/0,o=-1/0;if(t.forEach((t=>{e=Math.min(e,t.x),n=Math.min(n,t.y),r=Math.max(r,t.x+(t.width||240)),o=Math.max(o,t.y+(t.height||100))})),e-=100,n-=100,r+=100,o+=100,f({minX:e,minY:n,maxX:r,maxY:o}),s.current){const t=s.current.clientWidth,i=s.current.clientHeight,a=t/(r-e),l=i/(o-n);d(Math.min(a,l,.1))}}),[t]);const g=()=>{c(!1)},m=(e,t)=>{if(!s.current)return;s.current.clientWidth,s.current.clientHeight;const o=e/u+p.minX,a=t/u+p.minY,l=-o*r+n.width/2,c=-a*r+n.height/2;i({x:l,y:c})},h=(()=>{if(!s.current)return{left:0,top:0,width:0,height:0};const e=s.current.clientWidth,t=s.current.clientHeight,i=-o.x/r,a=-o.y/r,l=n.width/r,c=n.height/r,d=(i-p.minX)*u,f=(a-p.minY)*u,g=l*u,m=c*u;return{left:Math.max(0,Math.min(e-g,d)),top:Math.max(0,Math.min(t-m,f)),width:Math.min(e,g),height:Math.min(t,m)}})();return(0,x.jsx)("div",{ref:s,className:"workflow-minimap",onMouseDown:e=>{if(!s.current)return;c(!0);const t=s.current.getBoundingClientRect(),n=e.clientX-t.left,r=e.clientY-t.top;m(n,r)},onMouseMove:e=>{if(!l||!s.current)return;const t=s.current.getBoundingClientRect(),n=e.clientX-t.left,r=e.clientY-t.top;m(n,r)},onMouseUp:g,onMouseLeave:g,children:(0,x.jsxs)("div",{className:"relative w-full h-full",children:[t.map((e=>{const t=(e.x-p.minX)*u,n=(e.y-p.minY)*u,r=(e.width||240)*u,o=(e.height||100)*u;return(0,x.jsx)("div",{className:"absolute bg-gray-400",style:{left:`${t}px`,top:`${n}px`,width:`${r}px`,height:`${o}px`,borderRadius:"2px"}},e.id)})),(0,x.jsx)("div",{className:"absolute border-2 border-blue-500 bg-blue-100 bg-opacity-30",style:{left:`${h.left}px`,top:`${h.top}px`,width:`${h.width}px`,height:`${h.height}px`}})]})})},$o=e=>{let{x:t,y:n,onClose:r,onAddNode:o,onPaste:i,onSelectAll:s,onClearCanvas:l,onShowShortcuts:c,onCenterView:u,onSearch:d}=e;const p=(0,a.useRef)(null);(0,a.useEffect)((()=>{const e=e=>{p.current&&!p.current.contains(e.target)&&r()};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[r]);return(0,x.jsxs)("div",{ref:p,className:"absolute bg-white rounded-lg shadow-xl border border-gray-200 z-50 w-64 overflow-hidden",style:{left:`${t}px`,top:`${n}px`,maxHeight:"80vh",transform:"translate(-50%, -50%)"},children:[(0,x.jsx)("div",{className:"p-2 bg-gray-50 border-b border-gray-200",children:(0,x.jsx)("h3",{className:"text-sm font-medium text-gray-700",children:"Quick Actions"})}),(0,x.jsxs)("div",{className:"p-2",children:[(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("div",{className:"text-xs font-medium text-gray-500 mb-1 uppercase tracking-wider",children:"Common Nodes"}),(0,x.jsx)("div",{className:"grid grid-cols-3 gap-1",children:[{type:"core.begin",label:"Begin",icon:"play-circle"},{type:"core.text.text_input",label:"Text Input",icon:"font"},{type:"core.variables.set_variable",label:"Set Variable",icon:"database"},{type:"core.control_flow.if_condition",label:"If Condition",icon:"code-branch"},{type:"core.control_flow.for_loop",label:"For Loop",icon:"redo"}].map((e=>(0,x.jsxs)("button",{className:"flex flex-col items-center justify-center p-2 rounded hover:bg-blue-50 transition-colors text-gray-700 hover:text-blue-700",onClick:()=>{o(e.type,t,n),r()},children:[(0,x.jsx)("i",{className:`fas fa-${e.icon} text-lg mb-1`}),(0,x.jsx)("span",{className:"text-xs",children:e.label})]},e.type)))})]}),(0,x.jsxs)("div",{className:"border-t border-gray-100 pt-2",children:[(0,x.jsxs)("button",{className:"w-full text-left px-3 py-2 hover:bg-blue-50 text-sm flex items-center text-gray-700 hover:text-blue-700",onClick:()=>{i(),r()},children:[(0,x.jsx)("i",{className:"fas fa-paste w-5 text-center mr-2"})," Paste",(0,x.jsx)("span",{className:"ml-auto text-xs text-gray-400",children:"Ctrl+V"})]}),(0,x.jsxs)("button",{className:"w-full text-left px-3 py-2 hover:bg-blue-50 text-sm flex items-center text-gray-700 hover:text-blue-700",onClick:()=>{s(),r()},children:[(0,x.jsx)("i",{className:"fas fa-object-group w-5 text-center mr-2"})," Select All",(0,x.jsx)("span",{className:"ml-auto text-xs text-gray-400",children:"Ctrl+A"})]}),(0,x.jsxs)("button",{className:"w-full text-left px-3 py-2 hover:bg-blue-50 text-sm flex items-center text-gray-700 hover:text-blue-700",onClick:()=>{l(),r()},children:[(0,x.jsx)("i",{className:"fas fa-trash-alt w-5 text-center mr-2"})," Clear Canvas"]}),(0,x.jsxs)("button",{className:"w-full text-left px-3 py-2 hover:bg-blue-50 text-sm flex items-center text-gray-700 hover:text-blue-700",onClick:()=>{u(),r()},children:[(0,x.jsx)("i",{className:"fas fa-bullseye w-5 text-center mr-2"})," Center View",(0,x.jsx)("span",{className:"ml-auto text-xs text-gray-400",children:"C"})]}),(0,x.jsxs)("button",{className:"w-full text-left px-3 py-2 hover:bg-blue-50 text-sm flex items-center text-gray-700 hover:text-blue-700",onClick:()=>{d(),r()},children:[(0,x.jsx)("i",{className:"fas fa-search w-5 text-center mr-2"})," Search Nodes",(0,x.jsx)("span",{className:"ml-auto text-xs text-gray-400",children:"Ctrl+F"})]}),(0,x.jsxs)("button",{className:"w-full text-left px-3 py-2 hover:bg-blue-50 text-sm flex items-center text-gray-700 hover:text-blue-700",onClick:()=>{c(),r()},children:[(0,x.jsx)("i",{className:"fas fa-keyboard w-5 text-center mr-2"})," Keyboard Shortcuts",(0,x.jsx)("span",{className:"ml-auto text-xs text-gray-400",children:"?"})]})]})]})]})},Uo=e=>{const t={"core.begin":"#3b82f6","core.text":"#60a5fa","core.variables":"#8b5cf6","core.control_flow":"#f97316","core.math":"#10b981","core.file_storage":"#f59e0b","core.web_api":"#ec4899","core.converters":"#6366f1",plugins:"#14b8a6"};for(const n in t)if(e.startsWith(n))return t[n];return"#9ca3af"},Bo=e=>{const t={"core.begin":"play-circle","core.text":"font","core.variables":"database","core.control_flow":"code-branch","core.math":"calculator","core.file_storage":"file","core.web_api":"globe","core.converters":"exchange-alt",plugins:"puzzle-piece"};for(const n in t)if(e.startsWith(n))return t[n];return"cube"},Wo=e=>null===e||void 0===e?"null":"string"===typeof e?e.length>30?`"${e.substring(0,30)}..."`:`"${e}"`:"object"===typeof e?Array.isArray(e)?`[Array(${e.length})]`:"{Object}":String(e),Ho=e=>{let{nodes:t,onSelectNode:n,onClose:r}=e;const[o,i]=(0,a.useState)(""),[s,l]=(0,a.useState)([]),[c,u]=(0,a.useState)(0),d=(0,a.useRef)(null),p=(0,a.useRef)(null);(0,a.useEffect)((()=>{d.current&&d.current.focus()}),[]),(0,a.useEffect)((()=>{if(!o.trim())return void l(t);const e=o.toLowerCase(),n=t.filter((t=>{const n=t.type.toLowerCase(),r=(t.title||"").toLowerCase();let o=!1;return t.config&&(o=Object.values(t.config).some((t=>"string"===typeof t?t.toLowerCase().includes(e):("number"===typeof t||"boolean"===typeof t)&&String(t).toLowerCase().includes(e)))),n.includes(e)||r.includes(e)||o}));l(n),u(0)}),[o,t]);(0,a.useEffect)((()=>{if(0===s.length)return;const e=document.getElementById(`search-result-${c}`);e&&p.current&&e.scrollIntoView({block:"nearest",behavior:"smooth"})}),[c,s.length]);const f=e=>{n(e),r()},g=e=>{const t=e.split(".");return t[t.length-1].replace(/_/g," ")};return(0,x.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,x.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[80vh] flex flex-col overflow-hidden",onKeyDown:e=>{switch(e.key){case"ArrowDown":e.preventDefault(),u((e=>(e+1)%s.length));break;case"ArrowUp":e.preventDefault(),u((e=>(e-1+s.length)%s.length));break;case"Enter":s[c]&&f(s[c].id);break;case"Escape":r()}},children:[(0,x.jsxs)("div",{className:"p-4 border-b border-gray-200 flex items-center",children:[(0,x.jsx)("i",{className:"fas fa-search text-gray-400 mr-3"}),(0,x.jsx)("input",{ref:d,type:"text",className:"flex-grow text-lg border-none outline-none",placeholder:"Search nodes by type, title, or content...",value:o,onChange:e=>i(e.target.value)}),(0,x.jsx)("button",{className:"text-gray-400 hover:text-gray-600",onClick:r,children:(0,x.jsx)("i",{className:"fas fa-times"})})]}),(0,x.jsx)("div",{ref:p,className:"overflow-y-auto flex-grow",children:0===s.length?(0,x.jsxs)("div",{className:"p-8 text-center text-gray-500",children:[(0,x.jsx)("i",{className:"fas fa-search text-5xl mb-4 opacity-30"}),(0,x.jsxs)("p",{children:['No nodes found matching "',o,'"']})]}):(0,x.jsx)("ul",{className:"divide-y divide-gray-100",children:s.map(((e,t)=>(0,x.jsxs)("li",{id:`search-result-${t}`,className:"p-3 hover:bg-blue-50 cursor-pointer transition-colors "+(c===t?"bg-blue-50":""),onClick:()=>f(e.id),children:[(0,x.jsxs)("div",{className:"flex items-center",children:[(0,x.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:Uo(e.type)},children:(0,x.jsx)("i",{className:`fas fa-${Bo(e.type)} text-white text-xs`})}),(0,x.jsxs)("div",{className:"flex-grow",children:[(0,x.jsx)("div",{className:"font-medium",children:e.title||g(e.type)}),(0,x.jsxs)("div",{className:"text-xs text-gray-500 flex items-center",children:[(0,x.jsx)("span",{className:"mr-2",children:e.type}),(0,x.jsxs)("span",{className:"text-gray-400",children:["ID: ",e.id.substring(0,8)]})]})]}),(0,x.jsxs)("div",{className:"text-xs text-gray-400",children:[e.x.toFixed(0),", ",e.y.toFixed(0)]})]}),e.config&&Object.keys(e.config).length>0&&(0,x.jsxs)("div",{className:"mt-2 ml-11 text-xs text-gray-600 bg-gray-50 p-2 rounded",children:[Object.entries(e.config).map((e=>{let[t,n]=e;return(0,x.jsxs)("div",{className:"truncate",children:[(0,x.jsxs)("span",{className:"font-medium",children:[t,":"]})," ",Wo(n)]},t)})).slice(0,3),Object.keys(e.config).length>3&&(0,x.jsxs)("div",{className:"text-gray-400 italic",children:["+ ",Object.keys(e.config).length-3," more properties"]})]})]},e.id)))})}),(0,x.jsx)("div",{className:"p-3 border-t border-gray-200 bg-gray-50 text-xs text-gray-500",children:(0,x.jsxs)("div",{className:"flex justify-between",children:[(0,x.jsxs)("div",{children:[(0,x.jsxs)("span",{className:"mr-4",children:[(0,x.jsx)("kbd",{className:"px-1 py-0.5 bg-gray-200 rounded text-xs font-mono",children:"\u2191"})," ",(0,x.jsx)("kbd",{className:"px-1 py-0.5 bg-gray-200 rounded text-xs font-mono",children:"\u2193"})," to navigate"]}),(0,x.jsxs)("span",{className:"mr-4",children:[(0,x.jsx)("kbd",{className:"px-1 py-0.5 bg-gray-200 rounded text-xs font-mono",children:"Enter"})," to select"]}),(0,x.jsxs)("span",{children:[(0,x.jsx)("kbd",{className:"px-1 py-0.5 bg-gray-200 rounded text-xs font-mono",children:"Esc"})," to close"]})]}),(0,x.jsxs)("div",{children:[s.length," node",1!==s.length?"s":""," found"]})]})})]})})},Vo=e=>{let{nodes:t,connections:n,selectedNode:r,selectedConnection:o,zoom:i,onAddNode:s,onSelectNode:l,onDeleteNode:c,onAddConnection:u,onDeleteConnection:d,onOpenNodeEditor:p,onUndo:f,onRedo:g,onUpdateNodePosition:m,onUpdateNodeConfig:h}=e;const[y,b]=(0,a.useState)({width:0,height:0}),[v,w]=(0,a.useState)(!0),[N,k]=(0,a.useState)(null),[S,j]=(0,a.useState)(!1);let E={},C=async(e,t)=>e===t||"any"===e||"any"===t;try{const e=Lo();E=e.nodeTypes,C=e.isTypeCompatible}catch(V){console.warn("NodeTypesContext not available, using fallback values")}const _=e=>{if(E&&E[e])return E[e];return{data_loader:{inputs:[],outputs:[{name:"data",type:"dataset"}]},data_transform:{inputs:[{name:"data",type:"dataset"}],outputs:[{name:"transformed_data",type:"dataset"}]},feature_engineering:{inputs:[{name:"data",type:"dataset"}],outputs:[{name:"features",type:"features"}]},train_model:{inputs:[{name:"features",type:"features"},{name:"labels",type:"labels"}],outputs:[{name:"model",type:"model"}]},evaluate:{inputs:[{name:"model",type:"model"},{name:"test_data",type:"dataset"}],outputs:[{name:"metrics",type:"metrics"}]},predict:{inputs:[{name:"model",type:"model"},{name:"data",type:"dataset"}],outputs:[{name:"predictions",type:"predictions"}]},deploy_model:{inputs:[{name:"model",type:"model"}],outputs:[{name:"service",type:"service"}]},monitoring:{inputs:[{name:"service",type:"service"},{name:"predictions",type:"predictions"}],outputs:[]}}[e]||{inputs:[],outputs:[]}},[T,O]=(0,a.useState)(null),[D,I]=(0,a.useState)(i.level),[P,R]=(0,a.useState)({x:0,y:0}),[A,L]=(0,a.useState)(!1),[M,F]=(0,a.useState)({x:0,y:0}),[{isOver:z},$]=Co({accept:"component",drop:(e,t)=>{const n=t.getClientOffset(),r=document.querySelector(".workflow-canvas");if(n&&r){const t=r.getBoundingClientRect(),o=(n.x-t.left-P.x)/D,i=(n.y-t.top-P.y)/D;s(e.type,o,i)}},collect:e=>({isOver:!!e.isOver()})});(0,a.useEffect)((()=>{const e=()=>{const e=document.querySelector(".workflow-canvas");e&&b({width:e.clientWidth,height:e.clientHeight})};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]);const U=(0,a.useCallback)((()=>{if(0===t.length)return I(1),void R({x:0,y:0});let e=1/0,n=1/0,r=-1/0,o=-1/0;t.forEach((t=>{const i=t.width||240,a=t.height||120;e=Math.min(e,t.x),n=Math.min(n,t.y),r=Math.max(r,t.x+i),o=Math.max(o,t.y+a)}));const i=document.querySelector(".workflow-canvas");if(!i)return;const a=i.clientWidth,s=i.clientHeight,l=(e+r)/2,c=(n+o)/2,u=a/(r-e+200),d=s/(o-n+200),p=Math.min(Math.min(u,d),1),f=a/2-l*p,g=s/2-c*p;I(p),R({x:f,y:g});const m=document.createElement("div");m.className="center-view-indicator",m.innerHTML='<i class="fas fa-crosshairs mr-2"></i> View Centered',m.style.position="absolute",m.style.top="50%",m.style.left="50%",m.style.transform="translate(-50%, -50%)",m.style.backgroundColor="rgba(59, 130, 246, 0.9)",m.style.color="white",m.style.padding="10px 20px",m.style.borderRadius="8px",m.style.zIndex="1000",m.style.fontWeight="bold",m.style.fontSize="14px",i.appendChild(m),setTimeout((()=>{m.style.opacity="0",m.style.transition="opacity 0.3s ease",setTimeout((()=>{i.contains(m)&&i.removeChild(m)}),300)}),1500)}),[t,D]);(0,a.useEffect)((()=>{const e=e=>{"m"===e.key&&e.altKey&&w((e=>!e)),"c"!==e.key||e.ctrlKey||e.altKey||U(),"f"!==e.key||!e.ctrlKey&&!e.metaKey||e.shiftKey||(e.preventDefault(),j(!0)),"/"===e.key&&document.activeElement===document.body&&(e.preventDefault(),j(!0))};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)}),[U]),(0,a.useEffect)((()=>{const e=document.querySelector(".workflow-canvas");if(e){const t=e=>{(e=>{e.preventDefault();const t=document.querySelector(".workflow-canvas");if(!t)return;const n=t.getBoundingClientRect(),r=e.clientX-n.left,o=e.clientY-n.top,a=e.deltaY<0?1:-1,s=Math.max(i.min,Math.min(i.max,D+.1*a));if(s!==D){const e=s/D,t=r-(r-P.x)*e,n=o-(o-P.y)*e;I(s),R({x:t,y:n})}})(e)};return e.addEventListener("wheel",t,{passive:!1}),()=>{e.removeEventListener("wheel",t)}}}),[D,P,i.min,i.max]);(0,a.useEffect)((()=>{const e=document.querySelector(".workflow-canvas");if(e){Array.from(e.classList).filter((e=>e.startsWith("zoom-level-"))).forEach((t=>e.classList.remove(t))),e.classList.add(`zoom-level-${D.toString().replace(".","-")}`)}}),[D]);const B=()=>{if(A){L(!1);const e=document.querySelector(".workflow-canvas");e&&e.classList.remove("panning")}},W=(e,n,r)=>{const o=t.find((t=>t.id===e));if(o){const t=_(o.type).outputs.find((e=>e.id&&e.id===n||e.name===n)),i=(null===t||void 0===t?void 0:t.type)||"any";console.log(`Starting connection from node ${e}, port ${n}, type ${i}`),O({fromNodeId:e,fromPort:n,fromEl:r,mouseX:0,mouseY:0,fromType:i}),document.body.classList.add("connecting");const a=e=>{O((t=>t?{...t,mouseX:e.clientX,mouseY:e.clientY}:null))};document.addEventListener("mousemove",a);const s=()=>{document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",s)};document.addEventListener("mouseup",s)}},H=async(e,n)=>{if(T&&T.fromNodeId!==e){console.log(`Ending connection to node ${e}, port ${n}`);const r=t.find((e=>e.id===T.fromNodeId)),o=t.find((t=>t.id===e));if(r&&o){const t=_(r.type),i=_(o.type);console.log(`From node type: ${r.type}, To node type: ${o.type}`),console.log("From ports:",t.outputs),console.log("To ports:",i.inputs);const a=t.outputs.find((e=>e.id&&e.id===T.fromPort||e.name===T.fromPort)),s=i.inputs.find((e=>e.id&&e.id===n||e.name===n));if(console.log("Selected from port:",a),console.log("Selected to port:",s),!a)return console.warn(`Output port ${T.fromPort} not found on node ${r.id} (${r.type})`),O(null),void document.body.classList.remove("connecting");if(!s)return console.warn(`Input port ${n} not found on node ${o.id} (${o.type})`),O(null),void document.body.classList.remove("connecting");const l=(null===a||void 0===a?void 0:a.type)||"any",c=(null===s||void 0===s?void 0:s.type)||"any";console.log(`Checking compatibility: ${l} -> ${c}`);const d=document.createElement("div");d.className="connection-type-indicator validating",d.textContent="Validating connection...",d.style.position="absolute",d.style.left=(r.x+o.x)/2+"px",d.style.top=(r.y+o.y)/2+"px",document.body.appendChild(d);try{let t=!1;if(l===c||"any"===l||"any"===c)t=!0;else try{t=await C(l,c)}catch(V){console.error("Error checking type compatibility with backend:",V),t=l===c||"any"===l||"any"===c}if(!t)return console.warn(`Incompatible types: ${l} -> ${c}`),d.textContent=`Incompatible types: ${l} \u2192 ${c}`,d.className="connection-type-indicator invalid",d.style.backgroundColor="#fee2e2",d.style.color="#ef4444",setTimeout((()=>{document.body.removeChild(d)}),3e3),O(null),void document.body.classList.remove("connecting");d.textContent=`Connected: ${l} \u2192 ${c}`,d.className="connection-type-indicator valid",d.style.backgroundColor="#dcfce7",d.style.color="#16a34a",setTimeout((()=>{document.body.removeChild(d)}),2e3),console.log(`Creating connection from ${T.fromNodeId}.${T.fromPort} to ${e}.${n}`),u(T.fromNodeId,T.fromPort,e,n),document.body.classList.remove("connecting")}catch(V){console.error("Error in connection validation process:",V),d.textContent="Error validating connection",d.className="connection-type-indicator",d.style.backgroundColor="#fef3c7",d.style.color="#d97706",setTimeout((()=>{document.body.removeChild(d)}),3e3),console.log("Allowing connection despite error for development purposes"),u(T.fromNodeId,T.fromPort,e,n),document.body.classList.remove("connecting")}}else console.warn("Source or target node not found"),document.body.classList.remove("connecting")}else document.body.classList.remove("connecting"),O(null)};return(0,x.jsx)("div",{className:"relative flex-grow",style:{height:"calc(100vh - 140px)",minHeight:"800px"},children:(0,x.jsxs)("div",{ref:$,className:`workflow-canvas p-4 w-full h-full relative overflow-hidden ${z?"bg-blue-50":""} zoom-level-${D.toString().replace(".","-")}`,onClick:e=>{const t=document.querySelector(".workflow-canvas");e.target===t&&(l(null),0===e.button&&k(null)),T&&(O(null),document.body.classList.remove("connecting"))},onMouseDown:e=>{const t=e.target===e.currentTarget;if(1===e.button||0===e.button&&e.altKey||0===e.button&&t){L(!0),F({x:e.clientX,y:e.clientY});const t=document.querySelector(".workflow-canvas");t&&t.classList.add("panning"),e.preventDefault()}},onMouseMove:e=>{if(A){const t=e.clientX-M.x,n=e.clientY-M.y;requestAnimationFrame((()=>{R((e=>({x:e.x+t,y:e.y+n})))})),F({x:e.clientX,y:e.clientY})}T&&requestAnimationFrame((()=>{O({...T,mouseX:e.clientX,mouseY:e.clientY})}))},onMouseUp:B,onMouseLeave:B,onContextMenu:e=>{if(e.preventDefault(),e.target===e.currentTarget){const t=e.currentTarget.getBoundingClientRect(),n=(e.clientX-t.left-P.x)/D,r=(e.clientY-t.top-P.y)/D;k({x:n,y:r})}else k(null)},children:[(0,x.jsx)("div",{className:"absolute top-0 left-0 w-full h-full",style:{transform:`scale(${D}) translate(${P.x/D}px, ${P.y/D}px)`,transformOrigin:"0 0",willChange:"transform",transition:A?"none":"transform 0.3s cubic-bezier(0.215, 0.61, 0.355, 1)",pointerEvents:"none"},children:t.map((e=>(0,x.jsx)(Mo,{node:e,isSelected:e.id===r,onSelect:()=>l(e.id),onDelete:()=>c(e.id),onEdit:()=>p(e.id),onStartConnection:W,onEndConnection:H,onUpdatePosition:m,onUpdateConfig:h},e.id)))}),n.map((e=>{const n=t.find((t=>t.id===e.from.nodeId)),r=t.find((t=>t.id===e.to.nodeId));if(!n||!r)return null;const i=_(n.type),a=_(r.type),s=i.outputs.find((t=>t.id&&t.id===e.from.port||t.name===e.from.port)),l=a.inputs.find((t=>t.id&&t.id===e.to.port||t.name===e.to.port)),c=(null===s||void 0===s?void 0:s.type)||"any",u=(null===l||void 0===l?void 0:l.type)||"any",p=(e,t,n)=>{const r=e.type,o=_(r),i=n?o.inputs:o.outputs,a=i.findIndex((e=>e.id&&e.id===t||e.name===t));if(-1===a)return console.warn(`Port ${t} not found on node ${e.id} of type ${e.type}`),{x:n?e.x:e.x+(e.width||240),y:e.y+(e.height||100)/2};const s=(e.height||100)/(i.length+1),l=e.y+s*(a+1);return{x:n?e.x:e.x+(e.width||240),y:l}},f=p(n,e.from.port,!1),g=p(r,e.to.port,!0),m=f.x*D,h=f.y*D,y=g.x*D,b=g.y*D,v=Math.abs(y-m),w=Math.max(50,.4*v),N=`M ${m} ${h} C ${m+w} ${h}, ${y-w} ${b}, ${y} ${b}`,k={dataset:"connection-dataset",features:"connection-features",model:"connection-model",metrics:"connection-metrics",predictions:"connection-predictions",service:"connection-service",labels:"connection-labels"}[c]||"";return(0,x.jsxs)("svg",{className:"absolute top-0 left-0 w-full h-full pointer-events-none",style:{transform:`translate(${P.x}px, ${P.y}px)`,willChange:"transform",transition:A?"none":"transform 0.1s ease-out"},children:[(0,x.jsx)("path",{d:N,className:`connection-path ${k} ${e.id===o?"selected":""}`,onClick:()=>d(e.id),"data-from-type":c,"data-to-type":u}),(0,x.jsx)("text",{x:(m+y)/2,y:(h+b)/2-10*D,className:"connection-label",textAnchor:"middle",fill:"#666",fontSize:""+10*Math.max(.8,Math.min(1.2,D)),children:c})]},e.id)})),(()=>{if(!T)return null;const e=document.querySelector(".workflow-canvas");if(!e)return null;t.find((e=>e.id===T.fromNodeId)),T.fromType;const n=t.find((e=>e.id===T.fromNodeId));if(!n)return null;const r=e.getBoundingClientRect(),o=((e,t,n)=>{const r=e.type,o=_(r),i=n?o.inputs:o.outputs,a=i.findIndex((e=>e.id&&e.id===t||e.name===t));if(-1===a)return console.warn(`Port ${t} not found on node ${e.id} of type ${e.type}`),{x:n?e.x:e.x+(e.width||240),y:e.y+(e.height||100)/2};const s=(e.height||100)/(i.length+1),l=e.y+s*(a+1);return{x:n?e.x:e.x+(e.width||240),y:l}})(n,T.fromPort,!1),i=o.x*D,a=o.y*D,s=T.mouseX?T.mouseX-r.left-P.x:i+100*D,l=T.mouseY?T.mouseY-r.top-P.y:a,c=Math.abs(s-i),u=Math.max(50*D,.4*c),d=`M ${i} ${a} C ${i+u} ${a}, ${s-u} ${l}, ${s} ${l}`,p={string:"#60a5fa",number:"#a78bfa",boolean:"#f87171",object:"#4ade80",array:"#fbbf24",any:"#9ca3af",trigger:"#ec4899",dataset:"#0ea5e9",model:"#8b5cf6",features:"#10b981",predictions:"#f59e0b"}[T.fromType||"any"]||"#3b82f6";const f=document.elementsFromPoint(T.mouseX,T.mouseY).find((e=>e.classList.contains("input-point")));let g=!!f,m=!0;if(g&&f){const e=f.getAttribute("data-type")||"any",t=T.fromType||"any";m=t===e||"any"===t||"any"===e}return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("svg",{className:"absolute top-0 left-0 w-full h-full pointer-events-none",style:{transform:`translate(${P.x}px, ${P.y}px)`,willChange:"transform",transition:A?"none":"transform 0.1s ease-out"},children:[(0,x.jsx)("path",{d:d,className:"connection-path "+(g?m?"valid":"invalid":""),strokeDasharray:"5,5",stroke:p,strokeWidth:"3","data-from-type":(null===T||void 0===T?void 0:T.fromType)||"any"}),(0,x.jsx)("text",{x:(i+s)/2,y:(a+l)/2-10*D,className:"connection-label",textAnchor:"middle",fill:p,fontSize:""+12*Math.max(.8,Math.min(1.2,D)),fontWeight:"bold",children:(null===T||void 0===T?void 0:T.fromType)||"any"}),(0,x.jsx)("circle",{cx:s,cy:l,r:""+8*Math.max(.8,Math.min(1.2,D)),fill:p,opacity:"0.7"})]}),(0,x.jsxs)("div",{className:"connection-type-indicator","data-type":(null===T||void 0===T?void 0:T.fromType)||"any",style:{position:"fixed",left:null!==T&&void 0!==T&&T.mouseX?T.mouseX+15:0,top:null!==T&&void 0!==T&&T.mouseY?T.mouseY+15:0,pointerEvents:"none",zIndex:1e3},children:[(null===T||void 0===T?void 0:T.fromType)||"any",g&&(0,x.jsx)("span",{className:m?"text-green-600":"text-red-600",children:m?" \u2713":" \u2717"})]})]})})(),0===t.length&&(0,x.jsx)("div",{className:"absolute inset-0 flex items-center justify-center text-gray-400",children:(0,x.jsxs)("div",{className:"text-center",children:[(0,x.jsx)("i",{className:"fas fa-project-diagram text-5xl mb-2"}),(0,x.jsx)("p",{children:"Drag components here to build your workflow"})]})}),(0,x.jsx)(Fo,{onZoomIn:()=>{D<i.max&&I((e=>Math.min(e+i.step,i.max)))},onZoomOut:()=>{D>i.min&&I((e=>Math.max(e-i.step,i.min)))},onZoomReset:()=>{I(1),R({x:0,y:0})},onCenterView:U,onSearch:()=>j(!0),onUndo:f,onRedo:g,zoomLevel:D}),!v&&(0,x.jsx)("button",{className:"absolute bottom-4 left-4 bg-white bg-opacity-90 rounded-lg shadow-md p-2 text-gray-600 hover:text-blue-600 z-50",onClick:()=>w(!0),title:"Show Minimap (Alt+M)",children:(0,x.jsx)("i",{className:"fas fa-map text-lg"})}),(0,x.jsxs)("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 bg-white bg-opacity-80 text-gray-700 text-xs py-1 px-3 rounded-full shadow-sm transition-opacity duration-300 hover:opacity-100 opacity-70",children:[(0,x.jsxs)("span",{className:"mr-3",children:[(0,x.jsx)("kbd",{className:"px-1 py-0.5 bg-gray-200 rounded text-xs font-mono",children:"Scroll"})," to zoom in/out"]}),(0,x.jsxs)("span",{className:"mr-3",children:[(0,x.jsx)("kbd",{className:"px-1 py-0.5 bg-gray-200 rounded text-xs font-mono",children:"Alt+Click"})," or ",(0,x.jsx)("kbd",{className:"px-1 py-0.5 bg-gray-200 rounded text-xs font-mono",children:"Middle-Click"})," to pan"]}),(0,x.jsxs)("span",{className:"mr-3",children:[(0,x.jsx)("kbd",{className:"px-1 py-0.5 bg-gray-200 rounded text-xs font-mono",children:"C"})," to center view"]}),(0,x.jsxs)("span",{className:"mr-3",children:[(0,x.jsx)("kbd",{className:"px-1 py-0.5 bg-gray-200 rounded text-xs font-mono",children:"Ctrl+F"})," or ",(0,x.jsx)("kbd",{className:"px-1 py-0.5 bg-gray-200 rounded text-xs font-mono",children:"/"})," to search"]}),(0,x.jsxs)("span",{className:"mr-3",children:[(0,x.jsx)("kbd",{className:"px-1 py-0.5 bg-gray-200 rounded text-xs font-mono",children:"Alt+M"})," toggle minimap"]}),(0,x.jsxs)("span",{className:"mr-3",children:[(0,x.jsx)("kbd",{className:"px-1 py-0.5 bg-gray-200 rounded text-xs font-mono",children:"Right-Click"})," for quick actions"]}),(0,x.jsxs)("span",{children:[(0,x.jsx)("kbd",{className:"px-1 py-0.5 bg-gray-200 rounded text-xs font-mono",children:"?"})," for all shortcuts"]})]}),N&&(0,x.jsx)($o,{x:N.x,y:N.y,onClose:()=>k(null),onAddNode:s,onPaste:()=>console.log("Paste"),onSelectAll:()=>console.log("Select All"),onClearCanvas:()=>{window.confirm("Are you sure you want to clear the canvas? This will remove all nodes and connections.")&&t.forEach((e=>c(e.id))),k(null)},onShowShortcuts:()=>console.log("Show Shortcuts"),onCenterView:U,onSearch:()=>j(!0)}),S&&(0,x.jsx)(Ho,{nodes:t,onSelectNode:e=>{l(e);const n=t.find((t=>t.id===e));if(n){const e=document.querySelector(".workflow-canvas");if(e){const t=e.clientWidth,r=e.clientHeight,o=n.width||240,i=n.height||120,a=n.x+o/2,s=n.y+i/2;R({x:t/2-a*D,y:r/2-s*D})}}},onClose:()=>j(!1)}),v&&(0,x.jsxs)("div",{className:"absolute bottom-4 left-4 w-48 h-36 bg-white bg-opacity-90 rounded-lg shadow-lg overflow-hidden border border-gray-200 z-50",children:[(0,x.jsx)("div",{className:"absolute top-1 right-1 z-10",children:(0,x.jsx)("button",{className:"text-gray-500 hover:text-gray-700 bg-white bg-opacity-80 rounded-full w-5 h-5 flex items-center justify-center text-xs",onClick:()=>w(!1),title:"Hide Minimap (Alt+M)",children:(0,x.jsx)("i",{className:"fas fa-times"})})}),(0,x.jsx)(zo,{nodes:t,canvasSize:y,zoomLevel:D,panOffset:P,onPanChange:R})]})]})})};const qo=new class{constructor(){this.socket=null,this.reconnectAttempts=0,this.reconnectTimeout=null,this.messageHandlers=new Map,this.isConnecting=!1,this.token=null,this.token=localStorage.getItem("auth_token"),window.addEventListener("storage",(e=>{"auth_token"===e.key&&(this.token=e.newValue,this.isConnected()&&(this.disconnect(),this.connect()))}))}connect(){return this.isConnected()||this.isConnecting?Promise.resolve():(this.isConnecting=!0,new Promise(((e,t)=>{try{let n=jr;this.token&&(n+=`?token=${this.token}`),this.socket=new WebSocket(n),this.socket.onopen=()=>{console.log("WebSocket connected"),this.reconnectAttempts=0,this.isConnecting=!1,e()},this.socket.onmessage=e=>{try{const t=JSON.parse(e.data);this.handleMessage(t)}catch(t){console.error("Error parsing WebSocket message:",t)}},this.socket.onclose=e=>{this.isConnecting=!1,e.wasClean?console.log(`WebSocket closed cleanly, code=${e.code}, reason=${e.reason}`):(console.warn("WebSocket connection died"),this.reconnect())},this.socket.onerror=e=>{console.error("WebSocket error:",e),this.isConnecting=!1,t(e)}}catch(n){this.isConnecting=!1,t(n)}})))}disconnect(){this.socket&&(this.socket.close(),this.socket=null),this.reconnectTimeout&&(clearTimeout(this.reconnectTimeout),this.reconnectTimeout=null),this.reconnectAttempts=0}isConnected(){return null!==this.socket&&this.socket.readyState===WebSocket.OPEN}send(e,t){if(!this.isConnected())return console.warn("Cannot send message, WebSocket not connected"),!1;try{const n={type:e,data:t};return this.socket.send(JSON.stringify(n)),!0}catch(n){return console.error("Error sending WebSocket message:",n),!1}}subscribe(e,t){this.messageHandlers.has(e)||this.messageHandlers.set(e,new Set),this.messageHandlers.get(e).add(t)}unsubscribe(e,t){this.messageHandlers.has(e)&&(this.messageHandlers.get(e).delete(t),0===this.messageHandlers.get(e).size&&this.messageHandlers.delete(e))}handleMessage(e){const{type:t,data:n}=e;if(this.messageHandlers.has(t)){this.messageHandlers.get(t).forEach((e=>{try{e(n)}catch(r){console.error(`Error in WebSocket message handler for type ${t}:`,r)}}))}}reconnect(){if(this.reconnectTimeout&&clearTimeout(this.reconnectTimeout),this.reconnectAttempts>=5)return void console.warn("Maximum reconnect attempts (5) reached");this.reconnectAttempts++;const e=2e3*Math.pow(1.5,this.reconnectAttempts-1);console.log(`Reconnecting to WebSocket in ${e}ms (attempt ${this.reconnectAttempts})`),this.reconnectTimeout=setTimeout((()=>{this.connect().catch((e=>{console.error("Error reconnecting to WebSocket:",e)}))}),e)}updateToken(e){this.token=e,this.isConnected()&&(this.disconnect(),this.connect())}},Ko=vr.create({baseURL:`${Sr}/auth`,headers:{"Content-Type":"application/json"}});Ko.interceptors.request.use((e=>{const t=localStorage.getItem("auth_token");return t&&(e.headers.Authorization=`Bearer ${t}`),e}),(e=>Promise.reject(e))),Ko.interceptors.response.use((e=>e),(async e=>{var t;const n=e.config;if(401===(null===(t=e.response)||void 0===t?void 0:t.status)&&!n._retry){n._retry=!0;try{const e=localStorage.getItem("refresh_token");if(e){const t=await Ko.post("/token/refresh",{refresh_token:e}),{access_token:r}=t.data;return localStorage.setItem("auth_token",r),n.headers.Authorization=`Bearer ${r}`,vr(n)}}catch(r){Xo()}}return Promise.reject(e)}));const Xo=()=>{localStorage.removeItem("auth_token"),localStorage.removeItem("token_expires"),window.location.href="/login"},Yo=()=>{const e=localStorage.getItem("auth_token"),t=localStorage.getItem("token_expires");if(!e||!t)return!1;return!(new Date(t)<new Date)||(localStorage.removeItem("auth_token"),localStorage.removeItem("token_expires"),!1)},Go=(localStorage.getItem("auth_token"),Yo(),(0,a.createContext)(void 0)),Qo=(0,a.createContext)(void 0),Jo=e=>{let{children:t}=e;const[n,r]=(0,a.useState)(qo.isConnected());let o={isAuthenticated:!1,token:null};try{const e=(()=>{const e=(0,a.useContext)(Go);if(void 0===e)throw new Error("useAuth must be used within an AuthProvider");return e})();o=e.authState}catch(s){console.warn("AuthProvider not available, using fallback values for WebSocketProvider")}(0,a.useEffect)((()=>{Er.WEBSOCKETS_ENABLED&&(o.token?qo.updateToken(o.token):qo.updateToken(null),o.isAuthenticated&&!qo.isConnected()&&qo.connect().then((()=>r(!0))).catch((e=>console.error("Error connecting to WebSocket:",e))),!o.isAuthenticated&&qo.isConnected()&&(qo.disconnect(),r(!1)))}),[o.isAuthenticated,o.token]),(0,a.useEffect)((()=>{if(!Er.WEBSOCKETS_ENABLED)return;const e=setInterval((()=>{const e=qo.isConnected();e!==n&&r(e)}),5e3);return()=>clearInterval(e)}),[n]);const i={isConnected:n,connect:async()=>{if(!Er.WEBSOCKETS_ENABLED)return Promise.resolve();try{await qo.connect(),r(!0)}catch(s){throw console.error("Error connecting to WebSocket:",s),r(!1),s}},disconnect:()=>{Er.WEBSOCKETS_ENABLED&&(qo.disconnect(),r(!1))},subscribe:(e,t)=>{Er.WEBSOCKETS_ENABLED&&qo.subscribe(e,t)},unsubscribe:(e,t)=>{Er.WEBSOCKETS_ENABLED&&qo.unsubscribe(e,t)},send:(e,t)=>!!Er.WEBSOCKETS_ENABLED&&qo.send(e,t)};return(0,x.jsx)(Qo.Provider,{value:i,children:t})},Zo=()=>{const e=(0,a.useContext)(Qo);if(void 0===e)throw new Error("useWebSocket must be used within a WebSocketProvider");return e},ei=e=>{let{workflow:t,nodes:n,connections:r,onClose:o,onVisualizationChange:i}=e;const{subscribe:s,unsubscribe:l}=Zo(),[c,u]=(0,a.useState)(null),[d,p]=(0,a.useState)("pending"),[f,g]=(0,a.useState)([]),[m,h]=(0,a.useState)(!1);(0,a.useEffect)((()=>(y(),i(!0,c),()=>{i(!1,null)})),[]);const y=async()=>{try{h(!0),p("running");const e=t.nodes.map((e=>({nodeId:e.id,nodeType:e.type,status:"pending"})));g(e);const n=await(async e=>{if(Cr){console.log("Standalone demo mode: Using mock execution");try{return await b(e.nodes,e.connections)}catch(t){throw console.error("Error in mock execution:",t),t}}try{const t={nodes:e.nodes.map((e=>({id:e.id,type:e.type,config:e.config}))),edges:e.connections.map((e=>({source:e.from.nodeId,target:e.to.nodeId,source_port:e.from.port,target_port:e.to.port})))},n=await _r.post("/workflows/execute",t);if("success"===n.data.status)return n.data;throw new Error("Failed to execute workflow")}catch(t){throw console.error("Error executing workflow:",t),t}})(t),r=n.executionId||"";u(r),i(!0,r),s?s(`execution.${r}.status`,v):(console.warn("WebSocket not available, falling back to simulation"),w(e))}catch(e){console.error("Error executing workflow:",e),p("failed"),h(!1)}},v=e=>{const{status:t,node_statuses:n}=e;p(t),"completed"!==t&&"failed"!==t||h(!1),n&&g((e=>e.map((e=>{const t=n[e.nodeId];return t?{...e,status:t.status,startTime:t.start_time?new Date(t.start_time):void 0,endTime:t.end_time?new Date(t.end_time):void 0,duration:t.duration?`${(t.duration/1e3).toFixed(2)}s`:void 0,details:t.error||"Execution successful"}:e}))))},w=e=>{const t=e.length;let n=0;const r=setInterval((()=>{if(n>=t)return clearInterval(r),p("completed"),void h(!1);g((e=>{const t=[...e];return t[n]={...t[n],status:"running",startTime:new Date},t})),setTimeout((()=>{g((e=>{const t=[...e],r=new Date,o=t[n].startTime||new Date,i=r.getTime()-o.getTime();return t[n]={...t[n],status:"completed",endTime:r,duration:`${(i/1e3).toFixed(2)}s`,details:"Execution successful"},t})),n++}),1500)}),2e3);return()=>clearInterval(r)},N=e=>{switch(e){case"pending":return"bg-yellow-100 text-yellow-800";case"running":return"bg-blue-100 text-blue-800";case"completed":return"bg-green-100 text-green-800";case"failed":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return(0,x.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-4 mt-6",children:[(0,x.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,x.jsx)("h2",{className:"text-lg font-semibold text-gray-700",children:"Workflow Execution"}),(0,x.jsx)("button",{className:"text-gray-500 hover:text-gray-700",onClick:o,children:(0,x.jsx)("i",{className:"fas fa-times"})})]}),(0,x.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Status:"}),(0,x.jsx)("span",{className:`ml-2 px-2 py-1 rounded-full text-xs font-medium ${N(d)}`,children:d.charAt(0).toUpperCase()+d.slice(1)})]}),(0,x.jsx)("div",{children:(0,x.jsxs)("button",{className:"px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700 text-sm disabled:opacity-50",onClick:async()=>{if(c)try{await(async e=>{try{await _r.post(`/workflows/execution/${e}/stop`)}catch(t){throw console.error("Error stopping execution:",t),t}})(c),p("failed"),h(!1),l(`execution.${c}.status`,v),g((e=>e.map((e=>"running"===e.status||"pending"===e.status?{...e,status:"failed",details:"Execution stopped by user"}:e))))}catch(e){console.error("Error stopping execution:",e)}},disabled:!m,children:[(0,x.jsx)("i",{className:"fas fa-stop mr-1"})," Stop Execution"]})})]}),(0,x.jsx)("div",{className:"overflow-x-auto",children:(0,x.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,x.jsx)("thead",{children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Step"}),(0,x.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Type"}),(0,x.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),(0,x.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Duration"}),(0,x.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Details"})]})}),(0,x.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:f.map(((e,t)=>(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{className:"px-4 py-2 whitespace-nowrap",children:t+1}),(0,x.jsx)("td",{className:"px-4 py-2 whitespace-nowrap",children:e.nodeType}),(0,x.jsx)("td",{className:"px-4 py-2 whitespace-nowrap",children:(0,x.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${N(e.status)}`,children:"running"===e.status?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("i",{className:"fas fa-spinner fa-spin mr-1"}),"Running"]}):e.status.charAt(0).toUpperCase()+e.status.slice(1)})}),(0,x.jsx)("td",{className:"px-4 py-2 whitespace-nowrap",children:e.duration||"-"}),(0,x.jsx)("td",{className:"px-4 py-2 whitespace-nowrap",children:e.details||"-"})]},e.nodeId)))})]})})]})},ti=(0,a.createContext)(null);let ni=null;const ri=async()=>{try{console.log("Initializing node config service");const e=await Ir(),t={nodeConfigs:e,loading:!1,error:null,refreshConfigs:async()=>{try{const e=await Ir();t.nodeConfigs=e,t.error=null}catch(e){console.error("Error refreshing node configs:",e),t.error="Failed to refresh node configurations"}},getConfigForNode:t=>e[t]||null};return ni=t,t}catch(e){console.error("Error initializing node config service:",e);const t={nodeConfigs:{},loading:!1,error:"Failed to load node configurations",refreshConfigs:async()=>{try{const e=await Ir();t.nodeConfigs=e,t.error=null}catch(e){console.error("Error refreshing node configs:",e),t.error="Failed to refresh node configurations"}},getConfigForNode:()=>null};return t}};ri().then((e=>{console.log("Node config service initialized with",Object.keys(e.nodeConfigs).length,"node configurations"),ni=e})).catch((e=>{console.error("Failed to initialize node config service:",e)}));const oi=e=>{let{children:t}=e;const[n,r]=(0,a.useState)(ni),[o,i]=(0,a.useState)(null===ni);return(0,a.useEffect)((()=>{if(ni)return r(ni),void i(!1);console.log("Initializing NodeConfigProvider from component"),ri().then((e=>{r(e),i(!1)})).catch((e=>{console.error("Error initializing node config service:",e),r({nodeConfigs:{},loading:!1,error:"Failed to load node configurations",refreshConfigs:async()=>{},getConfigForNode:()=>null}),i(!1)}))}),[]),o?(0,x.jsx)(ti.Provider,{value:{nodeConfigs:{},loading:!0,error:null,refreshConfigs:async()=>{},getConfigForNode:()=>null},children:t}):(0,x.jsx)(ti.Provider,{value:n,children:t})},ii=e=>{let{value:t,onChange:n,language:r="javascript",height:o="200px",placeholder:i="Enter code here...",label:s,helpText:l}=e;const[c,u]=(0,a.useState)(!1),d=()=>{switch(r){case"javascript":default:return"language-javascript";case"python":return"language-python";case"json":return"language-json";case"html":return"language-html";case"css":return"language-css"}};return(0,x.jsxs)("div",{className:"form-control-container",children:[s&&(0,x.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:s}),(0,x.jsxs)("div",{className:`code-editor-container ${c?"focused":""} ${d()}`,style:{height:o},children:[(0,x.jsx)("textarea",{value:t,onChange:e=>n(e.target.value),onFocus:()=>u(!0),onBlur:()=>{if(u(!1),"json"===r&&t.trim())try{const e=JSON.stringify(JSON.parse(t),null,2);n(e)}catch(e){console.warn("Invalid JSON, skipping formatting")}},placeholder:i,className:"code-editor-textarea",spellCheck:!1}),(0,x.jsx)("pre",{className:"code-editor-highlight",children:(0,x.jsx)("code",{className:d(),children:t||i})})]}),l&&(0,x.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:l})]})},ai=e=>{let{nodeId:t,node:n,plugins:r,onSave:o,onCancel:i}=e;const[s,l]=(0,a.useState)({}),{getConfigForNode:c}=(()=>{const e=(0,a.useContext)(ti);if(!e)throw new Error("useNodeConfig must be used within a NodeConfigProvider");return e})();if((0,a.useEffect)((()=>{n&&l(n.config||{})}),[n]),!n)return null;const u=e=>({string:"text",number:"number",boolean:"checkbox",select:"select",multi_select:"select",code:"code",color:"color",textarea:"textarea",json:"code"}[e]||"text"),{title:d,configFields:p}=(e=>{const t=c(e);if(t&&t.config_fields)return{title:e.split(".").pop()||e,configFields:t.config_fields.map((e=>{var t,n;return{name:e.id,label:e.name,type:u(e.type),placeholder:e.description,options:e.options?e.options.map((e=>e.label||e.value)):void 0,multiple:"multi_select"===e.type,min:null===(t=e.validation)||void 0===t?void 0:t.min,step:null===(n=e.validation)||void 0===n?void 0:n.step,required:e.required}}))};const n=r.find((t=>t.id===e));return n&&n.__plugin_meta__?{title:n.__plugin_meta__.name,configFields:n.__plugin_meta__.configFields}:{title:e.split(".").pop()||e,configFields:[]}})(n.type),f=(e,t)=>{l((n=>({...n,[e]:t})))},g=e=>{var t,n;const r=void 0!==s[e.name]?s[e.name]:"";switch(e.type){case"text":return(0,x.jsx)("input",{type:"text",name:e.name,value:r,placeholder:e.placeholder||"",onChange:t=>f(e.name,t.target.value),className:"w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"});case"number":return(0,x.jsx)("input",{type:"number",name:e.name,value:r,min:e.min||0,step:e.step||1,onChange:t=>f(e.name,parseFloat(t.target.value)),className:"w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"});case"select":return e.multiple?(0,x.jsx)("select",{name:e.name,multiple:!0,value:Array.isArray(r)?r:[],onChange:t=>{const n=Array.from(t.target.selectedOptions,(e=>e.value));f(e.name,n)},className:"w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:null===(t=e.options)||void 0===t?void 0:t.map((e=>(0,x.jsx)("option",{value:e,children:e},e)))}):(0,x.jsxs)("select",{name:e.name,value:r,onChange:t=>f(e.name,t.target.value),className:"w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,x.jsx)("option",{value:"",children:"Select..."}),null===(n=e.options)||void 0===n?void 0:n.map((e=>(0,x.jsx)("option",{value:e,children:e},e)))]});case"textarea":return(0,x.jsx)("textarea",{name:e.name,value:r,placeholder:e.placeholder||"",onChange:t=>f(e.name,t.target.value),className:"w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3});case"checkbox":return(0,x.jsxs)("div",{className:"flex items-center",children:[(0,x.jsx)("input",{type:"checkbox",name:e.name,id:e.name,checked:!!r,onChange:t=>f(e.name,t.target.checked),className:"h-4 w-4 text-blue-600 rounded"}),(0,x.jsx)("label",{htmlFor:e.name,className:"ml-2 text-sm text-gray-700",children:e.label})]});case"code":return(0,x.jsx)(ii,{value:r,onChange:t=>f(e.name,t),language:"json",height:"150px",placeholder:e.placeholder||""});case"color":return(0,x.jsx)("input",{type:"color",name:e.name,value:r,onChange:t=>f(e.name,t.target.value),className:"w-full h-10 border rounded-md px-1 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500"});default:return null}};return(0,x.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50",children:(0,x.jsxs)("div",{className:"bg-white rounded-lg shadow-xl p-6 max-w-md w-full",children:[(0,x.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,x.jsxs)("h3",{className:"text-lg font-semibold",children:["Edit ",d]}),(0,x.jsx)("button",{className:"text-gray-500 hover:text-gray-700",onClick:i,children:(0,x.jsx)("i",{className:"fas fa-times"})})]}),(0,x.jsx)("div",{className:"space-y-4",children:p.map((e=>(0,x.jsxs)("div",{className:"mb-4",children:[(0,x.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:e.label}),g(e)]},e.name)))}),(0,x.jsxs)("div",{className:"mt-6 flex justify-end space-x-2",children:[(0,x.jsx)("button",{className:"px-4 py-2 bg-gray-200 text-gray-700 rounded hover:bg-gray-300",onClick:i,children:"Cancel"}),(0,x.jsx)("button",{className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",onClick:()=>o(s),children:"Save Changes"})]})]})})},si=e=>{let{value:t,onChange:n,label:r,helpText:o}=e;const[i,s]=(0,a.useState)(!1),[l,c]=(0,a.useState)(t||"#3b82f6"),u=(0,a.useRef)(null);(0,a.useEffect)((()=>{const e=e=>{u.current&&!u.current.contains(e.target)&&s(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[]);const d=e=>{c(e),n(e),s(!1)};return(0,x.jsxs)("div",{className:"form-control-container",children:[r&&(0,x.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:r}),(0,x.jsxs)("div",{className:"color-picker-container",ref:u,children:[(0,x.jsxs)("div",{className:"color-picker-preview",onClick:()=>s(!i),children:[(0,x.jsx)("div",{className:"color-swatch",style:{backgroundColor:l}}),(0,x.jsx)("input",{type:"text",value:l,onChange:e=>{const t=e.target.value;c(t),n(t)},className:"color-input",onClick:e=>e.stopPropagation()})]}),i&&(0,x.jsxs)("div",{className:"color-picker-dropdown",children:[(0,x.jsx)("div",{className:"color-palette",children:["#ef4444","#f97316","#f59e0b","#eab308","#84cc16","#22c55e","#10b981","#14b8a6","#06b6d4","#0ea5e9","#3b82f6","#6366f1","#8b5cf6","#a855f7","#d946ef","#ec4899","#f43f5e","#64748b","#1e293b","#000000"].map((e=>(0,x.jsx)("div",{className:"color-option",style:{backgroundColor:e},onClick:()=>d(e)},e)))}),(0,x.jsx)("input",{type:"color",value:l,onChange:e=>d(e.target.value),className:"color-picker-input"})]})]}),o&&(0,x.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:o})]})},li=e=>{let{value:t,onChange:n,label:r,height:o="200px",placeholder:i='{\n  "key": "value"\n}',helpText:s}=e;const[l,c]=(0,a.useState)(""),[u,d]=(0,a.useState)(null);(0,a.useEffect)((()=>{try{const e="string"===typeof t?t:JSON.stringify(t,null,2);c(e),d(null)}catch(e){c(""),d("Invalid JSON value")}}),[]);return(0,x.jsxs)("div",{className:"form-control-container",children:[(0,x.jsx)(ii,{value:l,onChange:e=>{c(e);try{if(e.trim()){const t=JSON.parse(e);n(t),d(null)}else n({}),d(null)}catch(t){d("Invalid JSON: "+t.message)}},language:"json",height:o,placeholder:i,label:r}),u&&(0,x.jsx)("p",{className:"text-xs text-red-500 mt-1",children:u}),s&&!u&&(0,x.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:s})]})},ci=e=>{let{selectedNode:t,plugins:n,onUpdateConfig:r}=e;const o=Lo(),[i,s]=(0,a.useState)({}),[l,c]=(0,a.useState)({general:!0,inputs:!1,outputs:!1,config:!0,preview:!1,validation:!1}),[u,d]=(0,a.useState)({valid:!0,errors:[]}),[p,f]=(0,a.useState)(null),g=(0,a.useRef)(null);if((0,a.useEffect)((()=>{s(t&&t.config||{})}),[t]),!t)return(0,x.jsx)("div",{className:"properties-panel bg-white border-l border-gray-200 p-4 w-full h-full overflow-y-auto rounded-lg shadow-md",children:(0,x.jsxs)("div",{className:"text-center text-gray-500 py-8",children:[(0,x.jsx)("i",{className:"fas fa-arrow-left text-2xl mb-2"}),(0,x.jsx)("p",{children:"Select a node to view and edit its properties"}),(0,x.jsxs)("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg border border-blue-100 text-sm text-blue-800",children:[(0,x.jsx)("h3",{className:"font-medium mb-2",children:"Tips:"}),(0,x.jsxs)("ul",{className:"list-disc pl-5 space-y-1",children:[(0,x.jsx)("li",{children:"Click on any node in the canvas to edit its properties"}),(0,x.jsx)("li",{children:"Use the mouse wheel to zoom in/out"}),(0,x.jsx)("li",{children:"Hold middle mouse button or Alt+Left click to pan the canvas"}),(0,x.jsx)("li",{children:"Drag from output to input points to create connections"})]})]})]})});const m=(null===o||void 0===o?void 0:o.nodeTypes)||{},{title:h,configFields:y}=(e=>{if(!e)return{title:"Unknown",configFields:[]};const t={data_loader:{title:"Data Loader",configFields:[{name:"data_source",label:"Data Source",type:"text",placeholder:"Enter data source path or URL"},{name:"format",label:"Format",type:"select",options:["CSV","JSON","Parquet","SQL"]},{name:"connection_color",label:"Connection Color",type:"color"}]},data_transform:{title:"Data Transform",configFields:[{name:"transform_type",label:"Transform Type",type:"select",options:["Normalize","Standardize","One-Hot Encode","Missing Values"]},{name:"params",label:"Parameters",type:"textarea",placeholder:"Transform parameters in JSON format"}]},feature_engineering:{title:"Feature Engineering",configFields:[{name:"feature_methods",label:"Feature Methods",type:"select",multiple:!0,options:["PCA","Feature Selection","Aggregation","Custom"]},{name:"settings",label:"Settings",type:"json",placeholder:'{\n  "method": "pca",\n  "n_components": 5\n}'}]},train_model:{title:"Train Model",configFields:[{name:"model_type",label:"Model Type",type:"select",options:["Linear","Random Forest","Neural Network","SVM","Custom"]},{name:"hyperparams",label:"Hyperparameters",type:"json",placeholder:'{\n  "learning_rate": 0.01,\n  "max_depth": 5\n}'},{name:"custom_code",label:"Custom Code",type:"code",language:"python",height:"150px",placeholder:"# Custom model code\ndef train_model(X, y):\n    # Your code here\n    return model"},{name:"validation",label:"Use Validation",type:"checkbox"}]},evaluate:{title:"Evaluate",configFields:[{name:"metrics",label:"Metrics",type:"select",multiple:!0,options:["Accuracy","Precision","Recall","F1","ROC AUC","MSE"]}]},predict:{title:"Predict",configFields:[{name:"output_format",label:"Output Format",type:"select",options:["JSON","CSV","Database"]},{name:"batch_size",label:"Batch Size",type:"number",min:1,step:10}]},deploy_model:{title:"Deploy Model",configFields:[{name:"service_name",label:"Service Name",type:"text"},{name:"replicas",label:"Replicas",type:"number",min:1},{name:"environment",label:"Environment",type:"select",options:["Development","Staging","Production"]}]},monitoring:{title:"Monitoring",configFields:[{name:"alert_threshold",label:"Alert Threshold",type:"number"},{name:"metrics",label:"Metrics to Monitor",type:"select",multiple:!0,options:["Drift","Latency","Error Rate","Usage"]}]}};if(t[e])return t[e];const r=n.find((t=>t.id===e));return r&&r.__plugin_meta__?{title:r.__plugin_meta__.name||"Plugin",configFields:r.__plugin_meta__.configFields||[]}:{title:e,configFields:[]}})((null===t||void 0===t?void 0:t.type)||""),{inputs:b,outputs:v}=(e=>{if(!e)return{inputs:[],outputs:[]};if(m&&m[e])return m[e];return{"core.begin":{inputs:[],outputs:[{id:"trigger",name:"Trigger",type:"trigger",ui_properties:{position:"right-top"}},{id:"workflow_id",name:"Workflow ID",type:"string",ui_properties:{position:"right-center"}},{id:"timestamp",name:"Timestamp",type:"number",ui_properties:{position:"right-bottom"}}]},"core.end":{inputs:[{id:"trigger",name:"Trigger",type:"trigger",ui_properties:{position:"left-top"}},{id:"result",name:"Result",type:"any",ui_properties:{position:"left-center"}}],outputs:[{id:"workflow_id",name:"Workflow ID",type:"string",ui_properties:{position:"right-top"}},{id:"execution_time",name:"Execution Time",type:"number",ui_properties:{position:"right-center"}}]}}[e]||{inputs:[],outputs:[]}})((null===t||void 0===t?void 0:t.type)||""),w=(e,n)=>{const o={...i,[e]:n};s(o),N(e,n),null!==t&&void 0!==t&&t.id&&r(t.id,o)},N=(e,t)=>{const n=y.find((t=>t.name===e));if(!n)return;let r=!0,o="";if("number"===n.type)void 0!==n.min&&t<n.min&&(r=!1,o=`Value must be at least ${n.min}`);else if("text"===n.type||"textarea"===n.type){var i;""===t&&null!==(i=n.placeholder)&&void 0!==i&&i.includes("required")&&(r=!1,o="This field is required")}d((t=>{const n=[...t.errors],i=n.findIndex((t=>t.startsWith(`${e}:`)));if(r)i>=0&&n.splice(i,1);else{const t=`${e}: ${o}`;i>=0?n[i]=t:n.push(t)}return{valid:0===n.length,errors:n}}))},k=e=>{c((t=>({...t,[e]:!t[e]})))},S=e=>{var t,n;const r=void 0!==i[e.name]?i[e.name]:"";switch(e.type){case"text":return(0,x.jsx)("input",{type:"text",name:e.name,value:r,placeholder:e.placeholder||"",onChange:t=>w(e.name,t.target.value),className:"w-full border rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"});case"number":return(0,x.jsx)("input",{type:"number",name:e.name,value:r,min:e.min||0,step:e.step||1,onChange:t=>w(e.name,parseFloat(t.target.value)),className:"w-full border rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"});case"select":return e.multiple?(0,x.jsx)("select",{name:e.name,multiple:!0,value:Array.isArray(r)?r:[],onChange:t=>{const n=Array.from(t.target.selectedOptions,(e=>e.value));w(e.name,n)},className:"w-full border rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:null===(t=e.options)||void 0===t?void 0:t.map((e=>(0,x.jsx)("option",{value:e,children:e},e)))}):(0,x.jsxs)("select",{name:e.name,value:r,onChange:t=>w(e.name,t.target.value),className:"w-full border rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,x.jsx)("option",{value:"",children:"Select..."}),null===(n=e.options)||void 0===n?void 0:n.map((e=>(0,x.jsx)("option",{value:e,children:e},e)))]});case"textarea":return(0,x.jsx)("textarea",{name:e.name,value:r,placeholder:e.placeholder||"",onChange:t=>w(e.name,t.target.value),className:"w-full border rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3});case"checkbox":return(0,x.jsxs)("div",{className:"flex items-center",children:[(0,x.jsx)("input",{type:"checkbox",name:e.name,id:`prop-${e.name}`,checked:!!r,onChange:t=>w(e.name,t.target.checked),className:"h-4 w-4 text-blue-600 rounded"}),(0,x.jsx)("label",{htmlFor:`prop-${e.name}`,className:"ml-2 text-sm text-gray-700",children:e.label})]});case"code":return(0,x.jsx)(ii,{value:r,onChange:t=>w(e.name,t),language:e.language||"javascript",height:e.height||"200px",placeholder:e.placeholder||"// Enter code here",helpText:e.helpText});case"json":return(0,x.jsx)(li,{value:r,onChange:t=>w(e.name,t),height:e.height||"200px",placeholder:e.placeholder||"{}",helpText:e.helpText,label:e.label});case"color":return(0,x.jsx)(si,{value:r||"#3b82f6",onChange:t=>w(e.name,t),helpText:e.helpText});default:return null}},j=()=>{const e={timestamp:(new Date).toISOString(),sample:{output:null!==t&&void 0!==t&&t.type.includes("text")?"Sample text output":null!==t&&void 0!==t&&t.type.includes("number")?42:!(null===t||void 0===t||!t.type.includes("boolean"))||{data:"Sample object data"}}};f(e),c((e=>({...e,preview:!0})))};return(0,x.jsx)("div",{className:"properties-panel bg-white border-l border-gray-200 p-4 w-full h-full overflow-y-auto rounded-lg shadow-md",children:(0,x.jsxs)("form",{ref:g,onSubmit:e=>e.preventDefault(),children:[(0,x.jsxs)("div",{className:"flex justify-between items-center mb-4 pb-2 border-b",children:[(0,x.jsx)("h3",{className:"text-lg font-semibold",children:h}),(0,x.jsxs)("div",{className:"text-xs text-gray-500",children:["ID: ",(null===t||void 0===t?void 0:t.id)||"N/A"]})]}),(0,x.jsxs)("div",{className:"flex justify-between mb-4",children:[(0,x.jsxs)("button",{type:"button",className:"px-3 py-1 bg-blue-500 text-white text-sm rounded hover:bg-blue-600 transition-colors",onClick:j,children:[(0,x.jsx)("i",{className:"fas fa-eye mr-1"})," Preview"]}),(0,x.jsxs)("button",{type:"button",className:"px-3 py-1 bg-gray-200 text-gray-700 text-sm rounded hover:bg-gray-300 transition-colors",onClick:()=>{if(t){const e={};y.forEach((n=>{if(n.name in t.config)e[n.name]=t.config[n.name];else switch(n.type){case"text":case"textarea":e[n.name]="";break;case"number":e[n.name]=n.min||0;break;case"select":e[n.name]=n.multiple?[]:"";break;case"checkbox":e[n.name]=!1}})),s(e),r(t.id,e)}},children:[(0,x.jsx)("i",{className:"fas fa-undo mr-1"})," Reset"]})]}),!u.valid&&(0,x.jsxs)("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded text-red-600 text-sm",children:[(0,x.jsx)("div",{className:"font-medium mb-1",children:"Please fix the following errors:"}),(0,x.jsx)("ul",{className:"list-disc pl-5",children:u.errors.map(((e,t)=>(0,x.jsx)("li",{children:e},t)))})]}),(0,x.jsxs)("div",{className:"mb-4",children:[(0,x.jsxs)("div",{className:"flex justify-between items-center cursor-pointer py-2 border-b",onClick:()=>k("general"),children:[(0,x.jsx)("h4",{className:"font-medium text-gray-700",children:"General"}),(0,x.jsx)("i",{className:`fas fa-chevron-${l.general?"down":"right"} text-gray-500`})]}),l.general&&(0,x.jsxs)("div",{className:"py-2 space-y-3",children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Type"}),(0,x.jsx)("div",{className:"text-sm bg-gray-100 p-2 rounded",children:(null===t||void 0===t?void 0:t.type)||"N/A"})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Position"}),(0,x.jsxs)("div",{className:"text-sm bg-gray-100 p-2 rounded",children:["X: ",t?Math.round(t.x):"N/A",", Y: ",t?Math.round(t.y):"N/A"]})]})]})]}),(0,x.jsxs)("div",{className:"mb-4",children:[(0,x.jsxs)("div",{className:"flex justify-between items-center cursor-pointer py-2 border-b",onClick:()=>k("inputs"),children:[(0,x.jsx)("h4",{className:"font-medium text-gray-700",children:"Inputs"}),(0,x.jsxs)("div",{className:"flex items-center",children:[(0,x.jsx)("span",{className:"text-xs text-gray-500 mr-2",children:b.length}),(0,x.jsx)("i",{className:`fas fa-chevron-${l.inputs?"down":"right"} text-gray-500`})]})]}),l.inputs&&(0,x.jsx)("div",{className:"py-2",children:b.length>0?(0,x.jsx)("div",{className:"space-y-2",children:b.map((e=>(0,x.jsxs)("div",{className:"flex items-center p-2 bg-gray-50 rounded hover:bg-gray-100 transition-colors",children:[(0,x.jsx)("div",{className:"w-2 h-2 rounded-full bg-blue-500 mr-2"}),(0,x.jsxs)("div",{className:"flex-grow",children:[(0,x.jsx)("div",{className:"text-sm font-medium",children:e.name}),(0,x.jsx)("div",{className:`type-indicator ${e.type}`,children:e.type})]})]},e.id||e.name)))}):(0,x.jsx)("div",{className:"text-sm text-gray-500 italic",children:"No inputs"})})]}),(0,x.jsxs)("div",{className:"mb-4",children:[(0,x.jsxs)("div",{className:"flex justify-between items-center cursor-pointer py-2 border-b",onClick:()=>k("outputs"),children:[(0,x.jsx)("h4",{className:"font-medium text-gray-700",children:"Outputs"}),(0,x.jsxs)("div",{className:"flex items-center",children:[(0,x.jsx)("span",{className:"text-xs text-gray-500 mr-2",children:v.length}),(0,x.jsx)("i",{className:`fas fa-chevron-${l.outputs?"down":"right"} text-gray-500`})]})]}),l.outputs&&(0,x.jsx)("div",{className:"py-2",children:v.length>0?(0,x.jsx)("div",{className:"space-y-2",children:v.map((e=>(0,x.jsxs)("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded hover:bg-gray-100 transition-colors",children:[(0,x.jsxs)("div",{className:"flex-grow",children:[(0,x.jsx)("div",{className:"text-sm font-medium",children:e.name}),(0,x.jsx)("div",{className:`type-indicator ${e.type}`,children:e.type})]}),(0,x.jsx)("div",{className:"w-2 h-2 rounded-full bg-green-500 ml-2"})]},e.id||e.name)))}):(0,x.jsx)("div",{className:"text-sm text-gray-500 italic",children:"No outputs"})})]}),(0,x.jsxs)("div",{className:"mb-4",children:[(0,x.jsxs)("div",{className:"flex justify-between items-center cursor-pointer py-2 border-b",onClick:()=>k("config"),children:[(0,x.jsx)("h4",{className:"font-medium text-gray-700",children:"Configuration"}),(0,x.jsx)("i",{className:`fas fa-chevron-${l.config?"down":"right"} text-gray-500`})]}),l.config&&(0,x.jsx)("div",{className:"py-2 space-y-4",children:y.length>0?y.map((e=>(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:e.label}),S(e)]},e.name))):(0,x.jsx)("div",{className:"text-sm text-gray-500 italic",children:"No configuration options available"})})]}),(0,x.jsxs)("div",{className:"mb-4",children:[(0,x.jsxs)("div",{className:"flex justify-between items-center cursor-pointer py-2 border-b",onClick:()=>k("preview"),children:[(0,x.jsx)("h4",{className:"font-medium text-gray-700",children:"Preview"}),(0,x.jsx)("i",{className:`fas fa-chevron-${l.preview?"down":"right"} text-gray-500`})]}),l.preview&&(0,x.jsx)("div",{className:"py-2 space-y-3",children:p?(0,x.jsxs)("div",{children:[(0,x.jsxs)("div",{className:"text-xs text-gray-500 mb-1",children:["Generated at: ",p.timestamp]}),(0,x.jsx)("div",{className:"bg-gray-50 p-3 rounded border border-gray-200 text-sm",children:(0,x.jsx)("pre",{className:"whitespace-pre-wrap",children:JSON.stringify(p.sample,null,2)})}),(0,x.jsx)("div",{className:"mt-2 flex justify-end",children:(0,x.jsx)("button",{type:"button",className:"px-2 py-1 text-xs bg-blue-100 text-blue-700 rounded hover:bg-blue-200",onClick:j,children:"Refresh"})})]}):(0,x.jsxs)("div",{className:"text-center py-4",children:[(0,x.jsx)("p",{className:"text-gray-500 mb-2",children:"No preview available"}),(0,x.jsx)("button",{type:"button",className:"px-3 py-1 bg-blue-500 text-white text-sm rounded hover:bg-blue-600 transition-colors",onClick:j,children:"Generate Preview"})]})})]}),(0,x.jsxs)("div",{className:"mb-4",children:[(0,x.jsxs)("div",{className:"flex justify-between items-center cursor-pointer py-2 border-b",onClick:()=>k("validation"),children:[(0,x.jsx)("h4",{className:"font-medium text-gray-700",children:"Validation"}),(0,x.jsxs)("div",{className:"flex items-center",children:[(0,x.jsx)("span",{className:`w-2 h-2 rounded-full ${u.valid?"bg-green-500":"bg-red-500"} mr-2`}),(0,x.jsx)("i",{className:`fas fa-chevron-${l.validation?"down":"right"} text-gray-500`})]})]}),l.validation&&(0,x.jsx)("div",{className:"py-2",children:u.valid?(0,x.jsxs)("div",{className:"p-3 bg-green-50 text-green-700 rounded border border-green-200 text-sm",children:[(0,x.jsx)("i",{className:"fas fa-check-circle mr-1"})," All configuration values are valid"]}):(0,x.jsxs)("div",{className:"p-3 bg-red-50 text-red-600 rounded border border-red-200 text-sm",children:[(0,x.jsx)("div",{className:"font-medium mb-1",children:"Please fix the following errors:"}),(0,x.jsx)("ul",{className:"list-disc pl-5",children:u.errors.map(((e,t)=>(0,x.jsx)("li",{children:e},t)))})]})})]})]})})},ui=e=>{let{nodes:t,connections:n,executionId:r,isExecuting:o}=e;const[i,s]=(0,a.useState)({}),[l,c]=(0,a.useState)([]),[u,d]=(0,a.useState)([]),{subscribe:p,unsubscribe:f}=Zo();(0,a.useEffect)((()=>{if(!r||!o)return;const e=e=>{const{nodeId:t,status:n}=e;s((e=>({...e,[t]:{...e[t],...n}})))},t=e=>{const{sourceNodeId:t,targetNodeId:r,sourcePort:o,targetPort:i,value:a}=e,s=n.find((e=>e.from.nodeId===t&&e.to.nodeId===r&&e.from.port===o&&e.to.port===i));if(s){const e={connectionId:s.id,progress:0,data:a};c((t=>[...t,e]))}},i=e=>{d((t=>[...t,e]))};return p(`execution.${r}.node_status`,e),p(`execution.${r}.data_flow`,t),p(`execution.${r}.log`,i),()=>{f(`execution.${r}.node_status`,e),f(`execution.${r}.data_flow`,t),f(`execution.${r}.log`,i)}}),[r,o,n,p,f]),(0,a.useEffect)((()=>{if(!o||0===l.length)return;const e=setInterval((()=>{c((e=>e.map((e=>({...e,progress:e.progress+.02}))).filter((e=>e.progress<1))))}),50);return()=>clearInterval(e)}),[o,l]);return o?(0,x.jsxs)("div",{className:"execution-visualization-container",children:[t.map((e=>{const t=i[e.id]||{status:"pending"};let n="";switch(t.status){case"running":n="node-status-running";break;case"completed":n="node-status-completed";break;case"failed":n="node-status-failed";break;default:n="node-status-pending"}return(0,x.jsxs)("div",{className:`node-status-overlay ${n}`,style:{left:`${e.x}px`,top:`${e.y}px`,width:`${e.width||240}px`,height:`${e.height||100}px`},children:["running"===t.status&&(0,x.jsx)("div",{className:"node-status-spinner"}),"failed"===t.status&&(0,x.jsx)("div",{className:"node-status-error",children:(0,x.jsx)("i",{className:"fas fa-exclamation-triangle"})})]},`status-${e.id}`)})),l.map(((e,r)=>{const o=n.find((t=>t.id===e.connectionId));if(!o)return null;const i=t.find((e=>e.id===o.from.nodeId)),a=t.find((e=>e.id===o.to.nodeId));if(!i||!a)return null;const s=i.x+(i.width||240),l=i.y+(i.height||100)/2,c=a.x,u=a.y+(a.height||100)/2,d=s+(c-s)*e.progress,p=l+(u-l)*e.progress;return(0,x.jsx)("div",{className:"data-flow-particle",style:{left:`${d}px`,top:`${p}px`},title:JSON.stringify(e.data,null,2)},`flow-${r}`)}))]}):null};let di=function(e){return e.GENERAL="General",e.CANVAS="Canvas",e.NODES="Nodes",e.CONNECTIONS="Connections",e.EXECUTION="Execution",e.PANELS="Panels",e}({});const pi=e=>{const t=[];e.ctrlKey&&t.push("Ctrl"),e.shiftKey&&t.push("Shift"),e.altKey&&t.push("Alt"),e.metaKey&&t.push("\u2318");let n=e.key;return" "===n&&(n="Space"),"ArrowUp"===n&&(n="\u2191"),"ArrowDown"===n&&(n="\u2193"),"ArrowLeft"===n&&(n="\u2190"),"ArrowRight"===n&&(n="\u2192"),"Delete"===n&&(n="Del"),"Escape"===n&&(n="Esc"),t.push(n.toUpperCase()),t.join(" + ")},fi=(e,t)=>e.key.toLowerCase()===t.key.toLowerCase()&&!!e.ctrlKey===!!t.ctrlKey&&!!e.shiftKey===!!t.shiftKey&&!!e.altKey===!!t.altKey&&!!e.metaKey===!!t.metaKey,gi=e=>{let{shortcuts:t,onClose:n}=e;const r=t.reduce(((e,t)=>(e[t.category]||(e[t.category]=[]),e[t.category].push(t),e)),{});return(0,x.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,x.jsxs)("div",{className:"bg-white dark:bg-dark-800 rounded-lg shadow-xl max-w-4xl w-full max-h-[80vh] overflow-hidden flex flex-col",children:[(0,x.jsxs)("div",{className:"p-4 border-b border-gray-200 dark:border-dark-600 flex justify-between items-center",children:[(0,x.jsx)("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white",children:"Keyboard Shortcuts"}),(0,x.jsx)("button",{onClick:n,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:(0,x.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,x.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,x.jsx)("div",{className:"p-4 overflow-y-auto",children:(0,x.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Object.entries(r).map((e=>{let[t,n]=e;return(0,x.jsxs)("div",{className:"bg-gray-50 dark:bg-dark-700 rounded-lg p-4",children:[(0,x.jsx)("h3",{className:"text-lg font-medium text-gray-800 dark:text-white mb-3",children:t}),(0,x.jsx)("div",{className:"space-y-2",children:n.map((e=>(0,x.jsxs)("div",{className:"flex justify-between items-center",children:[(0,x.jsx)("span",{className:"text-gray-700 dark:text-gray-300",children:e.description}),(0,x.jsx)("kbd",{className:"px-2 py-1 bg-gray-200 dark:bg-dark-600 text-gray-800 dark:text-gray-200 rounded text-sm font-mono",children:pi(e)})]},e.id)))})]},t)}))})}),(0,x.jsx)("div",{className:"p-4 border-t border-gray-200 dark:border-dark-600 flex justify-end",children:(0,x.jsx)("button",{onClick:n,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 dark:bg-indigo-700 dark:hover:bg-indigo-800",children:"Close"})})]})})},mi={user:null,token:null,isAuthenticated:!1,isLoading:!1,error:null},hi=(0,a.createContext)(void 0),yi=e=>{let{children:t}=e;const n={authState:mi,login:async e=>{throw console.log("Mock login called with:",e),new Error("Mock login not implemented")},register:async e=>{throw console.log("Mock register called with:",e),new Error("Mock register not implemented")},logout:()=>{console.log("Mock logout called")},updateProfile:async e=>{throw console.log("Mock updateProfile called with:",e),new Error("Mock updateProfile not implemented")},changePassword:async(e,t)=>{throw console.log("Mock changePassword called with:",e,t),new Error("Mock changePassword not implemented")},hasRole:e=>!1};return(0,x.jsx)(hi.Provider,{value:n,children:t})},bi=()=>{const{isDemoMode:e,toggleDemoMode:t,resetDemo:n}=S();return(0,x.jsxs)("div",{className:"fixed top-4 right-4 z-50 flex items-center space-x-2",children:[(0,x.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-2 flex items-center space-x-3",children:[(0,x.jsxs)("div",{className:"flex items-center",children:[(0,x.jsx)("label",{htmlFor:"demo-toggle",className:"mr-2 text-sm font-medium text-gray-700",children:"Demo Mode"}),(0,x.jsxs)("div",{className:"relative inline-block w-12 h-6 transition duration-200 ease-in-out rounded-full",children:[(0,x.jsx)("input",{id:"demo-toggle",type:"checkbox",className:"absolute w-6 h-6 transition duration-200 ease-in-out transform bg-white border-2 rounded-full appearance-none cursor-pointer border-gray-300 checked:translate-x-6 checked:border-blue-500 peer",checked:e,onChange:t}),(0,x.jsx)("label",{htmlFor:"demo-toggle",className:"block w-full h-full rounded-full cursor-pointer bg-gray-300 peer-checked:bg-blue-500"})]})]}),e&&(0,x.jsx)("button",{className:"px-2 py-1 text-xs text-white bg-blue-500 rounded hover:bg-blue-600",onClick:n,children:"Reset Demo"})]}),e&&(0,x.jsx)("div",{className:"bg-yellow-100 text-yellow-800 px-3 py-1 rounded-full text-xs font-medium animate-pulse",children:"Demo Mode Active"})]})},xi=()=>{const{isDemoMode:e}=S(),[t,n]=(0,a.useState)(!1),[r,o]=(0,a.useState)(!1);(0,a.useEffect)((()=>{e&&!localStorage.getItem("demoWelcomeModalDismissed")?n(!0):n(!1)}),[e]);const i=()=>{n(!1),r&&localStorage.setItem("demoWelcomeModalDismissed","true")};return t?(0,x.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:(0,x.jsx)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:(0,x.jsxs)("div",{className:"p-6",children:[(0,x.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,x.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Welcome to the Workflow Builder Demo!"}),(0,x.jsx)("button",{className:"text-gray-500 hover:text-gray-700",onClick:i,children:(0,x.jsx)("i",{className:"fas fa-times"})})]}),(0,x.jsxs)("div",{className:"prose max-w-none",children:[(0,x.jsx)("p",{className:"text-gray-600",children:"This is a standalone demo of our Workflow Builder UI. You can explore the interface and functionality without needing to set up a backend server."}),(0,x.jsx)("h3",{className:"text-lg font-semibold mt-4",children:"What you can do in this demo:"}),(0,x.jsxs)("ul",{className:"list-disc pl-5 space-y-2",children:[(0,x.jsx)("li",{children:"Drag and drop nodes from the library onto the canvas"}),(0,x.jsx)("li",{children:"Connect nodes by dragging from output to input points"}),(0,x.jsx)("li",{children:"Configure node properties by clicking on them"}),(0,x.jsx)("li",{children:"Pan the canvas by clicking and dragging (or Alt+Click)"}),(0,x.jsx)("li",{children:"Zoom in/out using the mouse wheel"}),(0,x.jsx)("li",{children:'Center the view with the "C" key or center button'}),(0,x.jsx)("li",{children:'Search for nodes with Ctrl+F or "/" key'}),(0,x.jsx)("li",{children:"Use the minimap for navigation (toggle with Alt+M)"}),(0,x.jsx)("li",{children:"Right-click on the canvas for quick actions"}),(0,x.jsx)("li",{children:"Execute the workflow to see simulated results"})]}),(0,x.jsx)("h3",{className:"text-lg font-semibold mt-4",children:"Keyboard Shortcuts:"}),(0,x.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("kbd",{className:"px-2 py-1 bg-gray-100 rounded",children:"Scroll"})," Zoom in/out"]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("kbd",{className:"px-2 py-1 bg-gray-100 rounded",children:"Alt+Click"})," Pan canvas"]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("kbd",{className:"px-2 py-1 bg-gray-100 rounded",children:"C"})," Center view"]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("kbd",{className:"px-2 py-1 bg-gray-100 rounded",children:"Ctrl+F"})," Search nodes"]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("kbd",{className:"px-2 py-1 bg-gray-100 rounded",children:"Alt+M"})," Toggle minimap"]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("kbd",{className:"px-2 py-1 bg-gray-100 rounded",children:"Right-Click"})," Context menu"]})]}),(0,x.jsxs)("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg border border-blue-100",children:[(0,x.jsx)("h3",{className:"text-blue-800 font-medium",children:"We'd love your feedback!"}),(0,x.jsx)("p",{className:"text-blue-700 text-sm",children:"This is a work in progress. Please try out the interface and let us know what you think. Your feedback will help us improve the workflow builder experience."})]})]}),(0,x.jsxs)("div",{className:"mt-6 flex items-center justify-between",children:[(0,x.jsxs)("label",{className:"flex items-center text-sm text-gray-600",children:[(0,x.jsx)("input",{type:"checkbox",className:"mr-2",checked:r,onChange:e=>o(e.target.checked)}),"Don't show this again"]}),(0,x.jsx)("button",{className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",onClick:i,children:"Get Started"})]})]})})}):null},vi=e=>{let{onClose:t}=e;const{executeDemoWorkflow:n,isExecuting:r,executionResults:o}=S(),[i,s]=(0,a.useState)("results");return(0,x.jsx)("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black bg-opacity-50",children:(0,x.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl h-[80vh] flex flex-col",children:[(0,x.jsxs)("div",{className:"p-4 border-b border-gray-200 flex justify-between items-center",children:[(0,x.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"Workflow Execution"}),(0,x.jsx)("button",{className:"text-gray-500 hover:text-gray-700",onClick:t,children:(0,x.jsx)("i",{className:"fas fa-times"})})]}),(0,x.jsxs)("div",{className:"flex border-b border-gray-200",children:[(0,x.jsx)("button",{className:"px-4 py-2 font-medium "+("results"===i?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-800"),onClick:()=>s("results"),children:"Results"}),(0,x.jsx)("button",{className:"px-4 py-2 font-medium "+("logs"===i?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-800"),onClick:()=>s("logs"),children:"Logs"})]}),(0,x.jsx)("div",{className:"flex-grow overflow-auto p-4",children:r?(0,x.jsxs)("div",{className:"h-full flex flex-col items-center justify-center",children:[(0,x.jsx)("div",{className:"w-16 h-16 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin"}),(0,x.jsx)("p",{className:"mt-4 text-gray-600",children:"Executing workflow..."})]}):o?"results"===i?(0,x.jsxs)("div",{className:"space-y-4",children:[(0,x.jsx)("h3",{className:"text-lg font-medium text-gray-800",children:"Node Outputs"}),Object.entries(o.results.node_outputs).map((e=>{let[t,n]=e;return(0,x.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,x.jsxs)("div",{className:"font-medium text-gray-700 mb-2",children:["Node: ",t]}),(0,x.jsx)("pre",{className:"bg-gray-50 p-3 rounded text-sm overflow-auto max-h-40",children:JSON.stringify(n,null,2)})]},t)}))]}):(0,x.jsxs)("div",{className:"space-y-4",children:[(0,x.jsx)("h3",{className:"text-lg font-medium text-gray-800",children:"Execution Logs"}),(0,x.jsx)("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:(0,x.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,x.jsx)("thead",{className:"bg-gray-50",children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Timestamp"}),(0,x.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Node"}),(0,x.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Message"})]})}),(0,x.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:o.results.log.map(((e,t)=>(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.timestamp).toLocaleTimeString()}),(0,x.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.node}),(0,x.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.message})]},t)))})]})})]}):(0,x.jsxs)("div",{className:"h-full flex flex-col items-center justify-center text-gray-500",children:[(0,x.jsx)("i",{className:"fas fa-play-circle text-5xl mb-4"}),(0,x.jsx)("p",{children:'Click "Execute Workflow" to see results'})]})}),(0,x.jsxs)("div",{className:"p-4 border-t border-gray-200 flex justify-end",children:[(0,x.jsx)("button",{className:"px-4 py-2 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 mr-2",onClick:t,children:"Close"}),(0,x.jsx)("button",{className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 flex items-center",onClick:async()=>{try{await n()}catch(e){console.error("Error executing workflow:",e)}},disabled:r,children:r?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("i",{className:"fas fa-spinner fa-spin mr-2"})," Executing..."]}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("i",{className:"fas fa-play mr-2"})," Execute Workflow"]})})]})]})})},wi=()=>{const[e,t]=(0,a.useState)(!1),[n,r]=(0,a.useState)(""),[o,i]=(0,a.useState)(""),[s,l]=(0,a.useState)(null),[c,u]=(0,a.useState)(!1),[d,p]=(0,a.useState)(!1);return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("button",{className:"fixed bottom-4 right-4 z-40 bg-blue-600 text-white rounded-full p-3 shadow-lg hover:bg-blue-700 transition-all duration-200 flex items-center",onClick:()=>t(!0),children:[(0,x.jsx)("i",{className:"fas fa-comment-alt mr-2"}),(0,x.jsx)("span",{children:"Feedback"})]}),e&&(0,x.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:(0,x.jsx)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:(0,x.jsxs)("div",{className:"p-6",children:[(0,x.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,x.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"Share Your Feedback"}),(0,x.jsx)("button",{className:"text-gray-500 hover:text-gray-700",onClick:()=>t(!1),children:(0,x.jsx)("i",{className:"fas fa-times"})})]}),c?(0,x.jsxs)("div",{className:"text-center py-8",children:[(0,x.jsx)("div",{className:"w-16 h-16 bg-green-100 text-green-600 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,x.jsx)("i",{className:"fas fa-check text-2xl"})}),(0,x.jsx)("h3",{className:"text-xl font-medium text-gray-800 mb-2",children:"Thank You!"}),(0,x.jsx)("p",{className:"text-gray-600",children:"Your feedback has been submitted successfully."})]}):(0,x.jsxs)("form",{onSubmit:e=>{e.preventDefault(),p(!0),setTimeout((()=>{console.log("Feedback submitted:",{rating:s,feedback:n,email:o}),u(!0),p(!1),setTimeout((()=>{t(!1),r(""),i(""),l(null),u(!1)}),3e3)}),1e3)},children:[(0,x.jsxs)("div",{className:"mb-6",children:[(0,x.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"How would you rate your experience?"}),(0,x.jsx)("div",{className:"flex justify-center space-x-2",children:[1,2,3,4,5].map((e=>(0,x.jsx)("button",{type:"button",className:"w-10 h-10 rounded-full flex items-center justify-center "+(s===e?"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"),onClick:()=>l(e),children:e},e)))})]}),(0,x.jsxs)("div",{className:"mb-4",children:[(0,x.jsx)("label",{className:"block text-gray-700 font-medium mb-2",htmlFor:"feedback",children:"What do you think of the workflow builder?"}),(0,x.jsx)("textarea",{id:"feedback",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:4,placeholder:"Share your thoughts, suggestions, or report issues...",value:n,onChange:e=>r(e.target.value),required:!0})]}),(0,x.jsxs)("div",{className:"mb-6",children:[(0,x.jsx)("label",{className:"block text-gray-700 font-medium mb-2",htmlFor:"email",children:"Email (optional)"}),(0,x.jsx)("input",{type:"email",id:"email",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"your@email.com",value:o,onChange:e=>i(e.target.value)}),(0,x.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"We'll only use this to follow up on your feedback if needed."})]}),(0,x.jsxs)("div",{className:"flex justify-end",children:[(0,x.jsx)("button",{type:"button",className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 mr-2",onClick:()=>t(!1),children:"Cancel"}),(0,x.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 flex items-center",disabled:!n||null===s||d,children:d?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("i",{className:"fas fa-spinner fa-spin mr-2"})," Submitting..."]}):"Submit Feedback"})]})]})]})})})]})},Ni={nodes:[],connections:[],currentNodeId:0,selectedNode:null,selectedConnection:null,draggedNode:null,isExecuting:!1,lines:[],currentWorkflow:{id:null,name:"Untitled Workflow",nodes:[],connections:[]},tempConnection:null,zoom:{level:1,min:.5,max:2,step:.1},history:{past:[],future:[]},connectionStyle:"fluid",validationErrors:[]},ki=()=>{const[e,t]=(0,a.useState)(!1),n=(0,a.useRef)(!0),r={isDemoMode:!1,demoNodes:[],demoConnections:[],demoPlugins:[],updateDemoNodes:e=>{},updateDemoConnections:e=>{},executeDemoWorkflow:async()=>({}),isExecuting:!1,executionResults:null,toggleDemoMode:()=>{},resetDemo:()=>{}},o=(()=>{try{return S()}catch(e){return console.warn("DemoModeProvider not available, using fallback values"),r}})();n.current=o!==r;const{isDemoMode:i,demoNodes:s,demoConnections:l,demoPlugins:c,updateDemoNodes:u,updateDemoConnections:d,executeDemoWorkflow:p,isExecuting:f,executionResults:g}=o;let m=new Map,h={},y=!1,b=null,v=async()=>!0;try{const e=yo();m=e.nodes,h=e.nodesByCategory,y=e.loading,b=e.error,v=e.refreshNodes}catch(se){console.warn("NodeDiscoveryProvider not available, using fallback values")}const[w,N]=(0,a.useState)(Ni),[k,j]=(0,a.useState)([]),[E,C]=(0,a.useState)(!1),[_,T]=(0,a.useState)(!1),[O,D]=(0,a.useState)(!0),[I,P]=(0,a.useState)(!0),[R,A]=(0,a.useState)(!1),[L,M]=(0,a.useState)(!1),[F,z]=(0,a.useState)({isActive:!1,executionId:null}),[$,U]=(0,a.useState)(!1),[B,W]=(0,a.useState)(!1),[H,V]=(0,a.useState)(0);Er.WEBSOCKETS_ENABLED=!1;const q=()=>{w.nodes.length>0?window.confirm("Are you sure you want to create a new workflow? Any unsaved changes will be lost.")&&N({...Ni,history:{past:[],future:[]}}):N({...Ni,history:{past:[],future:[]}})},K=()=>{if(0===w.history.past.length)return;const e=w.history.past[w.history.past.length-1],t=w.history.past.slice(0,w.history.past.length-1);N({...e,history:{past:t,future:[w,...w.history.future]}})},X=()=>{if(0===w.history.future.length)return;const e=w.history.future[0],t=w.history.future.slice(1);N({...e,history:{past:[...w.history.past,w],future:t}})},Y=(G={newWorkflow:q,saveWorkflow:()=>console.log("Save workflow"),openWorkflow:()=>console.log("Open workflow"),undo:K,redo:X,showShortcuts:()=>U(!0),zoomIn:()=>{N((e=>({...e,zoom:{...e.zoom,level:Math.min(e.zoom.level+e.zoom.step,e.zoom.max)}})))},zoomOut:()=>{N((e=>({...e,zoom:{...e.zoom,level:Math.max(e.zoom.level-e.zoom.step,e.zoom.min)}})))},zoomReset:()=>{N((e=>({...e,zoom:{...e.zoom,level:1}})))},panUp:()=>console.log("Pan up"),panDown:()=>console.log("Pan down"),panLeft:()=>console.log("Pan left"),panRight:()=>console.log("Pan right"),deleteSelected:()=>{w.selectedNode?Z(w.selectedNode):w.selectedConnection&&ee(w.selectedConnection)},duplicateNode:()=>{if(w.selectedNode){const e=w.nodes.find((e=>e.id===w.selectedNode));if(e){const t=Q(e.type,e.x+50,e.y+50);w.nodes.find((e=>e.id===t))&&te(t,{...e.config})}}},selectAllNodes:()=>{console.log("Select all nodes")},deselectAll:()=>{J(null)},editNode:()=>{w.selectedNode&&ie(w.selectedNode)},executeWorkflow:()=>T(!0),stopExecution:()=>console.log("Stop execution"),toggleNodeLibrary:()=>A(!R),togglePropertiesPanel:()=>M(!L),toggleAllPanels:()=>{A(!R),M(!L)},maximizeCanvas:()=>{A(!0),M(!0)},restorePanels:()=>{A(!1),M(!1)}},[{id:"new-workflow",key:"n",ctrlKey:!0,description:"Create a new workflow",category:di.GENERAL,action:G.newWorkflow||(()=>{})},{id:"save-workflow",key:"s",ctrlKey:!0,description:"Save workflow",category:di.GENERAL,action:G.saveWorkflow||(()=>{})},{id:"open-workflow",key:"o",ctrlKey:!0,description:"Open workflow",category:di.GENERAL,action:G.openWorkflow||(()=>{})},{id:"undo",key:"z",ctrlKey:!0,description:"Undo",category:di.GENERAL,action:G.undo||(()=>{})},{id:"redo",key:"y",ctrlKey:!0,description:"Redo",category:di.GENERAL,action:G.redo||(()=>{})},{id:"help",key:"?",description:"Show keyboard shortcuts",category:di.GENERAL,action:G.showShortcuts||(()=>{})},{id:"zoom-in",key:"=",ctrlKey:!0,description:"Zoom in",category:di.CANVAS,action:G.zoomIn||(()=>{})},{id:"zoom-out",key:"-",ctrlKey:!0,description:"Zoom out",category:di.CANVAS,action:G.zoomOut||(()=>{})},{id:"zoom-reset",key:"0",ctrlKey:!0,description:"Reset zoom",category:di.CANVAS,action:G.zoomReset||(()=>{})},{id:"pan-up",key:"ArrowUp",description:"Pan up",category:di.CANVAS,action:G.panUp||(()=>{})},{id:"pan-down",key:"ArrowDown",description:"Pan down",category:di.CANVAS,action:G.panDown||(()=>{})},{id:"pan-left",key:"ArrowLeft",description:"Pan left",category:di.CANVAS,action:G.panLeft||(()=>{})},{id:"pan-right",key:"ArrowRight",description:"Pan right",category:di.CANVAS,action:G.panRight||(()=>{})},{id:"delete-selected",key:"Delete",description:"Delete selected node or connection",category:di.NODES,action:G.deleteSelected||(()=>{})},{id:"duplicate-node",key:"d",ctrlKey:!0,description:"Duplicate selected node",category:di.NODES,action:G.duplicateNode||(()=>{})},{id:"select-all-nodes",key:"a",ctrlKey:!0,description:"Select all nodes",category:di.NODES,action:G.selectAllNodes||(()=>{})},{id:"deselect-all",key:"Escape",description:"Deselect all",category:di.NODES,action:G.deselectAll||(()=>{})},{id:"edit-node",key:"e",description:"Edit selected node",category:di.NODES,action:G.editNode||(()=>{})},{id:"execute-workflow",key:"F5",description:"Execute workflow",category:di.EXECUTION,action:G.executeWorkflow||(()=>{})},{id:"stop-execution",key:"F6",description:"Stop execution",category:di.EXECUTION,action:G.stopExecution||(()=>{})},{id:"toggle-node-library",key:"1",altKey:!0,description:"Toggle Node Library panel",category:di.PANELS,action:G.toggleNodeLibrary||(()=>{})},{id:"toggle-properties-panel",key:"2",altKey:!0,description:"Toggle Properties panel",category:di.PANELS,action:G.togglePropertiesPanel||(()=>{})},{id:"toggle-all-panels",key:"`",description:"Toggle all panels",category:di.PANELS,action:G.toggleAllPanels||(()=>{})},{id:"maximize-canvas",key:"F11",description:"Maximize canvas (hide all panels)",category:di.PANELS,action:G.maximizeCanvas||(()=>{})},{id:"restore-panels",key:"Escape",altKey:!0,description:"Restore all panels",category:di.PANELS,action:G.restorePanels||(()=>{})}]);var G;(e=>{const t=(0,a.useCallback)((t=>{if(!(t.target instanceof HTMLInputElement||t.target instanceof HTMLTextAreaElement||t.target instanceof HTMLSelectElement))for(const n of e)if(fi(t,n)){t.preventDefault(),n.action();break}}),[e]);(0,a.useEffect)((()=>(document.addEventListener("keydown",t),()=>{document.removeEventListener("keydown",t)})),[t])})(Y),(0,a.useEffect)((()=>{(async()=>{try{if(i)j(c),N((e=>({...e,nodes:s,connections:l,currentWorkflow:{...e.currentWorkflow,nodes:s,connections:l}}))),V(c.length),W(!0),setTimeout((()=>{W(!1)}),5e3);else{try{await v()}catch(se){console.warn("Failed to refresh nodes:",se)}const e=await Tr();if(Array.isArray(e))j(e);else if(e&&"object"===typeof e){const t=e.plugins||[];j(t)}else j([]);const t=m.size;t>0&&(V(t),W(!0),setTimeout((()=>{W(!1)}),5e3))}}catch(se){console.error("Failed to load plugins:",se)}})()}),[i,s,l,c]);const Q=(e,t,n)=>{const r=`node-${w.currentNodeId}`,o={id:r,type:e,x:t,y:n,config:{}},a={...w,nodes:[...w.nodes,o],currentNodeId:w.currentNodeId+1,currentWorkflow:{...w.currentWorkflow,nodes:[...w.currentWorkflow.nodes,o]},history:{past:[...w.history.past,w],future:[]}};return N(a),i&&u(a.nodes),r},J=e=>{N((t=>({...t,selectedNode:e,selectedConnection:null})))},Z=e=>{const t=w.connections.filter((t=>t.from.nodeId!==e&&t.to.nodeId!==e)),n={...w,nodes:w.nodes.filter((t=>t.id!==e)),connections:t,selectedNode:null,currentWorkflow:{...w.currentWorkflow,nodes:w.currentWorkflow.nodes.filter((t=>t.id!==e)),connections:t},history:{past:[...w.history.past,w],future:[]}};N(n),i&&(u(n.nodes),d(n.connections))},ee=e=>{const t={...w,connections:w.connections.filter((t=>t.id!==e)),selectedConnection:null,currentWorkflow:{...w.currentWorkflow,connections:w.currentWorkflow.connections.filter((t=>t.id!==e))},history:{past:[...w.history.past,w],future:[]}};N(t),i&&d(t.connections)},te=(e,t)=>{const n=w.nodes.map((n=>n.id===e?{...n,config:t}:n)),r={...w,nodes:n,currentWorkflow:{...w.currentWorkflow,nodes:w.currentWorkflow.nodes.map((n=>n.id===e?{...n,config:t}:n))},history:{past:[...w.history.past,w],future:[]}};N(r),i&&u(n)},ne=(0,a.useRef)(0),re=(0,a.useRef)(!0),oe=(0,a.useRef)(null),ie=e=>{J(e),C(!0)},ae=()=>{if(window.confirm("Are you sure you want to clear the canvas? This action cannot be undone.")){const e={...Ni,history:{past:[],future:[]}};N(e),i&&(u([]),d([]))}};return(0,x.jsx)(yi,{children:(0,x.jsx)(Jo,{children:(0,x.jsx)(Me,{backend:it,children:(0,x.jsxs)("div",{className:"container mx-auto relative",children:[n.current&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(bi,{}),(0,x.jsx)(xi,{}),i&&(0,x.jsx)(wi,{}),i&&e&&(0,x.jsx)(vi,{onClose:()=>t(!1)})]}),F.isActive&&(0,x.jsx)(ui,{nodes:w.nodes,connections:w.connections,executionId:F.executionId,isExecuting:F.isActive}),B&&(0,x.jsx)("div",{className:"fixed top-4 right-4 bg-green-100 border-l-4 border-green-500 text-green-700 p-4 rounded shadow-md z-50 animate-fade-in-out",children:(0,x.jsxs)("div",{className:"flex items-center",children:[(0,x.jsx)("div",{className:"py-1",children:(0,x.jsx)("svg",{className:"fill-current h-6 w-6 text-green-500 mr-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:(0,x.jsx)("path",{d:"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"})})}),(0,x.jsxs)("div",{children:[(0,x.jsx)("p",{className:"font-bold",children:"Plugins Loaded"}),(0,x.jsxs)("p",{className:"text-sm",children:[H," plugins are now available in the sidebar."]})]}),(0,x.jsx)("button",{onClick:()=>W(!1),className:"ml-4 text-green-700 hover:text-green-900",children:(0,x.jsx)("svg",{className:"h-4 w-4 fill-current",viewBox:"0 0 20 20",children:(0,x.jsx)("path",{d:"M10 8.586L2.929 1.515 1.515 2.929 8.586 10l-7.071 7.071 1.414 1.414L10 11.414l7.071 7.071 1.414-1.414L11.414 10l7.071-7.071-1.414-1.414L10 8.586z"})})})]})}),(0,x.jsx)(zr,{workflowName:w.currentWorkflow.name,onNewWorkflow:q,onClearCanvas:ae,onLoadTemplate:e=>{w.nodes.length>0?window.confirm("Are you sure you want to load this template? Any unsaved changes will be lost.")&&N({...Ni,nodes:e.nodes,connections:e.connections,currentWorkflow:{...e,id:null,name:`${e.name} Copy`},currentNodeId:Math.max(...e.nodes.map((e=>{const t=parseInt(e.id.replace("node-",""));return isNaN(t)?0:t})),0)+1,history:{past:[],future:[]}}):N({...Ni,nodes:e.nodes,connections:e.connections,currentWorkflow:{...e,id:null,name:`${e.name} Copy`},currentNodeId:Math.max(...e.nodes.map((e=>{const t=parseInt(e.id.replace("node-",""));return isNaN(t)?0:t})),0)+1,history:{past:[],future:[]}})},onShowShortcuts:()=>U(!0)}),(0,x.jsxs)("div",{className:"flex flex-col h-full",children:[(0,x.jsxs)("div",{className:"flex flex-row h-full gap-4",children:[(0,x.jsxs)("div",{className:"transition-all duration-300 ease-in-out bg-white rounded-lg shadow-md overflow-hidden flex flex-col "+(R?"w-12":"w-80"),children:[(0,x.jsxs)("div",{className:"flex justify-between items-center p-3 border-b border-gray-200 bg-gray-50",children:[!R&&(0,x.jsx)("h3",{className:"font-medium text-gray-700",children:"Node Library"}),(0,x.jsx)("button",{className:"text-gray-500 hover:text-blue-600 p-1 rounded hover:bg-blue-50 "+(R?"mx-auto":""),onClick:()=>A(!R),title:(R?"Expand":"Collapse")+" Node Library (Alt+1)",children:(0,x.jsx)("i",{className:"fas fa-chevron-"+(R?"right":"left")})})]}),!R&&(0,x.jsx)("div",{className:"flex-grow overflow-auto",children:O?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(vo,{onRefresh:v}),(0,x.jsx)("div",{className:"mt-4 text-center pb-4",children:(0,x.jsx)("button",{className:"text-xs text-blue-600 hover:text-blue-800",onClick:()=>D(!1),children:"Switch to legacy sidebar"})})]}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(so,{plugins:k}),(0,x.jsx)("div",{className:"mt-4 text-center pb-4",children:(0,x.jsx)("button",{className:"text-xs text-blue-600 hover:text-blue-800",onClick:()=>D(!0),children:"Switch to new node library"})})]})}),R&&(0,x.jsxs)("div",{className:"flex flex-col items-center py-4 space-y-6",children:[(0,x.jsx)("button",{className:"w-8 h-8 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center hover:bg-blue-200",title:"Control Flow Nodes",children:(0,x.jsx)("i",{className:"fas fa-project-diagram"})}),(0,x.jsx)("button",{className:"w-8 h-8 rounded-full bg-green-100 text-green-600 flex items-center justify-center hover:bg-green-200",title:"Data Nodes",children:(0,x.jsx)("i",{className:"fas fa-database"})}),(0,x.jsx)("button",{className:"w-8 h-8 rounded-full bg-purple-100 text-purple-600 flex items-center justify-center hover:bg-purple-200",title:"Text Nodes",children:(0,x.jsx)("i",{className:"fas fa-font"})}),(0,x.jsx)("button",{className:"w-8 h-8 rounded-full bg-yellow-100 text-yellow-600 flex items-center justify-center hover:bg-yellow-200",title:"Math Nodes",children:(0,x.jsx)("i",{className:"fas fa-calculator"})})]})]}),(0,x.jsxs)("div",{className:"flex-grow flex flex-col bg-white rounded-lg shadow-md overflow-hidden",children:[(0,x.jsxs)("div",{className:"border-b p-4 flex justify-between items-center bg-white z-10",children:[(0,x.jsx)("div",{className:"flex items-center",children:(0,x.jsx)("input",{type:"text",value:w.currentWorkflow.name,onChange:e=>N((t=>({...t,currentWorkflow:{...t.currentWorkflow,name:e.target.value}}))),className:"border-b border-dashed border-gray-300 bg-transparent px-2 py-1 font-medium text-lg focus:outline-none focus:border-blue-500"})}),(0,x.jsxs)("div",{className:"flex space-x-2",children:[(0,x.jsxs)("button",{className:"px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700 text-sm",onClick:()=>console.log("Save workflow"),children:[(0,x.jsx)("i",{className:"fas fa-save mr-1"})," Save"]}),(0,x.jsxs)("button",{className:"px-3 py-1 bg-green-600 text-white rounded hover:bg-green-700 text-sm",onClick:()=>{i?t(!0):T(!0)},children:[(0,x.jsx)("i",{className:"fas fa-play mr-1"})," Execute"]}),(0,x.jsxs)("button",{className:"px-3 py-1 bg-purple-600 text-white rounded hover:bg-purple-700 text-sm",onClick:()=>console.log("Export workflow"),children:[(0,x.jsx)("i",{className:"fas fa-file-export mr-1"})," Export"]}),(0,x.jsxs)("button",{className:"px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700 text-sm",onClick:ae,children:[(0,x.jsx)("i",{className:"fas fa-trash-alt mr-1"})," Clear"]}),(0,x.jsx)("div",{className:"border-l border-gray-300 mx-1"}),(0,x.jsxs)("button",{className:"px-3 py-1 bg-indigo-600 text-white rounded hover:bg-indigo-700 text-sm",onClick:()=>{A(!R),M(!L)},title:"Toggle Panels",children:[(0,x.jsx)("i",{className:`fas fa-${R?"expand":"compress"} mr-1`}),R?"Expand":"Collapse"," Panels",(0,x.jsx)("span",{className:"text-xs ml-1 opacity-70",children:"(` key)"})]}),(0,x.jsxs)("button",{className:`px-3 py-1 ${I?"bg-blue-600":"bg-gray-600"} text-white rounded hover:bg-blue-700 text-sm`,onClick:()=>P(!I),title:I?"Hide Properties Panel":"Show Properties Panel",children:[(0,x.jsx)("i",{className:"fas fa-sliders-h mr-1"})," Properties"]})]})]}),(0,x.jsx)("div",{className:"flex-grow flex overflow-hidden",children:(0,x.jsx)(Vo,{nodes:w.nodes,connections:w.connections,selectedNode:w.selectedNode,selectedConnection:w.selectedConnection,zoom:w.zoom,onAddNode:Q,onSelectNode:J,onDeleteNode:Z,onAddConnection:(e,t,n,r)=>{const o=`conn-${e}-${t}-${n}-${r}`;if(w.connections.some((o=>o.from.nodeId===e&&o.from.port===t&&o.to.nodeId===n&&o.to.port===r)))return null;const a={id:o,from:{nodeId:e,port:t},to:{nodeId:n,port:r}},s={...w,connections:[...w.connections,a],currentWorkflow:{...w.currentWorkflow,connections:[...w.currentWorkflow.connections,a]},history:{past:[...w.history.past,w],future:[]}};return N(s),i&&d(s.connections),o},onDeleteConnection:ee,onOpenNodeEditor:ie,onUndo:K,onRedo:X,onUpdateNodePosition:(e,t,n)=>{oe.current={nodeId:e,x:t,y:n},re.current=!1;const r=w.nodes.map((r=>r.id===e?{...r,x:t,y:n}:r));if(N((o=>({...o,nodes:r,currentWorkflow:{...o.currentWorkflow,nodes:o.currentWorkflow.nodes.map((r=>r.id===e?{...r,x:t,y:n}:r))}}))),i){const e=Date.now();e-ne.current>100&&(ne.current=e,u(r))}const o=Date.now();o-ne.current>500&&(ne.current=o,N((e=>({...e,history:{past:[...e.history.past,e],future:[]}})))),setTimeout((()=>{if(re.current=!0,oe.current&&re.current){const{nodeId:e,x:t,y:n}=oe.current;oe.current=null,N((e=>({...e,history:{past:[...e.history.past,e],future:[]}}))),i&&u(r)}}),100)},onUpdateNodeConfig:te})})]}),I&&(0,x.jsxs)("div",{className:`transition-all duration-300 ease-in-out bg-white rounded-lg shadow-md overflow-hidden flex flex-col ${L?"w-12":"w-96"} flex-shrink-0`,children:[(0,x.jsxs)("div",{className:"flex justify-between items-center p-3 border-b border-gray-200 bg-gray-50",children:[!L&&(0,x.jsx)("h3",{className:"font-medium text-gray-700",children:w.selectedNode?"Node Properties":"Properties"}),(0,x.jsx)("button",{className:"text-gray-500 hover:text-blue-600 p-1 rounded hover:bg-blue-50 "+(L?"mx-auto":""),onClick:()=>M(!L),title:(L?"Expand":"Collapse")+" Properties Panel (Alt+2)",children:(0,x.jsx)("i",{className:"fas fa-chevron-"+(L?"left":"right")})})]}),!L&&(0,x.jsx)("div",{className:"flex-grow overflow-auto",children:(0,x.jsx)(ci,{selectedNode:w.nodes.find((e=>e.id===w.selectedNode)),plugins:k,onUpdateConfig:te})}),L&&(0,x.jsx)("div",{className:"flex flex-col items-center py-4 space-y-6",children:w.selectedNode?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("button",{className:"w-8 h-8 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center hover:bg-blue-200",title:"Edit Node",onClick:()=>ie(w.selectedNode),children:(0,x.jsx)("i",{className:"fas fa-edit"})}),(0,x.jsx)("button",{className:"w-8 h-8 rounded-full bg-red-100 text-red-600 flex items-center justify-center hover:bg-red-200",title:"Delete Node",onClick:()=>Z(w.selectedNode),children:(0,x.jsx)("i",{className:"fas fa-trash"})})]}):(0,x.jsx)("div",{className:"text-gray-400 text-xs text-center px-2 rotate-90 whitespace-nowrap",children:"Select a node"})})]})]}),_&&(0,x.jsx)(ei,{workflow:w.currentWorkflow,nodes:w.nodes,connections:w.connections,onClose:()=>T(!1),onVisualizationChange:(e,t)=>{z({isActive:e,executionId:t})}})]}),E&&w.selectedNode&&(0,x.jsx)(ai,{nodeId:w.selectedNode,node:w.nodes.find((e=>e.id===w.selectedNode)),plugins:k,onSave:e=>{w.selectedNode&&te(w.selectedNode,e),C(!1)},onCancel:()=>C(!1)}),$&&(0,x.jsx)(gi,{shortcuts:Y,onClose:()=>U(!1)})]})})})})},Si=()=>{const e=!0===window.STANDALONE_DEMO,t=!0===window.FORCE_DEMO_MODE;return e||t?(0,x.jsx)(ki,{}):(0,x.jsx)(k,{children:(0,x.jsx)(ki,{})})},ji=()=>{const e="node-discovery-provider-"+Date.now(),t="node-types-provider-"+Date.now(),n=!0===window.STANDALONE_DEMO;return(0,a.useEffect)((()=>{const e=e=>{(e.ctrlKey||e.metaKey)&&"s"===e.key&&(e.preventDefault(),alert("In the standalone demo, workflows are not saved. You can take a screenshot or use the browser's save functionality to save this page."))};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)}),[]),(0,x.jsx)("div",{className:"App",children:(0,x.jsx)(k,{children:(0,x.jsx)(Jo,{children:(0,x.jsx)(fo,{children:(0,x.jsx)(Do,{children:(0,x.jsx)(oi,{children:(0,x.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[n&&(0,x.jsx)("div",{className:"bg-blue-50 p-2 text-center",children:(0,x.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,x.jsx)("strong",{children:"Standalone Demo Mode"})," - This demo runs entirely in your browser without a backend.",(0,x.jsx)("button",{className:"ml-2 px-2 py-0.5 bg-blue-100 text-blue-700 rounded hover:bg-blue-200 text-xs",onClick:()=>{alert('Tips for using the Workflow Builder Demo:\n\n1. Drag nodes from the left panel to the canvas\n2. Connect nodes by dragging from output to input points\n3. Configure nodes by clicking on them\n4. Use the mouse wheel to zoom in/out\n5. Press "C" to center the view\n6. Press "Ctrl+F" to search for nodes\n7. Right-click for context menu options')},children:"Show Tips"})]})}),(0,x.jsx)("header",{className:"bg-white shadow-sm",children:(0,x.jsxs)("div",{className:"max-w-7xl mx-auto py-4 px-4 sm:px-6 lg:px-8 flex justify-between items-center",children:[(0,x.jsxs)("div",{className:"flex items-center",children:[(0,x.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Workflow Builder Demo"}),(0,x.jsx)("span",{className:"ml-3 inline-flex items-center px-3 py-0.5 rounded-full text-sm font-medium bg-blue-100 text-blue-800",children:"Beta"})]}),(0,x.jsx)("div",{children:(0,x.jsx)("a",{href:"https://github.com/yourusername/workflow-builder",target:"_blank",rel:"noopener noreferrer",className:"text-gray-500 hover:text-gray-700",children:(0,x.jsx)("i",{className:"fab fa-github text-xl"})})})]})}),(0,x.jsx)("main",{children:(0,x.jsx)("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:(0,x.jsx)(Si,{})})}),(0,x.jsx)("footer",{className:"bg-white mt-8 py-4 border-t border-gray-200",children:(0,x.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,x.jsxs)("div",{className:"flex flex-col items-center space-y-2",children:[(0,x.jsx)("p",{className:"text-center text-sm text-gray-500",children:"This is a demo version of the Workflow Builder. No data is saved between sessions."}),n&&(0,x.jsxs)("div",{className:"flex space-x-4 mt-2",children:[(0,x.jsxs)("button",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded hover:bg-blue-200 text-xs",onClick:()=>{alert("Keyboard Shortcuts:\n\nScroll Wheel: Zoom in/out\nAlt+Click or Middle-Click: Pan canvas\nC: Center view\nCtrl+F or /: Search nodes\nAlt+M: Toggle minimap\nRight-Click: Context menu")},children:[(0,x.jsx)("i",{className:"fas fa-keyboard mr-1"})," Keyboard Shortcuts"]}),(0,x.jsxs)("button",{className:"px-3 py-1 bg-green-100 text-green-700 rounded hover:bg-green-200 text-xs",onClick:()=>{prompt("We'd love to hear your feedback about the Workflow Builder!\n\nWhat do you think? What features would you like to see?")&&alert("Thank you for your feedback! In a real implementation, this would be sent to our servers.")},children:[(0,x.jsx)("i",{className:"fas fa-comment mr-1"})," Send Feedback"]})]})]})})})]})})},t)},e)})})})};if(window.FORCE_DEMO_MODE=!0,window.STANDALONE_DEMO=!0,window.ENSURE_DEMO_MODE_PROVIDER=!0,"undefined"!==typeof window){const e=window;e.FEATURES?e.FEATURES={...e.FEATURES,WEBSOCKETS_ENABLED:!1,ENABLE_SCHEDULING:!1}:e.FEATURES={WEBSOCKETS_ENABLED:!1,ENABLE_SCHEDULING:!1,NODE_INSTANCES_ENABLED:!0,LAZY_LOADING_ENABLED:!0,ENABLE_TEMPLATES:!0,ENABLE_CACHING:!0,ENABLE_PARTIAL_EXECUTION:!0,ENABLE_TYPE_VALIDATION:!0,ENABLE_DARK_MODE:!0}}console.log("Using GitHub Pages entry point"),console.log("Demo mode enabled: standalone demo with no backend requirements");s.createRoot(document.getElementById("root")).render((0,x.jsx)(a.StrictMode,{children:(0,x.jsx)(k,{children:(0,x.jsx)(ji,{})})}))})();
//# sourceMappingURL=main.e7e1bdc8.js.map